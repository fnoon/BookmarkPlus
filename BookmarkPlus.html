<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>EmacsWiki: Bookmark Plus</title><link rel="alternate" type="application/wiki" title="Edit this page" href="https://www.emacswiki.org/emacs?action=edit;id=BookmarkPlus" /><link type="text/css" rel="stylesheet" href="https://www.emacswiki.org/light.css" /><meta name="robots" content="INDEX,FOLLOW" /><link rel="alternate" type="application/rss+xml" title="EmacsWiki" href="https://www.emacswiki.org/emacs?action=rss" /><link rel="alternate" type="application/rss+xml" title="EmacsWiki: BookmarkPlus" href="https://www.emacswiki.org/emacs?action=rss;rcidonly=BookmarkPlus" />
<link rel="alternate" type="application/rss+xml"
      title="Emacs Wiki with page content"
      href="https://www.emacswiki.org/full.rss" />
<link rel="alternate" type="application/rss+xml"
      title="Emacs Wiki with page content and diff"
      href="https://www.emacswiki.org/full-diff.rss" />
<link rel="alternate" type="application/rss+xml"
      title="Emacs Wiki including minor differences"
      href="https://www.emacswiki.org/minor-edits.rss" />
<link rel="alternate" type="application/rss+xml"
      title="Changes for BookmarkPlus only"
      href="https://www.emacswiki.org/emacs?action=rss;rcidonly=BookmarkPlus" /><meta content="width=device-width" name="viewport" />
<script type="text/javascript" src="/outliner.0.5.0.62-toc.js"></script>
<script type="text/javascript">

  function addOnloadEvent(fnc) {
    if ( typeof window.addEventListener != "undefined" )
      window.addEventListener( "load", fnc, false );
    else if ( typeof window.attachEvent != "undefined" ) {
      window.attachEvent( "onload", fnc );
    }
    else {
      if ( window.onload != null ) {
	var oldOnload = window.onload;
	window.onload = function ( e ) {
	  oldOnload( e );
	  window[fnc]();
	};
      }
      else
	window.onload = fnc;
    }
  }

  // https://stackoverflow.com/questions/280634/endswith-in-javascript
  if (typeof String.prototype.endsWith !== 'function') {
    String.prototype.endsWith = function(suffix) {
      return this.indexOf(suffix, this.length - suffix.length) !== -1;
    };
  }

  var initToc=function() {

    var outline = HTML5Outline(document.body);
    if (outline.sections.length == 1) {
      outline.sections = outline.sections[0].sections;
    }

    if (outline.sections.length > 1
	|| outline.sections.length == 1
           && outline.sections[0].sections.length > 0) {

      var toc = document.getElementById('toc');

      if (!toc) {
	var divs = document.getElementsByTagName('div');
	for (var i = 0; i < divs.length; i++) {
	  if (divs[i].getAttribute('class') == 'toc') {
	    toc = divs[i];
	    break;
	  }
	}
      }

      if (!toc) {
	var h2 = document.getElementsByTagName('h2')[0];
	if (h2) {
	  toc = document.createElement('div');
	  toc.setAttribute('class', 'toc');
	  h2.parentNode.insertBefore(toc, h2);
	}
      }

      if (toc) {
        var html = outline.asHTML(true);
        toc.innerHTML = html;

	items = toc.getElementsByTagName('a');
	for (var i = 0; i < items.length; i++) {
	  while (items[i].textContent.endsWith('âœŽ')) {
            var text = items[i].childNodes[0].nodeValue;
	    items[i].childNodes[0].nodeValue = text.substring(0, text.length - 1);
	  }
	}
      }
    }
  }

  addOnloadEvent(initToc);
  </script>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /></head><body class="default"><div class="header"><a class="logo" href="https://www.emacswiki.org/emacs/SiteMap"><img alt="[Home]" class="logo" src="https://www.emacswiki.org/images/logo218x38.png" /></a><div class="menu"><span class="gotobar bar"><a class="local" href="https://www.emacswiki.org/emacs/SiteMap">SiteMap</a> <a class="local" href="https://www.emacswiki.org/emacs/Search">Search</a> <a class="local" href="https://www.emacswiki.org/emacs/ElispArea">ElispArea</a> <a class="local" href="https://www.emacswiki.org/emacs/HowTo">HowTo</a> <a class="local" href="https://www.emacswiki.org/emacs/Glossary">Glossary</a> <a class="local" href="https://www.emacswiki.org/emacs/RecentChanges">RecentChanges</a> <a class="local" href="https://www.emacswiki.org/emacs/News">News</a> <a class="local" href="https://www.emacswiki.org/emacs/Problems">Problems</a> <a class="local" href="https://www.emacswiki.org/emacs/Suggestions">Suggestions</a> </span><form method="get" action="https://www.emacswiki.org/emacs" enctype="multipart/form-data" accept-charset="utf-8" class="search"><p><label for="search">Search:</label> <input type="text" name="search"  size="15" accesskey="f" id="search" /> <label for="searchlang">Language:</label> <input type="text" name="lang"  size="5" id="searchlang" /> <input type="submit" name="dosearch" value="Go!" /></p></form></div><h1><a href="https://www.emacswiki.org/emacs?search=%22BookmarkPlus%22" rel="nofollow" title="Click to search for references to this page"><span style="padding-right: 0.5ex;">Bookmark</span><span style="padding-right: 0.5ex;">Plus</span></a></h1></div><div class="wrapper"><div class="content browse"><p>This page is about package <strong><a class="definition" href="https://www.emacswiki.org/emacs?search=%22Bookmark%2b%22" name="Bookmark%2b" rel="nofollow" title="Click to search for references to this permanent anchor">Bookmark+</a></strong>, which enhances vanilla Emacs <a class="local" href="https://www.emacswiki.org/emacs/bookmark">bookmark</a>s in many ways. For background about Emacs bookmarks, see the following:</p><ul><li>Emacs manual, node <code>&#x2018;Bookmarks&#x2019;</code>: <a class="manual" href="https://www.emacswiki.org/info-ref?find=Bookmarks">Bookmarks</a></li><li><a class="local anchor" href="#BookmarkBasics">Bookmark Basics</a>, below</li><li><a class="local" href="https://www.emacswiki.org/emacs/BookMarks">Bookmarks</a></li></ul><p>The internal bookmark format (data structure) used by <strong>Bookmark+</strong> is compatible with that of vanilla <a class="local" href="https://www.emacswiki.org/emacs/GnuEmacs">GnuEmacs</a>. It extends that structure in new ways, to accommodate new bookmark types.</p><p>With <strong>Bookmark+</strong> you can use bookmarks that were created with any Emacs version in any other Emacs version. But see also <a class="local anchor" href="#Compatibility">Compatibility</a>, below.</p><p>To report <strong>Bookmark+</strong> bugs: Use <code>&#x2018;M-x customize-group bookmark-plus&#x2019;</code>. Then follow (e.g. click) the link <strong>Send Bug Report</strong>, which helps you prepare an email to me.</p><p><a class="anchor" name="Quick-Start"></a> </p><h2>Quick Start</h2><p>Some basic keys you can use anywhere:</p><ul><li>Bookmark the file you are editing: <code>&#x2018;C-x p m&#x2019;</code></li><li>Jump to a bookmark: <code>&#x2018;C-x j j&#x2019;</code></li><li>Tag a file (creates an autofile bookmark): `<code>C-x p t + a</code>&#x2019;</li><li>List/edit your bookmarks: <code>&#x2018;C-x r l&#x2019;</code></li></ul><p>Some keys you can use in your bookmarks list (from <code>&#x2018;C-x r l&#x2019;</code>):</p><ul><li>Add/remove some tags to/from a bookmark: `<code>T +</code>&#x2019;, <code>&#x2018;T -&#x2019;</code></li><li>Mark the bookmarks that have particular tags: `<code>T m +</code>&#x2019;. Hit <code>&#x2018;RET&#x2019;</code> to enter each tag you type, then hit <code>&#x2018;RET&#x2019;</code> with empty input when done.</li><li>Unmark all bookmarks: <code>&#x2018;M-DEL&#x2019;</code> (just like in Dired)</li><li>Toggle marked/unmarked bookmarks: <code>&#x2018;t&#x2019;</code></li><li><a class="local" href="https://www.emacswiki.org/emacs/Dired">Dired</a> the marked bookmarks: `<code>M-d &gt;</code>&#x2019;. Enter a name for the Dired buffer.</li></ul><p>Some keys you can use in <a class="local" href="https://www.emacswiki.org/emacs/DiredMode">DiredMode</a>:</p><ul><li>Bookmark the Dired directory, its current markings, etc.: <code>&#x2018;C-x r m&#x2019;</code></li><li>Bookmark each of the marked files: <code>&#x2018;M-b&#x2019;</code> (you need <strong><a class="local" href="https://www.emacswiki.org/emacs/Dired%2b">Dired+</a></strong> for this)</li></ul><p><a class="anchor" name="Libraries"></a> </p><h2>Bookmark+ Libraries</h2><p><strong>Bookmark+</strong> is composed of these libraries:</p><ul><li><tt><a class="local" href="https://www.emacswiki.org/emacs/bookmark%2b.el">bookmark+.el</a></tt> &#x2013; main (driver) library &#x2013; loads the rest</li><li><tt><a class="local" href="https://www.emacswiki.org/emacs/bookmark%2b-mac.el">bookmark+-mac.el</a></tt> &#x2013; Lisp macros</li><li><tt><a class="local" href="https://www.emacswiki.org/emacs/bookmark%2b-bmu.el">bookmark+-bmu.el</a></tt> &#x2013; code for the <code>&#x2018;*Bookmark List*&#x2019;</code> (<code>&#x2018;bookmark-bmenu-mode&#x2019;</code>)</li><li><tt><a class="local" href="https://www.emacswiki.org/emacs/bookmark%2b-1.el">bookmark+-1.el</a></tt> &#x2013; other required code (non-bmenu)</li><li><tt><a class="local" href="https://www.emacswiki.org/emacs/bookmark%2b-key.el">bookmark+-key.el</a></tt> &#x2013; key and menu bindings (non-bmenu)</li><li><tt><a class="local" href="https://www.emacswiki.org/emacs/bookmark%2b-lit.el">bookmark+-lit.el</a></tt> &#x2013; <em>optional</em> code for highlighting bookmark locations</li><li><tt><a class="local" href="https://www.emacswiki.org/emacs/bookmark%2b-doc.el">bookmark+-doc.el</a></tt> &#x2013; documentation (essentially the same as this wiki page)</li><li><tt><a class="local" href="https://www.emacswiki.org/emacs/bookmark%2b-chg.el">bookmark+-chg.el</a></tt> &#x2013; change log entries</li></ul><p>The main <strong>Bookmark+</strong> library is <code>bookmark+.el</code>. The other required libraries are <code>bookmark+-mac.el</code>, <code>bookmark+-bmu.el</code>, <code>bookmark+-1.el</code>, and <code>bookmark+-key.el</code>. If you want to be able to highlight bookmarks then you will also need library <code>bookmark+-lit.el</code>. I recommend that you byte-compile all of the libraries, after loading the source files (in particular, load <code>bookmark+-mac.el</code>).</p><p>Put the directory of these libraries in your <code>&#x2018;load-path&#x2019;</code> and add this to your <a class="local" href="https://www.emacswiki.org/emacs/init_file">init file</a>:</p><pre> (<span class="keyword">require</span> '<span class="constant">bookmark+</span>)</pre><p>That will load all of the <strong>Bookmark+</strong> libraries. If you do not care about bookmark highlighting then simply do not put <code>bookmark+-lit.el</code> in your <code>&#x2018;load-path&#x2019;</code>.</p><p>By default (see option <code>&#x2018;bmkp-crosshairs-flag&#x2019;</code>), when you visit a bookmark that has no <a class="local" href="https://www.emacswiki.org/emacs/region">region</a> it is highlighted temporarily using crosshairs, for easy recognition. (This temporary highlighting is independent of the highlighting provided by <code>bookmark+-lit.el</code>.)</p><p>For this optional crosshairs feature you also need library <tt><a class="local" href="https://www.emacswiki.org/emacs/crosshairs.el">crosshairs.el</a></tt>, which in turn requires libraries <tt><a class="local" href="https://www.emacswiki.org/emacs/col-highlight.el">col-highlight.el</a></tt>, <code>hl-line</code>, <tt><a class="local" href="https://www.emacswiki.org/emacs/hl-line%2b.el">hl-line+.el</a></tt>, and <tt><a class="local" href="https://www.emacswiki.org/emacs/vline.el">vline.el</a></tt>. Library <code>hl-line</code> comes with vanilla Emacs. You also need Emacs 22 or later for this feature.</p><p><a class="anchor" name="ObtainingBookmarkPlus"></a> </p><h3>Where to Obtain Bookmark+ Files</h3><p><strong>UPDATE, 2017-10:</strong></p><hr /><div class="color one level0"><p> <strong>Bookmark+</strong>, as well as my other libraries that are on <span>EmacsWiki</span>, used to be obtainable also from <a class="local" href="https://www.emacswiki.org/emacs/MELPA">MELPA</a>. You may still find some of them there, but they are likely <em>not up-to-date</em>.</p><p><a class="local" href="https://www.emacswiki.org/emacs/MELPA">MELPA</a> has decided to no longer accept Lisp libraries from <span>EmacsWiki</span>. This includes my libraries, even though these libraries are read-only (administrator lock on the wiki pages). Too bad. This means that you <em>must download <strong>Bookmark+</strong> and my other libraries only from Emacs Wiki. Sorry about that. I upload <strong>Bookmark+</strong> files only to the wiki.</em></p><p><a class="local" href="https://www.emacswiki.org/emacs/JonasBernoulli">JonasBernoulli</a> &#x2018;s <a class="local" href="https://www.emacswiki.org/emacs/GitHub">GitHub</a> mirror for <strong>Bookmark+</strong> is also apparently not being updated, or at least not frequently.</p><p>The <em>following information is therefore out-of-date</em>, though you might still be able to get an old version of <strong>Bookmark+</strong> these ways.</p></div><hr /><p>Besides the <span>EmacsWiki</span> <a class="local" href="https://www.emacswiki.org/emacs/ElispArea">ElispArea</a>, which always has the latest source files for <strong>Bookmark+</strong> you can the get <strong>Bookmark+</strong> files in the following ways:</p><ul><li>You can download <strong>Bookmark+</strong> from <a class="local" href="https://www.emacswiki.org/emacs/MELPA">MELPA</a>. If you use Emacs 24 or later, you can both download and install it from within Emacs, easily. To do that, you first need to add <code>&#x2018;melpa&#x2019;</code> to list <code>&#x2018;package-archives&#x2019;</code>. Then use <code>&#x2018;M-x list-packages&#x2019;</code> and click `bookmark+&#x2019; in the list of available packages. Use code like this to add <code>&#x2018;melpa&#x2019;</code> to the list of available archives:</li></ul><pre>       (<span class="keyword cl">when</span> (&gt; emacs-major-version 23)
        (<span class="keyword">require</span> '<span class="constant">package</span>)
        (package-initialize)
        (add-to-list 'package-archives 
                     '(<span class="string">"melpa"</span> . <span class="string">"http://melpa.milkbox.net/packages/"</span>)
                     'APPEND))</pre><ul><li><a class="local" href="https://www.emacswiki.org/emacs/JonasBernoulli">JonasBernoulli</a> has created a <strong>Bookmark+</strong> Git repository here: <a class="url http" href="https://github.com/emacsmirror/bookmark-plus">https://github.com/emacsmirror/bookmark-plus</a>. (Many other <span>EmacsWiki</span> libraries are also mirrored at the same Git hub &#x2013; see <a class="local" href="https://www.emacswiki.org/emacs/Git_repository">Git repository</a>.)</li></ul><p><a class="anchor" name="LoadOrder"></a> <a class="anchor" name="bookmark-default-file"></a> </p><h3>Bookmark+ Load Order and Option `bookmark-default-file'</h3><p>Standard option <strong><code>&#x2018;bookmark-default-file&#x2019;</code></strong> defines the default location of your bookmark file. <strong>Bookmark+</strong> does not change the value. You can change the value, of course, either by customizing it (recommended) or using Lisp code (including in your <a class="local" href="https://www.emacswiki.org/emacs/init_file">init file</a>).</p><p>However, the value of <code>&#x2018;bookmark-default-file&#x2019;</code> is used when you load <strong>Bookmark+</strong> to <em>initialize some other variables</em>, in particular option <strong><code>&#x2018;bmkp-last-as-first-bookmark-file&#x2019;</code></strong> and internal variable <strong><code>&#x2018;bmkp-current-bookmark-file&#x2019;</code></strong>.</p><p>This means that if you modify <code>&#x2018;bookmark-default-file&#x2019;</code> in your init file, and you want your new value to be take into account by <strong>Bookmark+</strong>, then modify it <em>before</em> you load <strong>Bookmark+</strong>.</p><p>Be aware also that another library that you load might, itself, load <strong>Bookmark+</strong>, in which case you will for the same reason want to load that library after you have modified <code>&#x2018;bookmark-default-file&#x2019;</code>. An example of this is <strong><a class="local" href="https://www.emacswiki.org/emacs/Icicles">Icicles</a></strong>, which loads <strong>Bookmark+</strong> if <strong>Bookmark+</strong> is in your <code>&#x2018;load-path&#x2019;</code>.</p><p>In general, with <strong>Bookmark+</strong> I recommend that you simply set option <code>&#x2018;bookmark-default-file&#x2019;</code> once and for all at the outset, preferably by customizing it. You can use <strong><code>&#x2018;bmkp-switch-bookmark-file-create&#x2019;</code></strong> at any time to switch to a different bookmark file - it is bound to <code>&#x2018;C-x p L&#x2019;</code>. You can also invoke it in your init file, provided <strong>Bookmark+</strong> has already been loaded.</p><p>See Also: <a class="local anchor" href="#UsingMultipleBookmarkFiles">Using Multiple Bookmark Files</a></p><p><a class="anchor" name="FeatureOverview"></a> </p><h2>Overview of Bookmark+ Features</h2><p>Here is an overview of some of the features that <strong>Bookmark+</strong> provides. Some of these are detailed further below.</p><p><a class="anchor" name="RichBookmarks"></a> </p><h3>Richer bookmarks.  They record more.  They are more accurate.</h3><ul><li>An optional bookmark annotation is user-supplied text that is saved as part of the bookmark. You can use any text you like, and you can use it for any purpose you like. In <strong>Bookmark+</strong>, the mode for viewing and editing a bookmark annotation is <a class="local" href="https://www.emacswiki.org/emacs/OrgMode">Org mode</a>, by default.</li><li>In addition, <strong>Bookmark+</strong> lets you optionally use a <em>separate file, URL, or bookmark to annotate</em> any bookmark. Accessing (&#x201c;showing&#x201d;) such an external annotation visits its destination. So for example, you can use bookmarks to one or more Org files to annotate one or more bookmarks. The annotation saved with the bookmark itself just specifies the destination. See <a class="local anchor" href="#BookmarkAnnotations">Bookmark Annotations</a>.</li><li>You can <em><a class="local anchor" href="#BookmarkTags">tag</a></em> bookmarks, a la <a class="url http outside" href="http://delicious.com">del.icio.us</a>. In effect, <strong><a class="definition" href="https://www.emacswiki.org/emacs?search=%22bookmark+tag%22" name="bookmark_tag" rel="nofollow" title="Click to search for references to this permanent anchor">bookmark tag</a>s</strong> define bookmark <em>sets</em>. A bookmark can have any number of tags, and multiple bookmarks can have the same tag. You can sort, show/hide, or mark bookmarks based on their tags.</li><li><strong>Bookmark+</strong> tags can be more than just names. They can be full-fledged user-defined <em><a class="local anchor" href="#TagsAsAttributes">attributes</a></em>, with <a class="local" href="https://www.emacswiki.org/emacs/EmacsLisp">EmacsLisp</a> objects as their values.</li><li>You can have multiple bookmarks with the same name. This is particularly useful for autofile bookmarks, which are bookmarks that have the same name as their target files. They give you the effect of using files themselves as bookmarks. In particular, they let you, in effect, tag files. See <a class="local anchor" href="#AutofileBookmarks">Autofile Bookmarks</a> and <a class="local anchor" href="#TaggingFiles">Tagging Files</a>. (In vanilla Emacs you can also, in theory, have multiple bookmarks with the same name. But you cannot really use them in any practical way. Vanilla Emacs cannot distinguish among them: the most recent one shadows all others with the same name.)</li><li>Bookmarks record the <em>number of times</em> you have visited them and the <em>time</em> of the last visit. You can sort, show/hide, or mark bookmarks based on this info.</li><li>You can <em>combine bookmarks</em>, to make composite, or <a class="local anchor" href="#FunctionSequenceVarlistBookmarks">sequence</a>, bookmarks. Invoking a sequence bookmark invokes each of its component bookmarks in turn. A component bookmark can itself be a sequence bookmark.</li></ul><p><a class="anchor" name="bmkp-handle-region-function"></a> <a class="anchor" name="bmkp-region-jump-narrow-indirect-other-window"></a> <a class="anchor" name="BookmarkedRegion"></a> </p><ul><li>You can bookmark a <em><a class="local" href="https://www.emacswiki.org/emacs/region">region</a></em> of text, not just a position. When you jump to a bookmark that records a region, the region is activated (see <a class="local" href="https://www.emacswiki.org/emacs/option">option</a> <strong><code>&#x2018;bmkp-use-region&#x2019;</code></strong>). (Region activation is not supported for Gnus bookmarks.) You can define your own region handler for bookmarks that record regions. (This is in addition to being able to define bookmark handlers.) Use option <strong><code>&#x2018;bmkp-handle-region-function&#x2019;</code></strong> for this. As one example, command <strong><code>&#x2018;bmkp-region-jump-narrow-indirect-other-window&#x2019;</code></strong> binds the option to a function that narrows the targeted region in a cloned indirect buffer. (You need library <tt><a class="local" href="https://www.emacswiki.org/emacs/narrow-indirect.el">narrow-indirect.el</a></tt> for this command.)</li><li>Bookmarks are relocated better than for vanilla Emacs when the contextual text changes. By default, when you visit a bookmark that requires relocation, the bookmark is then saved with the new, relocated position information. If you want to turn off this automatic saving, then customize user option <strong><code>&#x2018;bookmark-save-new-location-flag&#x2019;</code></strong> to <code>&#x2018;nil&#x2019;</code>.</li></ul><p><a class="anchor" name="AdditionalTypes"></a> </p><h3>Additional types of bookmarks.</h3><ul><li><strong><a class="local anchor" href="#AutofileBookmarks">Autofile</a> bookmarks.</strong> You can bookmark a file without visiting it or naming the bookmark. The bookmark name is the same as the file name (non-directory part). You can have multiple such bookmarks with the same name, to bookmark files with the same name but in different directories.</li></ul><p><a class="anchor" name="DiredBookmarks"></a> </p><ul><li><strong>Dired bookmarks.</strong> You can bookmark a <em><a class="local" href="https://www.emacswiki.org/emacs/DiredMode">Dired</a></em> buffer, recording and restoring its <code>&#x2018;ls&#x2019;</code> switches, which files are marked, which subdirectories are inserted, and which (sub)directories are hidden.</li></ul><p><a class="anchor" name="DiredTreeBookmarks"></a> </p><ul><li><strong>Dired-tree bookmarks.</strong> A set of <a class="local" href="https://www.emacswiki.org/emacs/DiredMode">Dired</a> bookmarks that represent a directory hierarchy and are opened together.</li></ul><p><a class="anchor" name="BookmarkListBookmarks"></a> </p><ul><li><strong>Bookmark-list bookmarks.</strong> You can bookmark the current state of buffer <code>&#x2018;*Bookmark List*&#x2019;</code> &#x2013; a <em>list of bookmarks</em>. Jumping to such a bookmark restores the recorded <a class="local anchor" href="#SortingBookmarks">sort</a> order, <a class="local anchor" href="#FilteringBookmarks">filter</a>, markings, title, and <a class="local anchor" href="#OmittingBookmarks">omit list</a>.</li><li><strong><a class="local anchor" href="#BookmarkFileBookmarks">Bookmark-file</a> bookmarks.</strong> You can bookmark a <em>bookmark file</em>. Jumping to such a bookmark loads the bookmarks in the file.</li></ul><p><a class="anchor" name="DesktopBookmarks"></a> </p><ul><li><strong>Desktop bookmarks.</strong> You can bookmark the current Emacs <em><a class="local" href="https://www.emacswiki.org/emacs/DeskTop">desktop</a></em>, as defined by library <code>desktop.el</code> &#x2013; use command <strong><code>&#x2018;bmkp-set-desktop-bookmark&#x2019;</code></strong> (<strong><code>&#x2018;C-x p K&#x2019;</code></strong>). You can &#x201c;jump&#x201d; to a desktop bookmark (that is, restore its saved desktop). A desktop includes:<ul><li>Some global <a class="local" href="https://www.emacswiki.org/emacs/variable">variable</a>s. To exclude variables normally saved, see option <strong><code>&#x2018;bmkp-desktop-no-save-vars&#x2019;</code></strong>.</li><li>The current set of buffers and their associated files. <em>For each:</em> its mode, <a class="local" href="https://www.emacswiki.org/emacs/point">point</a>, <a class="local" href="https://www.emacswiki.org/emacs/mark">mark</a>, and some local variables.</li></ul></li></ul><dl class="quote"><dt /><dd>If option <strong><code>&#x2018;bmkp-desktop-jump-save-before-flag&#x2019;</code></strong> is non-<code>&#x2018;nil&#x2019;</code>, and if the current desktop was made current by jumping to a bookmark, then it is saved before jumping to the next desktop. If you want to save the last desktop jumped to when you quit Emacs, then add <strong><code>&#x2018;bmkp-desktop-save-as-last&#x2019;</code></strong> to <code>&#x2018;kill-emacs-hook&#x2019;</code>.</dd></dl><p><a class="anchor" name="GnusBookmarks"></a> <a class="anchor" name="ManPageBookmarks"></a> <a class="anchor" name="WomanPageBookmarks"></a> </p><ul><li><strong>Gnus bookmarks.</strong> You can bookmark a <em><a class="local" href="https://www.emacswiki.org/emacs/Gnus">Gnus</a></em> article, a <em>URL</em>, a <em>PDF file</em> (<span>DocView</span>), a UNIX <em>manual page</em> (from the output of Emacs command `<a class="local" href="https://www.emacswiki.org/emacs/ManMode">man</a>&#x2019; or `<a class="local" href="https://www.emacswiki.org/emacs/WoMan">woman</a>&#x2019;), an <em>image</em>, or a piece of <em>music</em>.</li></ul><p><a class="anchor" name="BufferBookmarks"></a> </p><ul><li><strong>Non-file (buffer) bookmarks.</strong> You can bookmark a <em><a class="local" href="https://www.emacswiki.org/emacs/buffer">buffer</a></em> that is not associated with a file.</li><li><strong><a class="local anchor" href="#FunctionSequenceVarlistBookmarks">Function</a> bookmarks.</strong> A bookmark can represent a Lisp <em>function</em>, which is invoked when you &#x201c;jump&#x201d; to the bookmark.</li><li><strong><a class="local anchor" href="#FunctionSequenceVarlistBookmarks">Sequence</a> (composite) bookmarks.</strong> A bookmark can represent a <em>sequence</em> of other bookmarks.</li><li><strong>Keyboard-macro</strong> bookmarks, bookmarks for sets of keyboard macros, and sequence bookmarks that combine another bookmark with a keyboard macro.</li><li><strong>Lisp <a class="local anchor" href="#FunctionSequenceVarlistBookmarks">variable</a> bookmarks.</strong> A bookmark can represent a set of <em><a class="local" href="https://www.emacswiki.org/emacs/variable">variable</a>s</em> and their values.</li></ul><p><a class="anchor" name="SnippetBookmarks"></a> </p><ul><li><strong>Snippet bookmarks.</strong> Select some some text and give it a (bookmark) name. Then copy it to the <a class="local" href="https://www.emacswiki.org/emacs/kill_ring">kill ring</a> anytime, in any Emacs session.</li></ul><p><a class="anchor" name="IciclesSearchHitsBookmarks"></a> </p><ul><li><strong><a class="local" href="https://www.emacswiki.org/emacs/Icicles">Icicles</a> search-hits</strong> bookmarks. (You need library <strong>Icicles</strong> to use this feature.) During <strong><a class="local" href="https://www.emacswiki.org/emacs/Icicles_-_Search_Commands%2c_Overview">Icicles search</a></strong> you can use <strong>`<code>C-x C-M-&gt;</code></strong>&#x2019; to save the current set of completion candidates (search hits matching your current input) as an <strong>Icicles</strong> search-hits bookmark. During a later <strong>Icicles</strong> search you can retrieve those search hits saved in the bookmark, by using <strong>`<code>C-x C-M-&lt;</code></strong>&#x2019;. You can <em>add to</em> (instead of <em>replacing</em>) the current set of hits with the hits retrieved from a bookmark using <strong>`<code>C-x C-&lt;</code></strong>&#x2019;. This is the only way you can &#x201c;jump&#x201d; to such a bookmark. See also <a class="local anchor" href="https://www.emacswiki.org/emacs/Icicles_-_Bookmark_Enhancements#BookmarkingIciclesSearchHits">Bookmarking Icicles Search Hits</a>.</li></ul><p>In particular, note that you can use the following kinds of bookmarks to quickly switch among different <em>projects</em> (sets of bookmarks): Dired, Dired tree, bookmark-list, bookmark-file, and desktop bookmarks.</p><p><a class="anchor" name="AdditionalWaysToBookmark"></a> </p><h3>Additional ways to bookmark.</h3><ul><li>You can bookmark the <em>file or URL named at point</em> (or any other file or URL), without first visiting it.</li><li>You can bookmark the <em>targets of the hits</em> in a compilation buffer or an <code>&#x2018;occur&#x2019;</code> buffer, without first visiting them.</li><li>You can bookmark all of the <em>marked files</em> in <a class="local" href="https://www.emacswiki.org/emacs/Dired">Dired</a> at once.</li></ul><p><a class="anchor" name="Menus"></a> </p><h3>Extensive menus.</h3><ul><li>In the <code>&#x2018;*Bookmark List*&#x2019;</code> display, a <strong><code>&#x2018;mouse-3&#x2019;</code></strong> <a class="local anchor" href="#Mouse3PopupMenu">popup menu</a> has actions for the individual bookmark that you point to when you click the mouse.</li><li>In the <code>&#x2018;*Bookmark List*&#x2019;</code> display, a complete <a class="local" href="https://www.emacswiki.org/emacs/menu_bar">menu bar</a> menu, <strong><a class="local anchor" href="#BookmarkPlusMenu">Bookmark+</a></strong>, is available. The same menu is available on <strong><code>&#x2018;C-mouse-3&#x2019;</code></strong>. It has submenus <strong>Jump To</strong>, <strong>Mark</strong>, <strong>Omit</strong>, <strong>Show</strong>, <strong>Sort</strong>, <strong>Tags</strong>, <strong>Highlight</strong> (needs library <tt><a class="local" href="https://www.emacswiki.org/emacs/bookmark%2b-lit.el">bookmark+-lit.el</a></tt>, and <strong>Define Command</strong>.</li><li>The vanilla <strong><a class="local anchor" href="#VanillaBookmarksMenu">Bookmarks</a></strong> menu, which is typically a submenu of the menu-bar <strong>Edit</strong> menu, is modified by adding several items from the <strong>`Bookmark+</strong>&#x2019; menu, including submenus <strong>Jump To</strong>, <strong>Tags</strong>, and <strong>Highlight</strong>.</li><li><strong>Bookmark+</strong> adds <a class="local anchor" href="#EditMenu">two items</a> to the <a class="local" href="https://www.emacswiki.org/emacs/menu_bar">menu bar</a> <strong>Edit</strong> menu:<ul><li>Save the <a class="local" href="https://www.emacswiki.org/emacs/active_region">active region</a> text as a bookmark.</li><li>&#x201c;Jump to&#x201d; the bookmark to copy the text to the <a class="local" href="https://www.emacswiki.org/emacs/kill_ring">kill ring</a>, so you can then <a class="local" href="https://www.emacswiki.org/emacs/yank">yank</a> it anywhere.</li></ul></li></ul><p><a class="anchor" name="BookmarkListImprovements"></a> </p><h3>Improvements for the bookmark-list display.</h3><p>This is buffer <code>&#x2018;*Bookmark List*&#x2019;</code>, aka the bookmark &#x201c;menu list&#x201d; (a misnomer), which you display using <strong><code>&#x2018;C-x p e&#x2019;</code></strong> (or <code>&#x2018;C-x r l&#x2019;</code>). See <a class="local anchor" href="#BookmarkListDisplay">Bookmark List Display</a>.</p><ul><li>The last display <em>state is saved</em> (by default), and is restored the next time you show the list. (<em>Tip:</em> Use the bookmark list as your <em>Home</em> page at Emacs startup.)</li><li>You can <em>save</em> the current bookmark-list state at <em>any time</em> and return to it later. There are a few ways to do this, including <em>bookmarking the list</em> itself. See <a class="local anchor" href="#BookmarkListViews">BookmarkListViews</a>.</li><li><em>Marking</em>/unmarking is enhanced. It is similar to <a class="local" href="https://www.emacswiki.org/emacs/DiredMode">Dired</a>&#x2019;s.</li><li>You can easily mark or show different <em>classes</em> of bookmarks.</li><li><em><a class="local" href="https://www.emacswiki.org/emacs/Face">Face</a>s</em> distinguish bookmarks by type:<ul><li><a class="local" href="https://www.emacswiki.org/emacs/Info">Info</a> nodes</li><li><a class="local" href="https://www.emacswiki.org/emacs/Gnus">Gnus</a> articles</li><li><a class="local" href="https://www.emacswiki.org/emacs/w3m">W3M</a> URLs</li><li>Man pages (from `<a class="local" href="https://www.emacswiki.org/emacs/ManMode">man</a>&#x2019; or `<a class="local" href="https://www.emacswiki.org/emacs/WoMan">woman</a>&#x2019;)</li><li>local files with <a class="local" href="https://www.emacswiki.org/emacs/region">region</a>s</li><li>local files without regions</li><li>local directories</li><li>remote files or directories</li><li>remote files or directories that must be accessed by <code>&#x2018;su&#x2019;</code> or <code>&#x2018;sudo&#x2019;</code> (<code>&#x2018;root&#x2019;</code>)</li><li><a class="local anchor" href="#BookmarkListViews">bookmark-list</a> bookmarks</li><li><a class="local" href="https://www.emacswiki.org/emacs/DeskTop">desktop</a> bookmarks</li><li><a class="local anchor" href="#FunctionSequenceVarlistBookmarks">function</a> bookmarks</li><li><a class="local anchor" href="#FunctionSequenceVarlistBookmarks">sequence</a> bookmarks</li><li><a class="local anchor" href="#FunctionSequenceVarlistBookmarks">variable-list</a> bookmarks</li><li>non-file buffers</li><li>buffers that don&#x2019;t currently exist</li><li>possibly invalid bookmarks</li></ul></li><li>You can <em><a class="local anchor" href="#SortingBookmarks">sort</a></em> bookmarks in many ways. You can easily define your own sort orders, even complex ones.</li><li>You can <em>regexp-search</em> (<strong><code>&#x2018;M-a&#x2019;</code></strong>) or <em>query-replace</em> (<strong><code>&#x2018;M-q&#x2019;</code></strong>) the targets (destination files or buffers) of the marked bookmarks, in the current bookmark-list sort order. For Emacs 23 and later, you can even search incrementally (<code>&#x2018;M-s a C-s&#x2019;</code>, or <code>&#x2018;M-s a C-M-s&#x2019;</code> for <a class="local" href="https://www.emacswiki.org/emacs/regexp">regexp</a>).</li><li>You can use <strong>`<code>M-d &gt;</code></strong>&#x2019; to <em>open <a class="local" href="https://www.emacswiki.org/emacs/Dired">Dired</a></em> for just the local file bookmarks that are marked (`<code>&gt;</code>&#x2019;).</li><li>If you use Emacs on Microsoft Windows, you can open bookmarks according to <em>Windows file associations</em>. (You will also need library <tt><a class="local" href="https://www.emacswiki.org/emacs/w32-browser.el">w32-browser.el</a></tt>.)</li><li>You can use (lax) <em><a class="local" href="https://www.emacswiki.org/emacs/completion">completion</a> when you set</em> a bookmark using  <code>&#x2018;C-x r m&#x2019;</code> (<code>&#x2018;bmkp-bookmark-set-confirm-overwrite&#x2019;</code>), choosing from existing bookmarks for the same buffer. This makes it easy to update a nearby bookmark (e.g. relocate it). With a <a class="local" href="https://www.emacswiki.org/emacs/numeric_prefix_argument">numeric prefix argument</a> (or if there are no bookmarks for the buffer), you can choose from all bookmarks.</li><li>You can <em>edit</em> a bookmark: its name and file name/location, its tags, or its complete defining internal Lisp record.</li><li>The mode line shows the number of bookmarks that are marked (`<code>&gt;</code>&#x2019;), flagged for deletion (<code>&#x2018;D&#x2019;</code>), tagged (<code>&#x2018;t&#x2019;</code>), temporary (<code>&#x2018;X&#x2019;</code>), annotated (<code>&#x2018;a&#x2019;</code>), and modified (unsaved) (<code>&#x2018;*&#x2019;</code>). It also shows the current sort order. For each of the number indicators (e.g., the number marked): If the current line has the indicator (e.g. `<code>&gt;</code>&#x2019;) and there are other lines with the same indicator that are listed after the current line, then the indicator shows <code>&#x2018;N/M&#x2019;</code>, where <em>N</em> is the number indicated through the current line and <em>M</em> is the total number indicated. Otherwise, it shows just <code>&#x2018;N&#x2019;</code>. This feature is available starting with Emacs 24.3. (For prior versions I removed it because <a class="url http outside" href="http://debbugs.gnu.org/cgi/bugreport.cgi?bug=12867">Emacs bug #12867</a> can cause Emacs to crash.)</li></ul><p><a class="anchor" name="MultipleBookmarkFiles"></a> </p><h3>Multiple bookmark files.</h3><p>Although vanilla Emacs lets you load different bookmark files, it does not support this feature well, and the behavior can even be contradictory. With <strong>Bookmark+</strong> you can easily (a) switch among alternative bookmark files or (b) load multiple files into the same session, accumulating their bookmark definitions. The last file you used is the default when you choose a file to switch to, so it is easy to go back and forth between two bookmark files. See <a class="local anchor" href="#UsingMultipleBookmarkFiles">Using Multiple Bookmark Files</a>.</p><p><a class="anchor" name="TypeSpecificJumpCommands"></a> </p><h3>Type-specific jump commands.</h3><p>When you want to jump to a bookmark of a specific type (e.g. Dired), you can use a command that offers only such bookmarks as <a class="local" href="https://www.emacswiki.org/emacs/completion">completion</a> candidates.</p><p><a class="anchor" name="BookmarkPrefixKeys"></a> </p><h3>Dedicated keymaps as prefix keys.</h3><ul><li>Prefix <strong><code>&#x2018;C-x p&#x2019;</code></strong> is used for bookmark keys, in general. The vanilla keys on prefix <code>&#x2018;C-x r&#x2019;</code> are still available also, but that prefix is shared with <a class="local" href="https://www.emacswiki.org/emacs/register">register</a> commands, making it less convenient for bookmarks. Using <code>&#x2018;C-x p&#x2019;</code> lets you focus on bookmarks.</li><li>Prefix <strong><code>&#x2018;C-x p c&#x2019;</code></strong> is for <em>setting</em> various kinds of bookmarks.</li><li>Prefixes <strong><code>&#x2018;C-x j&#x2019;</code></strong> and <strong><code>&#x2018;C-x 4 j&#x2019;</code></strong> (for other-window) are used for bookmark <em>jump</em> commands. Again, a dedicated <a class="local" href="https://www.emacswiki.org/emacs/prefix_key">prefix key</a> helps you focus on one kind of action (jumping).</li></ul><p>All of these prefix keys correspond to prefix-map <a class="local" href="https://www.emacswiki.org/emacs/variable">variable</a>s, so you need not use these particular prefixes. You can bind these maps to any prefix keys you want. These are the maps, together with their predefined bindings.</p><ul><li><strong><code>&#x2018;bookmark-map&#x2019;</code></strong> &#x2013; <strong><code>&#x2018;C-x p&#x2019;</code></strong></li><li><strong><code>&#x2018;bmkp-set-map&#x2019;</code></strong> &#x2013; <strong><code>&#x2018;C-x p c&#x2019;</code></strong></li><li><strong><code>&#x2018;bmkp-tags-map&#x2019;</code></strong> &#x2013; <strong><code>&#x2018;C-x p t&#x2019;</code></strong></li><li><strong><code>&#x2018;bmkp-jump-map&#x2019;</code></strong> &#x2013; <strong><code>&#x2018;C-x j&#x2019;</code></strong></li><li><strong><code>&#x2018;bmkp-jump-other-window-map&#x2019;</code></strong> &#x2013; <strong><code>&#x2018;C-x 4 j&#x2019;</code></strong></li></ul><p>Those are the prefix keys that are available by <em>default</em>. To change them, just customize these <a class="local" href="https://www.emacswiki.org/emacs/option">user options</a>, each of which is a list of the key sequences to use as prefix key.</p><ul><li><strong><code>&#x2018;bmkp-bookmark-map-prefix-keys&#x2019;</code></strong> &#x2013; default: <strong><code>("^Xp")</code></strong></li><li><strong><code>&#x2018;bmkp-jump-map-prefix-keys&#x2019;</code></strong> &#x2013; default: <strong><code>("^Xj")</code></strong></li><li><strong><code>&#x2018;bmkp-jump-other-window-map-prefix-keys&#x2019;</code></strong> &#x2013; default: <strong><code>("^X4j")</code></strong></li></ul><p>(<code>^X</code> here is actually the Control-X character.)</p><p>Keymaps <code>&#x2018;bmkp-set-map&#x2019;</code> and <code>&#x2018;bmkp-tags-map&#x2019;</code> are always on <code>&#x2018;bookmark-map&#x2019;</code>, whatever prefix keys it is on. So if, for example, you customize <code>&#x2018;bmkp-bookmark-map-prefix-keys&#x2019;</code> to be <strong><code>("^Xp" [f9])</code></strong> then the keys in <code>&#x2018;bmkp-set-map&#x2019;</code> have both prefix <code>&#x2018;C-x p c&#x2019;</code> and prefix `<code>&lt;f9&gt; c</code>&#x2019;.</p><p>In addition to keys on <strong>Bookmark+</strong> keymaps, <strong>Bookmark+</strong> binds some mode-specific bookmarking commands in some other modes: Occur, Compilation (including Grep), Buffer-menu, <a class="local" href="https://www.emacswiki.org/emacs/EWW">EWW</a>, Gnus, <a class="local" href="https://www.emacswiki.org/emacs/Info">Info</a>, Man, Woman, W3M, and <a class="local" href="https://www.emacswiki.org/emacs/Dired">Dired</a> (if you use library <strong><a class="local" href="https://www.emacswiki.org/emacs/Dired%2b">Dired+</a></strong>). These keys let you set or jump to bookmarks specific to the modes.</p><p><a class="anchor" name="BookmarkHelp"></a> </p><h3>Helpful help.</h3><ul><li>Information about individual bookmarks.<ul><li>Anywhere in Emacs, <strong>`<code>C-x p ?</code></strong>&#x2019; (command <strong><code>&#x2018;bmkp-describe-bookmark&#x2019;</code></strong> describes any bookmark. With a <a class="local" href="https://www.emacswiki.org/emacs/prefix_argument">prefix argument</a>, it shows you the full information that defines it (internal form).</li><li>In the bookmark list, <strong><code>&#x2018;C-h RET&#x2019;</code></strong> (or <strong><code>&#x2018;C-h C-RET&#x2019;</code></strong>) describes the bookmark under the <a class="local" href="https://www.emacswiki.org/emacs/cursor">cursor</a>. The description is as complete as possible &#x2013; for example, for an image-file bookmark the complete EXIF image metadata is shown. (This is only for Emacs 22 and later, and only if you have command-line tool <code>&#x2018;exiftool&#x2019;</code> installed. See standard Emacs library <code>image-dired.el</code> for more information about <code>&#x2018;exiftool&#x2019;</code>.) And again, a prefix arg (<code>&#x2018;C-u C-h RET&#x2019;</code>) means show the full (internal) bookmark information. <strong>`<code>C-h &gt;</code></strong>&#x2019; shows the same information that <code>&#x2018;C-h RET&#x2019;</code> shows, but for all of the <em>marked</em> bookmarks, in the current sort order. That is, it describes each of the marked bookmarks. <strong><code>&#x2018;C-down&#x2019;</code></strong> and <strong><code>&#x2018;C-up&#x2019;</code></strong> move the cursor down and up a line, respectively, but they also show the description of the bookmark corresponding to the new cursor location. This is a quick way to cycle among bookmark descriptions, in the current sort order.</li></ul></li><li>General <strong>Bookmark+</strong> documentation.<ul><li>Anywhere in Emacs, <strong><code>&#x2018;M-x bmkp-bmenu-mode-status-help&#x2019;</code></strong> shows detailed information about the current state of the bookmark list. Click button <code>&#x2018;Doc in Commentary&#x2019;</code> or button <code>&#x2018;Doc on the Web&#x2019;</code> to access the complete documentation. (Use button <code>&#x2018;Customize&#x2019;</code> to customize all <strong>Bookmark+</strong> <a class="local" href="https://www.emacswiki.org/emacs/face">face</a>s and <a class="local" href="https://www.emacswiki.org/emacs/option">option</a>s.)</li><li>In the bookmark list, <strong>`<code>?</code></strong>&#x2019; and <strong><code>&#x2018;C-h m&#x2019;</code></strong> are the same as <code>&#x2018;M-x bmkp-bmenu-mode-status-help&#x2019;</code>. (<code>&#x2018;C-h m&#x2019;</code> in the bookmark list does not show you info about minor modes. If you want that, use <code>&#x2018;M-x describe-mode&#x2019;</code>.)</li><li>In the <code>&#x2018;bookmark-plus&#x2019;</code> group customization buffer (<code>&#x2018;M-x customize-group bookmark-plus&#x2019;</code>), click button <code>&#x2018;Commentary&#x2019;</code>.</li></ul></li><li>It is easy to recognize orphaned and invalid bookmarks.<ul><li>Invalid bookmarks are shown in a special face in the <a class="local anchor" href="#BookmarkListDisplay">bookmark-list display</a>.</li><li>You can easily mark all of the orphaned bookmarks, that is, those whose recorded files have been renamed or deleted. You can then relocate or delete those bookmarks.</li></ul></li><li>It is easy to recognize modified (i.e., unsaved) bookmarks. They are marked with <strong><code>&#x2018;*&#x2019;</code></strong>. Likewise, bookmarks that have tags (marked with <strong><code>&#x2018;t&#x2019;</code></strong>); bookmarks that have annotations (<strong><code>&#x2018;a&#x2019;</code></strong>); and bookmarks that are temporary (<strong><code>&#x2018;X&#x2019;</code></strong>), meaning that they will not be saved.</li></ul><p><a class="anchor" name="DestinationHighlighting"></a> </p><h3>Jump-destination highlighting.</h3><p>When you jump to a bookmark, the destination (position) is highlighted temporarily using <a class="local" href="https://www.emacswiki.org/emacs/CrosshairHighlighting">crosshairs</a>, to make it stand out. Option <strong><code>&#x2018;bmkp-crosshairs-flag&#x2019;</code></strong> controls this, and this feature is available only if you also use library <tt><a class="local" href="https://www.emacswiki.org/emacs/crosshairs.el">crosshairs.el</a></tt>.</p><p><a class="anchor" name="Highlighting"></a> </p><h3>Visual bookmarks (highlighting).</h3><p>You can highlight the locations of bookmarks, either automatically or on demand. You control what kind of highlighting, if any, is used for which bookmarks. This feature requires that you have library <tt><a class="local" href="https://www.emacswiki.org/emacs/bookmark%2b-lit.el">bookmark+-lit.el</a></tt> in your <code>&#x2018;load-path&#x2019;</code> (it will then be loaded by <code>bookmark+.el</code>).</p><p><a class="anchor" name="BetterDefaults"></a> </p><h3>Better, user-configurable bookmark-name defaults.</h3><p>See the doc strings of command <code>&#x2018;bookmark-set&#x2019;</code> (<strong>Bookmark+</strong> version) and options <code>&#x2018;bmkp-new-bookmark-default-names&#x2019;</code> and <code>&#x2018;bmkp-default-bookmark-name&#x2019;</code>.</p><p><a class="anchor" name="Icicles"></a> </p><h3>Synergy with Icicles.</h3><p><strong><a class="local" href="https://www.emacswiki.org/emacs/Icicles">Icicles</a></strong> works with <strong>Bookmark+</strong> to provide enhanced bookmark jumping (visiting), setting, and help. It gives you a bookmark browser, and lets you bookmark and tag files on the fly. See <a class="local anchor" href="#UseBookmarkPlusWithIcicles">Use Bookmark+ with Icicles</a>.</p><p><a class="anchor" name="BookmarkBasics"></a> </p><h2>Bookmark Basics</h2><p><strong>Bookmark+</strong> builds on vanilla Emacs bookmarks. If you are familiar with the latter, then you can skip this section, which mostly reviews the former. However, this section also introduces some <strong>Bookmark+</strong> concepts and features that are detailed in other sections.</p><p>In Emacs bookmarking these three things are different but related:</p><dl class="quote"><dt /><dd><strong>1.</strong> the bookmark <strong><em>list</em></strong></dd><dt /><dd><strong>2.</strong> the bookmark <strong><em>file</em></strong></dd><dt /><dd><strong>3.</strong> the bookmark-list <strong><em>display</em></strong> (buffer <code>&#x2018;*Bookmark List*&#x2019;</code>, aka the bookmark &#x201c;menu list&#x201d;, a misnomer)</dd></dl><p>It is important to keep these three straight and understand their differences in practice, in particular, when they do and do not represent the same set of bookmarks.</p><p>#1 is in memory. It is the current set of bookmarks. When you add, rename, delete, etc. a bookmark, this list is updated.</p><p>#2 is on disk. It is a persistent record of a set of bookmarks.</p><p>The bookmark list (#1) is the current value of internal variable <code>&#x2018;bookmark-alist&#x2019;</code>. The bookmark file (#2) can be anywhere. Its default filename is the value of <a class="local" href="https://www.emacswiki.org/emacs/user_option">user option</a> <code>&#x2018;bookmark-default-file&#x2019;</code>.</p><p>The bookmark list is typically initialized from the bookmark file &#x2014; referred to as <strong>loading</strong> your bookmarks, but you can also create bookmarks (adding them to the list) without ever saving them to disk.</p><p>The bookmark list can be saved to the bookmark file &#x2014; referred to as <strong>saving</strong> your bookmarks &#x2014; either automatically or on demand. But it is not necessarily saved. Even if it has been saved in the past, that does not mean that at any given time the bookmark list corresponds exactly to the bookmark file.</p><p>The list and the file can often become out of sync. In an Emacs session, the bookmark list rules. After an Emacs session, the bookmark file rules (it is all there is). You can use <code>&#x2018;C-x p L&#x2019;</code> (<code>&#x2018;bmkp-switch-bookmark-file-create&#x2019;</code>) to sync (revert) the list to reflect the file &#x2014; just accept the default value, &#x201c;switching&#x201d; to the same file.</p><p>The <a class="local anchor" href="#BookmarkListDisplay">bookmark-list display</a> (#3) is a snapshot view of the bookmarks in the bookmark list. As such, what you see there reflects the state of the bookmark list at some point in time. So here again, the two, list and display, can be out of sync. Hitting <code>&#x2018;g&#x2019;</code> in the bookmark-list display refreshes it to accurately reflect the current bookmark list (#1). Some other operations in the display also keep it synced with the list.</p><p><a class="anchor" name="bmkp-revert-bookmark-file"></a> Using a prefix argument (<code>&#x2018;C-u g&#x2019;</code>) syncs the display (#3) and the list (#1) to the file (#2). This can be useful when some other process (e.g., another Emacs session) updates the bookmark file or when you want to abandon changes to the current bookmark list and any of the current bookmarks. Outside the bookmark-list display, you can use command <strong><code>&#x2018;bmkp-revert-bookmark-file&#x2019;</code></strong> to do this.</p><p>You can load different bookmark files, either adding their bookmarks to those already in the current bookmark list or replacing them.</p><p>The <em>most important takeaway</em> from this section is that <em>#1 (list), #2 (file), and #3 (display) can be out of sync</em>, and they often are. And that can be useful.</p><p>Until now, everything said in this section is true of vanilla Emacs as well as <strong>Bookmark+</strong>. <strong>Bookmark+</strong> adds some flexibility regarding the use of multiple bookmark files, and it can save the last state of the bookmark-list display for later reuse.</p><p>The saved state of the display is restored when you show the display after quitting it (<code>&#x2018;q&#x2019;</code>) in the same session or quitting Emacs, but only if the bookmark file whose location it recorded is the same as the current bookmark file.</p><p>It would not make sense to display a completely different set of bookmarks from those that are currently loaded. The display must always reflect the current bookmark list (even if it sometimes reflects it imperfectly, because it is a snapshot). So if the bookmark file that is loaded is different from the one that was recorded for the display state, the recorded state is ignored.</p><p><a class="anchor" name="bookmark-save-flag"></a> <a class="anchor" name="bmkp-count-multi-mods-as-one-flag"></a> <a class="anchor" name="AutomaticSaving"></a> </p><h3>Automatic Saving</h3><p>Before getting into the topic of automatic saving, let me say this clearly once: <strong>Back up your bookmark file(s)!</strong></p><p>(<strong>Bookmark+</strong> creates backups when your bookmark file is saved. Until bug #12507 is fixed, vanilla Emacs does not.)</p><p>I recommend that you set option <strong><code>&#x2018;bookmark-version-control&#x2019;</code></strong> to <code>&#x2018;t&#x2019;</code>, so that you get <em>numbered backups</em>.</p><p>If you do use numbered backups then you might also want to customize option <strong><code>&#x2018;delete-old-versions&#x2019;</code></strong>, setting the value to <code>&#x2018;t&#x2019;</code>, so that you are not bothered by this prompt each time bookmarks are saved:</p><dl class="quote"><dt /><dd><code>Delete excess backup versions of &lt;YOUR-INIT-FILE&gt;? (y or n)</code></dd></dl><p>See also nodes <code>&#x2018;Backup Names&#x2019;</code> and <code>&#x2018;Backup Deletion&#x2019;</code> in the Emacs manual.</p><p>User option <strong><code>&#x2018;bookmark-save-flag&#x2019;</code></strong> controls whether and how often to automatically save the bookmark list to the bookmark file. You can toggle this option using <strong>`<code>M-~</code></strong>&#x2019; in the bookmark-list display.</p><p>In the <a class="local anchor" href="#BookmarkListDisplay">bookmark-list display</a>, you can tell whether individual bookmarks have been modified since the last save: they are marked with <strong><code>&#x2018;*&#x2019;</code></strong>. I believe that this indication is robust and accurate (if not, please report a bug), but a word of caution: do not depend on it. The only way to be sure that your bookmarks have been saved is to save them. ;-)</p><p>Is there a way to <em>un</em>modify a single bookmark that you have changed? No, not unless it is the only one you modified. If you revert to the bookmarks as last saved, then all changes to <em>all</em> bookmarks (including addition and removal of bookmarks) are lost. If you want to work carefully when making multiple changes, then save any modifications you are sure of before you move on to others. If only one bookmark is modified then reverting to the bookmark file effectively unmodifies that bookmark.</p><p>When you consult the doc for option <code>&#x2018;bookmark-save-flag&#x2019;</code> you see that besides values of <code>&#x2018;nil&#x2019;</code> and <code>&#x2018;t&#x2019;</code>, meaning off and on, it can have a value that is the number of bookmark modifications to allow before automatically saving. If the value is 10, for instance, then the 11th modification triggers automatic saving.</p><p>But a modification means any change to any bookmark. Typically, you are more interested in considering all of the changes caused by a given command as one modification. Why? Suppose you use a command such as `<code>T &gt; +</code>&#x2019; (<code>&#x2018;bmkp-bmenu-add-tags-to-marked&#x2019;</code>), which adds a set of tags to each of the marked bookmarks. Even if there have been no other modifications since you last saved bookmarks, if there are more marked bookmarks than your setting of <code>&#x2018;bookmark-save-flag&#x2019;</code> then automatic saving will kick in in the middle of the command. Some of the bookmarks with the added tags will be automatically saved. And that does not give you an opportunity to cancel the changes (e.g., by quitting without saving).</p><p>This is the reason for option <strong><code>&#x2018;bmkp-count-multi-mods-as-one-flag&#x2019;</code></strong>, whose default value is <code>&#x2018;t&#x2019;</code>, which means count all of a sequence of modifications together as one modification, as far as <code>&#x2018;bookmark-save-flag&#x2019;</code> is concerned.</p><p><a class="anchor" name="TypeSpecificJumpCommands"></a> </p><h2>Different Types of Jump Commands</h2><p>When you jump to a bookmark, you can use <a class="local" href="https://www.emacswiki.org/emacs/completion">completion</a> to specify the bookmark name. <strong><code>&#x2018;bookmark-jump&#x2019;</code></strong> and <strong><code>&#x2018;bookmark-jump-other-window&#x2019;</code></strong>, bound to <strong><code>&#x2018;C-x j j&#x2019;</code></strong> and <strong><code>&#x2018;C-x 4 j j&#x2019;</code></strong>, are general commands. Their completion candidates include all of your bookmarks. With <strong>Bookmark+</strong> you can easily have a large number of bookmarks.</p><p>To provide more specificity, <strong>Bookmark+</strong> provides many different bookmark jump commands. If you want to jump to a bookmark of a specific type, such as Info, you can use a <strong>Bookmark+</strong> command that is specific to bookmarks of that type: only those bookmarks are completion candidates.</p><p>There are thus type-specific commands: `<code>bmkp-</code><tt><em style="text-decoration: underline; font-style: normal;">dired</em></tt><code>-jump</code>&#x2019;, `<code>bmkp-</code><tt><em style="text-decoration: underline; font-style: normal;">info</em></tt><code>-jump</code>&#x2019;, and so on, bound to `<code>C-x j </code> <tt><em style="text-decoration: underline; font-style: normal;">d</em></tt>&#x2019;, `<code>C-x j </code> <tt><em style="text-decoration: underline; font-style: normal;">i</em></tt>&#x2019;, and so on. There are also commands to jump to bookmarks for the current buffer or for particular buffers or files (see <a class="local anchor" href="#SpecificFilesOrBuffers">Bookmarks for Specific Files or Buffers</a>).</p><p>All bookmark jump commands are bound to keys that have the prefix <strong><code>&#x2018;C-x j&#x2019;</code></strong>. There is an other-window version of most jump commands, and it is bound to the same key as the same-window command, except the prefix is <strong>`<code>C-x </code><tt><em style="text-decoration: underline; font-style: normal;">4</em></tt><code> j</code></strong>&#x2019;, not <strong><code>&#x2018;C-x j&#x2019;</code></strong>. For instance, <code>&#x2018;bmkp-dired-jump-other-window&#x2019;</code> is bound to <code>&#x2018;C-x j 4 d&#x2019;</code>.</p><p>(In the <a class="local anchor" href="#BookmarkListDisplay">bookmark-list display</a>, you can use just <strong><code>&#x2018;j&#x2019;</code></strong> instead of <code>&#x2018;C-x 4 j&#x2019;</code>, and just <strong><code>&#x2018;J&#x2019;</code></strong> (uppercase) instead of <code>&#x2018;C-x j&#x2019;</code>.)</p><p>More precisely, the bookmark jump commands are on the prefix maps <strong><code>&#x2018;bmkp-jump-map&#x2019;</code></strong> and <strong><code>&#x2018;bmkp-jump-other-window-map&#x2019;</code></strong>, which have the default bindings <code>&#x2018;C-x j&#x2019;</code> and <code>&#x2018;C-x 4 j&#x2019;</code>. You can bind these maps to any keys you like, by customizing <a class="local" href="https://www.emacswiki.org/emacs/option">options</a> <strong><code>&#x2018;bmkp-jump-map-prefix-keys&#x2019;</code></strong> and <strong><code>&#x2018;bmkp-jump-other-window-map-prefix-keys&#x2019;</code></strong>.</p><p>If you do not remember the different type-specfic bindings, you can use commands <strong><code>&#x2018;bmkp-jump-to-type&#x2019;</code></strong> and <strong><code>&#x2018;bmkp-jump-to-type-other-window&#x2019;</code></strong> (<strong>`<code>C-x j :</code></strong>&#x2019; and <strong>`<code>C-x 4 j :</code></strong>&#x2019;). They work for any type, prompting you first for the type, then for a bookmark of that type (only).</p><p><a class="anchor" name="JumpToTagged"></a> There are several commands for jumping to a bookmark with <em>tags</em>. The completion candidates can be those bookmarks that have <em>all</em> tags in a given <em>set</em>, <em>some</em> tags in a given <em>set</em>, <em>all</em> tags matching a <em>regexp</em>, or <em>some</em> tags matching a <em>regexp</em>. You are prompted for the set of tags or the regexp to match.</p><p>These commands all have the <a class="local" href="https://www.emacswiki.org/emacs/prefix_key">prefix key</a> <strong>`<code>C-x j</code> <tt><em style="text-decoration: underline; font-style: normal;">t</em></tt></strong>&#x2019;. The suffix key is <strong><code>&#x2018;*&#x2019;</code></strong> for &#x201c;all&#x201d; and <strong>`<code>+</code></strong>&#x2019; for &#x201c;some&#x201d;. The regexp-matching commands precede the suffix key with <strong>`<code>%</code></strong>&#x2019;. For example, `<code>C-x j t % +</code>&#x2019; jumps to a bookmark you choose that has one or more tags that match the regexp you input.</p><p>There are some type-specific jump commands for bookmarks with tags. The key sequences for these include a key that indicates the bookmark type, after the <code>&#x2018;t&#x2019;</code> indicating tags. For example, commands for jumping to a file or directory bookmark having certain tags use the prefix <strong><code>&#x2018;C-x j t f&#x2019;</code></strong> (<strong><code>&#x2018;f&#x2019;</code></strong> for <em>file</em>). Similar commands for <a class="local anchor" href="#AutofileBookmarks">autofile bookmarks</a> have prefix <strong><code>&#x2018;C-x j t a&#x2019;</code></strong> (<strong><code>&#x2018;a&#x2019;</code></strong> for <em>autofile</em>).</p><p>For example, `<code>C-x j t f % *</code>&#x2019; jumps to a file or directory bookmark you choose, where all of its tags match a regexp, and `<code>C-x j t a +</code>&#x2019; finds a file tagged with at least one of the tags you input.</p><p>In addition to the ordinary autofile &#x201c;jump&#x201d; commands, there are <code>&#x2018;find-file&#x2019;</code> versions: they read a file name using <code>&#x2018;read-file-name&#x2019;</code>, instead of completing a bookmark name &#x2013; see <a class="local anchor" href="#AutofileBookmarks">Autofile Bookmarks</a>. These commands are available starting with Emacs 22.</p><p>Bookmark names are global. File names are not; that is, the non-directory portion is not. Suppose you have two similar directories with some like-named files, perhaps tagged in similar ways. Imagine image files of your vacations organized in different directories by year. It is sometimes useful to narrow your focus to the file bookmarks in one directory.</p><p>Commands such as <code>&#x2018;bmkp-file-this-dir-jump&#x2019;</code> (`<code>C-x j . f</code>&#x2019;) offer as completion candidates only bookmarks for files and subdirs in the current directory (<code>&#x2018;default-directory&#x2019;</code>). For tags, there are equivalent commands. For example, `<code>C-x j t . % *</code>&#x2019; is the same as `<code>C-x j t f % *</code>&#x2019;, but the destinations are limited to files in the current directory. All of the &#x201c;this-dir&#x201d; file jump commands are bound to the same keys as the general file jump commands, but with <strong>`.</strong>&#x2019; instead of <code>&#x2018;f&#x2019;</code>.</p><p>Remember that <strong>Bookmark+</strong> collects lots of commands on only a few predefined <a class="local" href="https://www.emacswiki.org/emacs/prefix_key">prefix key</a>s, primarily as a mnemonic device. Nothing requires you to use the long key sequence `<code>C-x j t f % *</code>&#x2019; to visit a file that has a given set of tags. It is expected that you will bind short key sequences to commands that you use often.</p><p>The <code>&#x2018;C-x j&#x2019;</code> and <code>&#x2018;C-x 4 j&#x2019;</code> bindings are global. In addition, in some modes <strong><code>&#x2018;j&#x2019;</code></strong> is bound to the corresponding type-specific jump command. For example, in Info mode, <code>&#x2018;j&#x2019;</code> is bound to <code>&#x2018;bmkp-info-jump&#x2019;</code>. (Dired is an exception here: <strong><code>&#x2018;J&#x2019;</code></strong> is used instead of <code>&#x2018;j&#x2019;</code>, since <code>&#x2018;j&#x2019;</code> is already taken for <code>&#x2018;dired-goto-file&#x2019;</code>.) These commands are also added to the mode&#x2019;s menu-bar menu.</p><p><a class="anchor" name="bmkp-dired-this-dir-jump"></a> In Dired mode, <strong><code>&#x2018;C-j&#x2019;</code></strong> is bound to a special Dired-specific jump command, <code>&#x2018;bmkp-dired-this-dir-jump&#x2019;</code>, whose destinations all use the current directory (<code>&#x2018;default-directory&#x2019;</code>). The aim of <code>&#x2018;C-j&#x2019;</code> is not to change directories but to change to a different set of Dired markings, switches, inserted subdirectories, or hidden subdirectories for the same Dired directory.</p><p>In addition to the predefined bookmark types, which you can use as described above, you can define a &#x201c;type&#x201d;-specific jump command for any set of bookmarks. That is, you can use any specific set of bookmarks as the completion candidates for a new jump command. Such a set is really only a pseudo-type: the actual bookmarks can each be of any type.</p><p>You could use this feature, for example, to define a jump command for the bookmarks that belong to a given project.</p><p>One way to define such a command is to first mark the bookmarks that you want to be the completion candidates, then use <strong><code>&#x2018;C-c C-j&#x2019;</code></strong> (command <strong><code>&#x2018;bmkp-bmenu-define-jump-marked-command&#x2019;</code></strong>) in the bookmark list.</p><p>The <code>&#x2018;*Bookmark List*&#x2019;</code> display defines a set of bookmarks, even without markings. So does each bookmark of type bookmark list, that is, a bookmark corresponding to a particular <code>&#x2018;*Bookmark List*&#x2019;</code> display state &#x2013; see <a class="local anchor" href="#StateRestoration">State-Restoring Commands and Bookmarks</a>.</p><p>You can capture the set of bookmarks corresponding to a <code>&#x2018;*Bookmark List*&#x2019;</code> display for use in navigation, that is, as the current <strong>navigation list</strong>. Navigation here includes jumping and cycling &#x2013; see <a class="local anchor" href="#CyclingNavList">Cycling, Navigation List</a>.</p><p>To capture in the navigation list the bookmarks corresponding to either the current <code>&#x2018;*Bookmark List*&#x2019;</code> display or a bookmark-list bookmark, use <strong><code>&#x2018;C-x p B&#x2019;</code></strong>, which is bound to command <strong><code>&#x2018;bmkp-choose-navlist-from-bookmark-list&#x2019;</code></strong>. To then jump to a bookmark from such a navigation list, use <strong><code>&#x2018;C-x j N&#x2019;</code></strong> or <strong><code>&#x2018;C-x 4 j N&#x2019;</code></strong> (<strong><code>&#x2018;bmkp-jump-in-navlist&#x2019;</code></strong> or <strong><code>&#x2018;bmkp-jump-in-navlist-other-window&#x2019;</code></strong>).</p><p><a class="anchor" name="BookmarkAnnotations"></a> </p><h2>Bookmark Annotations</h2><p>With <strong>Bookmark+</strong> you can bookmark many kinds of Emacs object. Bookmarks record locations &#x2013; that is their primary purpose. They can also record <strong>annotations</strong>: general free-text descriptions of your choosing. An annotation is thus <em>metadata</em> that is associated with a bookmark. You can use it for any purpose you like.</p><p>Command <strong><code>&#x2018;bookmark-show-annotation&#x2019;</code></strong> shows an annotation in read-only mode. You can use <code>&#x2018;C-x C-q&#x2019;</code> in the annotation buffer to switch to edit mode (and back again).</p><p>You can use command <code>&#x2018;bookmark-edit-annotation&#x2019;</code> or <code>&#x2018;bmkp-annotate&#x2019;</code> anywhere to edit the annotation for a bookmark. For <strong><code>&#x2018;bookmark-edit-annotation&#x2019;</code></strong>, you can choose among the bookmarks that already have annotations. With a <a class="local" href="https://www.emacswiki.org/emacs/prefix_argument">prefix arg</a>, you can choose any bookmark (and so <em>create</em> an annotation). Using <strong><code>&#x2018;bmkp-annotate&#x2019;</code></strong> is the same as using <code>&#x2018;bookmark-edit-annotation&#x2019;</code> with a prefix arg.</p><p>In the annotation edit buffer, make your changes and then use <code>&#x2018;C-c C-c&#x2019;</code> to save the result. Use <code>&#x2018;C-x C-k&#x2019;</code> if you do not want to save the changes. You can also use <code>&#x2018;C-x C-q&#x2019;</code> and then <code>&#x2018;y&#x2019;</code> to confirm reverting the changes.</p><p>Non-<code>&#x2018;nil&#x2019;</code> user option <strong><code>&#x2018;bookmark-automatically-show-annotations&#x2019;</code></strong> means that a bookmark&#x2019;s annotation is popped up whenever you jump to the bookmark. If the non-<code>&#x2018;nil&#x2019;</code> value is <strong><code>&#x2018;edit&#x2019;</code></strong> then the annotation buffer is in edit mode; if it is any other non-<code>&#x2018;nil&#x2019;</code> value then the buffer is in show (read-only) mode.</p><p>In the <code>&#x2018;*Bookmark List*&#x2019;</code> display, you can use <strong><code>&#x2018;a&#x2019;</code></strong> to show or (with a prefix arg) edit the existing annotation for the bookmark on the current line. (Bookmarks with annotations are marked by an <code>&#x2018;a&#x2019;</code> to the left of the bookmark name.)</p><p>A bookmark annotation is <em>stored as part of the bookmark itself</em>. For this reason, you typically want to keep the text fairly short. In <strong>Bookmark+</strong>, the mode for viewing and editing a bookmark annotation is <a class="local" href="https://www.emacswiki.org/emacs/OrgMode">Org mode</a>, by default. (To change the mode used, customize option <strong><code>&#x2018;bmkp-annotation-modes-inherit-from&#x2019;</code></strong>.)</p><p>You can obtain the effect of using longer annotations, and some other advantages as well, by using &#x201c;<strong><a class="definition" href="https://www.emacswiki.org/emacs?search=%22external+annotations%22" name="external_annotations" rel="nofollow" title="Click to search for references to this permanent anchor">external annotations</a></strong>&#x201d;. These are annotations that are short and serve only as <em>pointers to external files, URLs, or other bookmarks</em>.</p><p>Whenever you show the annotation of a bookmark (via <code>&#x2018;a&#x2019;</code> in the <code>&#x2018;*Bookmark List*&#x2019;</code> display, <code>&#x2018;bookmark-show-annotation&#x2019;</code>, or <code>&#x2018;bookmark-automatically-show-annotations&#x2019;</code>) and the annotation is such a pointer, the effect is to visit the destination.</p><p>So for example, you can use bookmarks to one or more Org files to annotate (provide metadata for) one or more bookmarks.</p><p>You create an external annotation for a bookmark by using one of these forms as the annotation text.</p><pre>     bmkp-annot-url: <span class="string">"FILE"</span>
     bmkp-annot-url: <span class="string">"URL"</span>
     bmkp-annot-url: <span class="string">"BOOKMARK"</span></pre><ul><li><code>FILE</code> is an absolute file name. It is handled by <code>&#x2018;find-file-other-window&#x2019;</code>.</li><li><code>URL</code> is a URL. It is handled by <code>&#x2018;browse-url&#x2019;</code>.</li><li><code>BOOKMARK</code> is the name of a bookmark in the current bookmark alist.</li></ul><p>The double-quote characters are necessary here, so that you can include characters such as <code>&#x2018;SPC&#x2019;</code> in the name. The text must be on the first line of the annotation (not counting the commented instruction lines). It can be preceded only by whitespace.</p><p>You can include other text in the annotation, after the destination specification, and you can see or edit it when you edit the annotation (e.g., using <code>&#x2018;C-u a&#x2019;</code> in buffer `*Bookmark List*&#x2019;), but it is ignored when the annotation is &#x201c;shown&#x201d; (e.g., using <code>&#x2018;a&#x2019;</code>).</p><p>In the <code>&#x2018;*Bookmark List*&#x2019;</code> display, <strong><code>&#x2018;M-down&#x2019;</code></strong> and <strong><code>&#x2018;M-up&#x2019;</code></strong> move the cursor down and up a line, respectively, but they also show the annotation, if any, of the bookmark at the new cursor location.</p><p><a class="anchor" name="BookmarkTags"></a> </p><h2>Bookmark Tags</h2><p>In addition to annotating bookmarks with arbitrary metadata, <strong>Bookmark+</strong> bookmarks can also be <b>tagged</b>, as a way to organize them, which also means as a way to organize the objects that are bookmarked.</p><p>By <strong>tagging</strong> and <strong>tag</strong> in this context is meant associating keywords or other text with an object, typically in order to classify or characterize it. Tags are metadata about an object. This notion of tagging is sometimes called &#x201c;delicious&#x201d; tagging after the Web site www.delicious.com that popularized it (<a class="url http" href="http://en.wikipedia.org/wiki/Delicious_(website">http://en.wikipedia.org/wiki/Delicious_(website</a>)).</p><p>Be aware that there is another notion of &#x201c;tag&#x201d; associated with Emacs: that involving Emacs <a class="local" href="https://www.emacswiki.org/emacs/TagsFile">TagsFile</a>s, which record the locations of function, variable, etc. definitions in source files. There is no relation between the two notions of &#x201c;tag&#x201d;.</p><p>A <strong><a class="definition" href="https://www.emacswiki.org/emacs?search=%22bookmark+tag%22" name="bookmark_tag" rel="nofollow" title="Click to search for references to this permanent anchor">bookmark tag</a></strong> is a string (or a <a class="local" href="https://www.emacswiki.org/emacs/cons">cons</a> whose <a class="local" href="https://www.emacswiki.org/emacs/car">car</a> is a string &#x2013; see <a class="local anchor" href="#TagsAsAttributes">Bookmark Tags Can Have Values</a>. You can add as many tags as you like to any bookmark, and multiple bookmarks can have the same tag(s). In fact, that&#x2019;s the whole idea behind using them for organizing.</p><p>This feature is unrelated to the fact that bookmarks record locations and are useful for navigating. You can, if you want, use bookmarks to tag files in various ways purely for purposes of organizing them (e.g. into projects), whether or not you ever use the bookmarks as a way to visit them.</p><p>For example, if you use <strong><a class="local" href="https://www.emacswiki.org/emacs/Dired%2b">Dired+</a></strong> (library <tt><a class="local" href="https://www.emacswiki.org/emacs/dired%2b.el">dired+.el</a></tt>), then you can use <strong><code>&#x2018;M-b&#x2019;</code></strong> (<code>&#x2018;diredp-do-bookmark&#x2019;</code>) in <a class="local" href="https://www.emacswiki.org/emacs/Dired">Dired</a> to create an <a class="local anchor" href="#AutofileBookmarks">autofile bookmark</a> for each of the marked files in the Dired buffer. Even if you never use those bookmarks for navigating to the files, you can use them with tags to organize the files and thus operate on subsets of them.</p><p>And if you use libraries <strong>Dired+</strong> and <strong><a class="local" href="https://www.emacswiki.org/emacs/HighlightLibrary">Highlight</a></strong> (<tt><a class="local" href="https://www.emacswiki.org/emacs/highlight.el">highlight.el</a></tt>) then autofiles are highlighted specially in Dired, and the highlighting indicates whether the file is tagged.</p><dl class="quote"><dt /><dd><a class="image" href="https://www.emacswiki.org/emacs/DrewsEmacsDiredAutofiles"><img alt="DrewsEmacsDiredAutofiles" class="upload" src="https://www.emacswiki.org/pics/static/DrewsEmacsDiredAutofiles" /></a></dd></dl><p>By default, you create bookmarks without tags and add tags to them later. If you prefer, you can customize option <strong><code>&#x2018;bmkp-prompt-for-tags-flag&#x2019;</code></strong> to non-<code>&#x2018;nil&#x2019;</code> so that you are prompted to add tags immediately whenever you set (create or update) a bookmark.</p><p>There are also some commands, such as <strong><code>&#x2018;bmkp-tag-a-file&#x2019;</code></strong> (<strong>`<code>C-x p t + a</code></strong>&#x2019;) and <strong><code>&#x2018;bmkp-untag-a-file&#x2019;</code></strong> (<strong><code>&#x2018;C-x p t - a&#x2019;</code></strong>), that always prompt for tags to add or remove. (In general, the key <code>&#x2018;a&#x2019;</code> is used in key sequences for autofile bookmarks.)</p><p>When you are prompted to enter a tag, you type some text then hit <code>&#x2018;RET&#x2019;</code>. If you want to include a newline character in the tag itself, use <code>&#x2018;C-q C-j&#x2019;</code> (<code>&#x2018;C-j&#x2019;</code> is the newline character). You can use <code>&#x2018;C-q&#x2019;</code> this way to enter any character. If you do use complex strings as tags then you might prefer to simply edit a bookmark&#x2019;s tags in a separate buffer. You can do that using <strong><code>&#x2018;C-x p t e&#x2019;</code></strong> (or <strong><code>&#x2018;T e&#x2019;</code></strong> in the bookmark-list display).</p><p>Whenever you are prompted for a tag you can use completion. The completion candidates available are the tag names defined by <a class="local" href="https://www.emacswiki.org/emacs/option">option</a> <strong><code>&#x2018;bmkp-tags-for-completion&#x2019;</code></strong>. The default value of this option is <code>&#x2018;current&#x2019;</code>, meaning use only the tags from the bookmarks in the current bookmark list as candidates. You can customize the option to include specific tags or the tags from bookmarks in specific bookmark files.</p><p>You can use command <strong><code>&#x2018;bmkp-list-all-tags&#x2019;</code></strong> to list all of the tags defined by option <code>&#x2018;bmkp-tags-for-completion&#x2019;</code> or, with a numeric <a class="local" href="https://www.emacswiki.org/emacs/prefix_argument">prefix argument</a>, only the tags corresponding to the current bookmark file. You can list the tag names only or (using a non-negative prefix arg) show the full tag definitions, which include any associated tag values (see <a class="local anchor" href="#TagsAsAttributes">Bookmark Tags Can Have Values</a>) for information about tag values).</p><p>To make tags more useful, <strong>Bookmark+</strong> provides <em>lots</em> of commands: for adding, removing, copying, pasting, and renaming tags; commands for jumping to bookmarks with particular sets of tags; and commands for marking or unmarking  (in buffer <code>&#x2018;*Bookmark List*&#x2019;</code>) bookmarks that are tagged in various ways.</p><p>Most commands pertaining to tags are by default on <a class="local" href="https://www.emacswiki.org/emacs/prefix_key">prefix key</a> <strong><code>&#x2018;C-x p t&#x2019;</code></strong> &#x2014; use <code>&#x2018;C-x p t C-h&#x2019;</code> to see them. In buffer <code>&#x2018;*Bookmark List*&#x2019;</code>, commands pertaining to tags are on prefix key <strong><code>&#x2018;T&#x2019;</code></strong> &#x2014; use <code>&#x2018;T C-h&#x2019;</code> to see them. And remember that you can use <strong>`<code>C-h &gt;</code></strong>&#x2019; to describe all of the <em>marked</em> bookmarks, in the current sort order. The bookmark descriptions include the tags.</p><p>When combined with other <strong>Bookmark+</strong> commands (e.g. search, query-replace) that apply to the marked bookmarks in the <code>&#x2018;*Bookmark List*&#x2019;</code> window, you can really do quite a lot using bookmark tags. Use your imagination!</p><p><strong>See Also:</strong> </p><ul><li><a class="local anchor" href="#BookmarkRecords">Bookmark Records: What A Bookmark Looks Like</a></li><li><a class="local anchor" href="#BookmarkingMarkedFilesInDired">Bookmarking the Marked Files in Dired</a></li><li><a class="local anchor" href="#WindowsFileAssociations">Open Bookmarks Using Windows File Associations</a></li><li><a class="local anchor" href="#TagCommandsAndKeys">Tag Commands and Keys</a></li></ul><p><a class="anchor" name="TagsAsAttributes"></a> </p><h3>Bookmark Tags Can Have Values</h3><p>Bookmark tags are simply names (strings) when you create them. Nearly all of the predefined operations that use tags use these names: sorting, marking, jumping, and so on. But you can in fact <em>add an associated value</em> to any tag. This means that a tag can act just like an object <em>attribute</em> or property: it can be a name/value pair.</p><p>To add a value to a tag that has none, or to change the current value of a tag, you use command <strong><code>&#x2018;bmkp-set-tag-value&#x2019;</code></strong>, which is bound to <strong><code>&#x2018;T v&#x2019;</code></strong> in the bookmark list and bound to <strong><code>&#x2018;C-x p t v&#x2019;</code></strong> globally. You are prompted for the bookmark, the tag, and the new value.</p><p>A tag value can be a number, <a class="local" href="https://www.emacswiki.org/emacs/symbol">symbol</a>, string, list, vector, and so on. It can be as complex as you like. It can be any <a class="local" href="https://www.emacswiki.org/emacs/EmacsLisp">EmacsLisp</a> object that has read syntax, that is, that is readable by the Lisp reader. (Everything that is saved as part of a bookmark must be readable; otherwise, your bookmark file could not be read (loaded).)</p><p>Because tag values can be pretty much anything, you are pretty much on your own when it comes to making use of them. <strong>Bookmark+</strong> does not provide predefined functions for using tag values. In general, tag values are something you will use with home-grown Lisp code for your own purposes.</p><p>However, you can easily make some interactive use of tag values with little effort. You can, for example, define a predicate that tests whether a bookmark has a tag value that satisfies some property (e.g. is a number greater than 3.14159265358979), and then you can use command <strong><code>&#x2018;bmkp-bmenu-mark-bookmarks-satisfying&#x2019;</code></strong> to mark those bookmarks.</p><p>Tags that have the prefix <strong><code>"bmkp-"</code></strong> are reserved &#x2013; do not name your own tags using this prefix. Currently, <strong><code>"bmkp-jump"</code></strong> is the only predefined bookmark tag. You can give this tag a value that is a function &#x2013; it is called whenever the tagged bookmark is visited. Any Lisp-readable function value is allowed: a symbol or a lambda expression.</p><p>For example, to display <code>Hello!</code> when a bookmark is visited you can use this:</p><pre>    T v bmkp-jump RET (<span class="keyword elisp">lambda</span> () (message <span class="string">"Hello!"</span>))</pre><p>The function that is the value of a <code>"bmkp-jump"</code> tag is called just after the the standard hook <code>&#x2018;bookmark-after-jump-hook&#x2019;</code> is invoked. You can use this tag to invoke functions that are specific to individual bookmarks; bookmarks can thus have their own, extra jump functions.</p><p><a class="anchor" name="HierarchicalBookmarkStructures"></a> </p><h3>Hierarchical Structures of Bookmarks?</h3><p>You can use tags to organize sets of bookmarks in various ways. But what about a simple, hierarchical (tree-shaped) structure like the one you use for bookmarks in a web browser? You can get a similar effect with <strong>Bookmark+</strong> by just using a tag-naming convention such as this:</p><pre>vacation/
vacation/2017/
vacation/2017/winter/
vacation/2017/winter/photos/
vacation/2017/summer/
vacation/2017/summer/photos/
vacation/2018/
...
</pre><p>You need not tag any bookmarks with any particular part of such a pseudo-hierarchy. For example, you might tag some bookmarks with <code>vacation/2017/winter/</code> and some with <code>vacation/2017/winter/photos/</code>, without bothering to have any that are tagged with just <code>vacation/</code> or just <code>vacation/2017/</code>.</p><p>You are not limited to a single tree. You can have a tag such as <code>vacation/2017/winter/</code> and a tag such as <code>work/projects/2017/alpha/</code>, without any need for those to have a common ancestor.</p><p>How can you use such a tagging scheme?</p><p>When you jump to a bookmark using a command that asks for tags, such as `<code>C-x j t +</code>&#x2019; (<code>&#x2018;bmkp-some-tags-jump&#x2019;</code>), you can use completion. So you can, for example, type <code>&#x2018;vac TAB&#x2019;</code> to show all of your vacation tags (in <code>&#x2018;*Completions*&#x2019;</code>), and drill down, completing more, to pick whichever particular vacation tag you&#x2019;re interested in. This is similar to traversing a web-browser tree-like bookmarks menu. But jump commands that use tags let you match any number of tags at the same time, not just one.</p><p>Completion against the set of existing tags is also available when you add tags to a bookmark. And if option <strong><code>&#x2018;bmkp-prompt-for-tags-flag&#x2019;</code></strong> is non-<code>&#x2018;nil&#x2019;</code> then you are prompted to add tags whenever you create or update a bookmark. But unlike the case for web-browser bookmark creation, classifying a bookmark when you create it or update it is optional. You can always add tags later, or not at all.</p><p>Such a purely conventional, pseudo-hierarchy might sound like a silly hack, but it is at least as quick to use as is adding a bookmark to your tree of browser bookmarks. And it is more useful, because the organization is more flexible and you can have multiple, independent hierarchies.</p><p>The tagging scheme just described can help you keep track of things, even though it is very simple. There is nothing special about it. You might come up with other conventions for classifying tags, which you find more convenient or more powerful. And remember that tags can be more than just names. They give you the full power of Lisp values - do with them whatever you like.</p><p><a class="anchor" name="FunctionSequenceVarlistBookmarks"></a> </p><h2>Function, Sequence, Variable-List,... Bookmarks</h2><p>Bookmarks are typically thought of only as recorded locations. Invoking a bookmark, called &#x201c;jumping&#x201d; to it, traditionally means just visiting its location. <strong>Bookmark+</strong> looks at bookmarks in a more general way than that. A bookmark is a shortcut of some kind &#x2013; nothing more. It is typically persistent, but it need not be (see <a class="local anchor" href="#TemporaryBookmarks">Temporary Bookmarks</a>).</p><p>A given type of bookmark is defined by its handler function, which can do anything you like. We&#x2019;ve already seen the examples of region bookmarks, which restore the <a class="local" href="https://www.emacswiki.org/emacs/active_region">active region</a>, and <a class="local" href="https://www.emacswiki.org/emacs/Dired">Dired</a> bookmarks, which restore Dired markings, switches, inserted subdirectories, and hidden (sub)directories.</p><p>A <strong>function bookmark</strong> simply invokes some function &#x2014; any function. You can, for instance, define a window or frame configuration and record the configuration as a bookmark. Then jump to the bookmark to switch contexts. (You can also bookmark a <a class="local" href="https://www.emacswiki.org/emacs/DeskTop">desktop</a> and jump to that.)</p><p>Function bookmarks might not seem too interesting, since there are other ways to invoke functions in Emacs. But the other features of <strong>Bookmark+</strong> combine with this feature. You can, for instance, tag function bookmarks.</p><p>And you can combine them, invoking the functions sequentially. This is a particular case of using a <strong>sequence bookmark</strong>, which simply records a sequence of bookmarks. The bookmarks in a sequence can be of any kind, including other sequence bookmarks.</p><p>Command <strong><code>&#x2018;bmkp-make-function-bookmark&#x2019;</code></strong> (<strong><code>&#x2018;C-x p c F&#x2019;</code></strong>) creates a function bookmark &#x2014; you give it a function symbol or a lambda expression.</p><p>A function bookmark can invoke a <em>keyboard macro</em> instead of a function. With a <a class="local" href="https://www.emacswiki.org/emacs/prefix_argument">prefix argument</a>, <code>&#x2018;bmkp-make-function-bookmark&#x2019;</code> creates a function bookmark from the last keyboard macro. Jumping to the bookmark executes the keyboard macro. A bookmark is thus one way to make a keyboard macro persistent.</p><p>If you provide a prefix argument to the bookmark jump command or key that invokes a function bookmark, it is passed along to the function. If the bookmark invokes a keyboard macro then the prefix argument determines how many times the macro is invoked.</p><p>The most general way to create or update a sequence bookmark is using command <strong><code>&#x2018;bmkp-set-sequence-bookmark&#x2019;</code></strong> (<strong><code>&#x2018;C-x p c s&#x2019;</code></strong>). You are prompted for the sequence bookmark name and the names of the bookmarks that form its sequence and are thus invoked by it sequentially.</p><p>If the sequence bookmark already exists then a prefix argument determines whether the bookmarks you name are <em>added</em> to the existing sequence or <em>replace</em> it, and if added, whether before or after the bookmarks already in the sequence.</p><p>Command <strong><code>&#x2018;bmkp-wrap-bookmark-with-last-kbd-macro&#x2019;</code></strong> (<strong><code>&#x2018;C-x p c C-k&#x2019;</code></strong>) returns a sequence bookmark that invokes a bookmark you name and then invokes the last keyboard macro. You are prompted for the names of both bookmarks. If the sequence bookmark does not yet exist then it is created. (The bookmark to be added to the sequence need not exist yet, and it is not created by adding its name to the sequence.)</p><p>If you enter the same name for the sequence bookmark and the bookmark to wrap with the keyboard macro, then the macro is simply added to that (sequence) bookmark.</p><p>For example, if you enter <code>&#x2018;my-seq&#x2019;</code> for both of the <code>&#x2018;bmkp-wrap-bookmark-with-last-kbd-macro&#x2019;</code> prompts, then the last keyboard macro is added to sequence bookmark <code>&#x2018;my-seq&#x2019;</code>. Bookmark <code>&#x2018;my-seq&#x2019;</code> need not exist yet, in which case it is created, with the keyboard macro as its only member bookmark.</p><p>If the bookmark to add to the sequence is itself a different (existing) sequence bookmark, then its member bookmarks are added to the sequence being updated (or created), either before or after its existing members, according to the prefix arg (which is passed to <code>&#x2018;bmkp-set-sequence-bookmark&#x2019;</code>).</p><p>Command <strong><code>&#x2018;bmkp-bmenu-make-sequence-from-marked&#x2019;</code></strong> creates a sequence from the marked bookmarks in the <a class="local anchor" href="#BookmarkListDisplay">bookmark-list display</a>, in their current order.</p><p>If you use library <strong><a class="local" href="https://www.emacswiki.org/emacs/Dired%2b">Dired+</a></strong> then you can use command <strong><code>&#x2018;diredp-do-bookmark-dirs-recursive&#x2019;</code></strong> to create a Dired bookmark for the current Dired buffer and each of its marked subdirectories. Each of those subdirectories is handled similarly, and so on, recursively. This command also creates a sequence bookmark that includes all of these Dired bookmarks, so that it represents a tree (hierarchy) of Dired buffers that are opened together. This provides an alternative to inserting all of the relevant subdirectories into the same Dired buffer. With a <a class="local" href="https://www.emacswiki.org/emacs/prefix_argument">prefix argument</a>, all of the descendent Dired buffers are included, whether or not they are marked.</p><p>You can also create a function bookmark directly from a keyboard macro, using command <strong><code>&#x2018;bmkp-set-kmacro-bookmark&#x2019;</code></strong>. And you can save the current set of keyboard macros as a bookmark, using command <strong><code>&#x2018;bmkp-set-kmacro-list-bookmark&#x2019;</code></strong> - jumping to it restores all of the macros.</p><p>A <strong>variable-list</strong> bookmark saves and restores the values of a set of variables. Command <strong><code>&#x2018;bmkp-set-variable-list-bookmark&#x2019;</code></strong> prompts you for the variables to include in the list and then sets the bookmark. Command <code>&#x2018;bmkp-jump-variable-list&#x2019;</code> (<strong><code>&#x2018;C-x j v&#x2019;</code></strong>) restores the recorded variable values for the bookmark&#x2019;s buffer. You can also create variable-list bookmarks non-interactively, using function <code>&#x2018;bmkp-create-variable-list-bookmark&#x2019;</code>.</p><p><a class="anchor" name="zones.el"></a> If you use library <tt><a class="local" href="https://www.emacswiki.org/emacs/zones.el">zones.el</a></tt> (see <a class="local" href="https://www.emacswiki.org/emacs/Zones">Zones</a> and <a class="local" href="https://www.emacswiki.org/emacs/MultipleNarrowings">MultipleNarrowings</a>), then you can move among multiple restrictions (narrowings) in a buffer. The restrictions are stored in buffer-local variable <code>&#x2018;zz-izones&#x2019;</code>. Command <strong><code>&#x2018;bmkp-set-izones-bookmark&#x2019;</code></strong> bookmarks this value for the current buffer. Jumping to such a bookmark restores the saved ring/stack of restrictions.</p><p><a class="anchor" name="LittlePersistentNamedNothings"></a> </p><h3>Little Persistent Named Nothings</h3><p>OK, so a bookmark need not &#x201c;go&#x201d; anywhere. Function, sequence, variable-list, and some other kinds of bookmarks have no real &#x201c;location&#x201d; to move to or restore. But the bookmarks talked about so far at least have an associated action: you can &#x201c;jump&#x201d; to them, even if &#x201c;jump&#x201d; can mean a arbitrary action that might have nothing to do with reaching a destination.</p><p>You can also have a <strong>non-invokable</strong> bookmark, that is, one that you cannot jump to. This is a bookmark whose handler is the function <code>&#x2018;ignore&#x2019;</code>, which does nothing.</p><p><em>What&#x2019;s the point of that?</em> To <em>record something persistently</em>, without needing to manage the file(s) you record it in, and to be able to access that something <em>by name</em>.</p><p>As an example, library <strong><a class="local" href="https://www.emacswiki.org/emacs/Isearch%2b">Isearch+</a></strong> provides one such use case. It lets you interactively <a class="local" href="https://www.emacswiki.org/emacs/DynamicIsearchFiltering">add, modify, and remove Isearch filter
predicates on the fly</a>, providing more power and flexibility in searching.</p><p>(A filter predicate is a function that accepts the current search-hit limits as arguments. If it returns <code>&#x2018;nil&#x2019;</code> then that search hit is excluded from searching; otherwise it is included.)</p><p>You can also, on the fly, encapsulate the current suite of filter predicates as a new filter predicate. That is, you can manipulate a complex sequence of filters as a single predicate, using a simple name. And you can save the definition of that new predicate in a file, so you can use it again in future Emacs sessions.</p><p>Alternatively, you can just bookmark the search predicate. The data saved in the bookmark is the suite of filters that is the advised value of <code>&#x2018;isearch-filter-predicate&#x2019;</code> at the time of bookmarking.</p><p>Then, in a future Emacs session, while Isearching you can hit a key and enter the bookmark name (with completion), to apply that suite of filters again.</p><p>Bookmarking is easier than defining a new predicate and bothering with a file to save it in. This is the kind of thing that bookmarks are for: <em>persistently saving named bits of data for later retrieval by name</em>.</p><p>Because the saved data in this case (the filter definition) has no use outside the context of searching, there is no way to invoke it &#x2013; no jump action. Its handler is <code>&#x2018;ignore&#x2019;</code>.</p><p>You can apply all Bookmark+ features to non-invokable bookmarks: sort, edit, tag &#x2013; whatever. Use <strong>Bookmark+</strong> to organize them, even if you cannot invoke them.</p><p>Non-invokable bookmarks are shown using face <code>&#x2018;bmkp-no-jump&#x2019;</code> in the bookmark-list display.</p><p>It is also possible for a bookmark to have a handler other than <code>&#x2018;ignore&#x2019;</code>, so that it is invokable, but that its jump action is appropriate only in certain contexts. This is the case, for instance, for an <a class="local" href="https://www.emacswiki.org/emacs/Icicles">Icicles</a> search-hits bookmark. You cannot invoke it outside the context of <a class="local" href="https://www.emacswiki.org/emacs/Icicles_-_Search_Commands%2c_Overview">Icicles searching</a>. For this reason, these bookmarks are also shown with face <code>&#x2018;bmkp-no-jump&#x2019;</code> in the bookmark-list display.</p><p><a class="anchor" name="EditingBookmarks"></a> </p><h2>Editing Bookmarks</h2><p>In vanilla Emacs, you can edit the annotation associated with a bookmark. And you can rename a bookmark. But that is all. There is no easy way to really edit a bookmark.</p><p>With <strong>Bookmark+</strong>:</p><ul><li>You can use <strong><code>&#x2018;r&#x2019;</code></strong> in the <a class="local anchor" href="#BookmarkListDisplay">bookmark-list display</a> (or <strong><code>&#x2018;C-x p r&#x2019;</code></strong> elsewhere) to edit the <em>name</em> and the target <em>file name</em> (bookmarked location) of a bookmark. You are prompted for the new names.</li><li>You can use <strong><code>&#x2018;e&#x2019;</code></strong> in the bookmark-list display (or <strong><code>&#x2018;C-x p E&#x2019;</code></strong> elsewhere) to edit a complete bookmark &#x2013; all of its information. You edit the internal <a class="local" href="https://www.emacswiki.org/emacs/EmacsLisp">EmacsLisp</a> <a class="local" href="https://www.emacswiki.org/emacs/sexp">sexp</a> that represents the bookmark <em>record</em>. This is the same internal definition that you see when you use <code>&#x2018;C-u C-h RET&#x2019;</code> in the bookmark list.</li><li>You can use <strong><code>&#x2018;E&#x2019;</code></strong> in the bookmark-list display to edit the bookmark records of all of the <em>marked</em> bookmarks. Again, this means editing their internal Lisp sexps. In particular, this gives you an easy way to edit <em>tags</em> across multiple bookmarks. All of the editing power of Emacs is available.</li><li>You can use <strong><code>&#x2018;T e&#x2019;</code></strong> in the bookmark list (or <strong><code>&#x2018;C-x p t e&#x2019;</code></strong> elsewhere), to edit a bookmark&#x2019;s tags.</li></ul><p>For all but the first of these, you are placed in a separate editing buffer. Use <strong><code>&#x2018;C-c C-c&#x2019;</code></strong> when you are done editing, to save your changes. (To cancel, just kill the buffer: <code>&#x2018;C-x k&#x2019;</code>.)</p><p>There are many more keys and commands for editing bookmark tags. You can <em>copy</em> tags (<strong><code>&#x2018;C-x p t c&#x2019;</code></strong>) from one bookmark and <em>paste</em> them to others, either replacing the original tags (<strong><code>&#x2018;C-x p t C-y&#x2019;</code></strong>) or adding to them (<strong><code>&#x2018;C-x p t q&#x2019;</code></strong>). You can be prompted for some tags to <em>add</em> (<strong>`<code>T +</code></strong>&#x2019;) or <em>remove</em> (<strong><code>&#x2018;T -&#x2019;</code></strong>) from a bookmark. You can <em>delete</em> a tag from all bookmarks (<strong><code>&#x2018;T d&#x2019;</code></strong>). You can <em>rename</em> a tag everywhere (<strong><code>&#x2018;T r&#x2019;</code></strong>). And you can set a tag&#x2019;s <em>value</em>.</p><p>As usual, all such commands are also available on the <strong>Bookmark+</strong> menus. The menus provide quick reminders of the available keys, as does the help from <strong>`<code>?</code></strong>&#x2019; in the bookmark-list display.</p><p><a class="anchor" name="BookmarkRecords"></a> </p><h3>Bookmark Records: What A Bookmark Looks Like</h3><p>It&#x2019;s worth dispelling some of the mystery about what a bookmark is by mentioning what it looks like. This can help when you edit a bookmark record. The first thing to mention is that the basic structure of a bookmark record is described in the doc string of variable <code>&#x2018;bookmark-alist&#x2019;</code> &#x2013; but I&#x2019;ll repeat some of that info here.</p><p>A <strong>bookmark record</strong> is nothing more than a list whose first element is a string, the bookmark <strong>name</strong>. The other list elements are <strong>properties</strong>: key+value pairs that define the bookmark data. Each such pair is a <a class="local" href="https://www.emacswiki.org/emacs/cons">cons</a>: a nonempty list or a dotted list.</p><p>The <a class="local" href="https://www.emacswiki.org/emacs/car">car</a> of the property is its name (a Lisp <a class="local" href="https://www.emacswiki.org/emacs/symbol">symbol</a>). The <a class="local" href="https://www.emacswiki.org/emacs/cdr">cdr</a> is its value. What the value can be depends on the property &#x2013; in general it can be any Lisp value (number, string, list, symbol, etc.). A property with a null cdr means the same thing as having no such property present. For example, having the empty property `<code>(tags)</code>&#x2019; is the same as having no <code>&#x2018;tags&#x2019;</code> property at all.</p><p>There is nothing more to it: properties can be anything you like, provided you provide some code to recognize them and do something with them.</p><p>Of course, the types of properties you use most (maybe always) are predefined, and the vanilla <code>bookmark.el</code> code and the <strong>Bookmark+</strong> code recognize and use them. The most important and most typical property is this: `<code>(filename . "/some/file/name.txt")</code>&#x2019;, that is, a cons whose car is the symbol <strong><code>&#x2018;filename&#x2019;</code></strong> and whose cdr is the name (a string) of the bookmarked file.</p><p>With that in mind, you can see that <em>renaming</em> a bookmark just means changing the string that is its car. And <em>relocating</em> a bookmark just means changing the string that is its <code>&#x2018;filename&#x2019;</code> &#x2013; e.g., from `<code>(filename . "/home/foo.el")</code>&#x2019; to `<code>(filename . "/some/other.xml")</code>&#x2019;.</p><p>If you already have a bookmark file, typically `<code>~/.emacs.bmk</code>&#x2019;, take a look at the bookmark records in it. A typical bookmark also has these properties, in addition to <code>&#x2018;filename&#x2019;</code>: <strong><code>&#x2018;position&#x2019;</code></strong>, <strong><code>&#x2018;front-context-string&#x2019;</code></strong>, and <strong><code>&#x2018;rear-context-string&#x2019;</code></strong>. You can guess what they are &#x2013; if not, see the doc string of <code>&#x2018;bookmark-alist&#x2019;</code>.</p><p>A <strong>Bookmark+</strong> bookmark typically has some additional properties that you can also guess. Properties <strong><code>&#x2018;time&#x2019;</code></strong> and <strong><code>&#x2018;visits&#x2019;</code></strong> are updated automatically each time you access the bookmark.</p><p>Some bookmarks have a <strong><code>&#x2018;handler&#x2019;</code></strong> property whose value is a function that &#x201c;jumps&#x201d; to the bookmark &#x201c;location&#x201d;. I put those two terms in quotes here because a handler is really just <em>any</em> function &#x2013; it can do anything you like, and there need not be any associated location.</p><p>Some <strong>Bookmark+</strong> bookmarks, including <a class="local anchor" href="#AutofileBookmarks">autofile</a> bookmarks, just &#x201c;jump&#x201d; to a <em>file</em>. The position in the file is unimportant, and &#x201c;jumping&#x201d; does not necessarily mean visiting the file with Emacs. In effect, such bookmarks are just wrappers around the file, letting you get the advantage of <strong>Bookmark+</strong> features (tags etc.) for a file. Such bookmarks, which you can create using <code>&#x2018;C-x p c a&#x2019;</code> or <code>&#x2018;C-x p c f&#x2019;</code>, contain a <strong><code>&#x2018;file-handler&#x2019;</code></strong> property instead of a <code>&#x2018;handler&#x2019;</code> property. The difference between the two is that the <code>&#x2018;file-handler&#x2019;</code> value is a function (Lisp function or shell command) to be applied to the file, not to the bookmark.</p><p><em>Remember:</em> A bookmark is just a persistent bit of information, typically meta-information about a file and a position in that file.</p><p>I&#x2019;m mentioning all of this to make the point that you cannot really hurt anything if you edit a bookmark record and you mess things up. The worst you can do is mess up all of your bookmarks by making the file unreadable as Lisp data. (It&#x2019;s always a good idea to back up your bookmark file from time to time.)</p><p>And if each bookmark record after you edit it is a cons with a string car then your bookmarks are generally OK, even if you might have ruined the details of one or two of them. Suppose you somehow mistakenly delete the <code>&#x2018;a&#x2019;</code> in a <code>&#x2018;filename&#x2019;</code> property, for instance. No big deal &#x2013; that bookmark no longer has a recognizable target location, but the other bookmarks are still OK.</p><p>The most important property for <strong>Bookmark+</strong> users (aside from <code>&#x2018;filename&#x2019;</code>) is probably <strong><code>&#x2018;tags&#x2019;</code></strong>. Its value (the cdr) is a list of strings or conses &#x2013; the bookmark&#x2019;s tags. When you create a tag, it is typically a string (just its name) &#x2013; e.g. <code>"blue"</code>. If you then give it a value as well, it becomes a cons with that string (the name) as car and the value as cdr &#x2013; e.g. `<code>("blue" . 42)</code>&#x2019; or `<code>("blue" moonbeam 42)</code>&#x2019; &#x2013; here the cdr is the list `<code>(moonbeam 42)</code>&#x2019;. Here is an example of a <code>&#x2018;tags&#x2019;</code> property: `<code>(tags "hegel" ("blue" . honeypot) "darwin")</code>&#x2019;. Most of the time you will use strings as tags. See also <a class="local anchor" href="#TagsAsAttributes">Bookmark Tags Can Have Values</a>.</p><p>When you edit bookmark records, just try to stay away from changing any properties that you are not familiar with. And make sure that when you&#x2019;re done you have a proper Lisp list (open parens closed etc.). If you&#x2019;ve never played with Lisp before, do not panic.</p><p>Be aware if you see dots (<strong>`<code>.</code></strong>&#x2019;) that they are important, and they must be surrounded by whitespace: <strong>`<code> . </code></strong>&#x2019;. The amount of whitespace never matters in Lisp (except inside a string etc.).</p><p>Such a dot just separates the car of a cons from its cdr. (What&#x2019;s a <a class="local" href="https://www.emacswiki.org/emacs/cons">cons</a>? Just a <a class="local" href="https://www.emacswiki.org/emacs/car">car</a> with a <a class="local" href="https://www.emacswiki.org/emacs/cdr">cdr</a>!) If the cdr is a list then we typically drop the dot and the list&#x2019;s parens: We write `<code>(b)</code>&#x2019; instead of `<code>(b . ())</code>&#x2019; and `<code>(a b)</code>&#x2019; instead of `<code>(a . (b))</code>&#x2019; or `<code>(a . (b . ()))</code>&#x2019;.</p><p>Finally, remember that when you set an existing bookmark again, e.g., you use <code>&#x2018;C-x r m&#x2019;</code> and provide the name of an existing bookmark, the existing properties are generally lost. Some are automatically updated. Any that you might have added by editing are lost, and any that are provided by default by the bookmark handler are replaced. The only exceptions to this are the properties listed in <a class="local" href="https://www.emacswiki.org/emacs/option">option</a> <strong><code>&#x2018;bmkp-properties-to-keep&#x2019;</code></strong>, which by default means properties <code>&#x2018;tags&#x2019;</code> and <code>&#x2018;annotation&#x2019;</code>. Any existing tags and annotation are preserved when you update a bookmark.</p><p><a class="anchor" name="UsingMultipleBookmarkLists"></a> <a class="anchor" name="BookmarkListViews"></a> </p><h2>Bookmark-List Views - Saving and Restoring State</h2><p>The bookmark list (buffer <code>&#x2018;*Bookmark List*&#x2019;</code>) provides a view into the set of bookmarks. You can mark, sort, and hide (filter, omit) bookmarks &#x2014; see <a class="local anchor" href="#BookmarkListDisplay">BookmarkListDisplay</a>. The state of the displayed bookmark list can thus change.</p><p>At different times, and in different contexts, different views can be useful. <strong>Bookmark+</strong> lets you save the current state of the displayed list and later restore it. There are a couple of  different ways to do this.</p><p><a class="anchor" name="QuittingSavesState"></a> </p><h3>Quitting Saves the Bookmark-List State</h3><p>If option <strong><code>&#x2018;bmkp-bmenu-state-file&#x2019;</code></strong> is non-<code>&#x2018;nil&#x2019;</code>, which it is by default, then <strong>Bookmark+</strong> remembers the last state of the bookmark list when you quit it or you quit Emacs, and it restores that state when you show the list again (which could be in the next Emacs session). You can think of this feature as your <em>Home</em> page for bookmarks, giving you a stepping stone to the files and directories you use most.</p><p>If, for example, when you quit the bookmark list you are showing only bookmarks to <a class="local" href="https://www.emacswiki.org/emacs/Info">Info</a> nodes and UNIX manual pages, sorted in a particular way, and with some of them marked with <strong>`<code>&gt;</code></strong>&#x2019; for particular processing, then the next time you open the list the same state is restored: the same set of bookmarks is shown, in the same order, with the same markings. Deletion flags (<strong><code>&#x2018;D&#x2019;</code></strong>) and modification indicators (<strong><code>&#x2018;*&#x2019;</code></strong>) are purposefully <em>not</em> saved as part of the display state &#x2014; they are lost when you quit the display.</p><p>You can turn off this automatic <a class="local anchor" href="#BookmarkListDisplay">bookmark-list display</a> state saving, if you want, by customizing option <strong><code>&#x2018;bmkp-bmenu-state-file&#x2019;</code></strong> to <code>&#x2018;nil&#x2019;</code>. And you can toggle this option at any time, using <strong>`<code>C-M-~</code></strong>&#x2019; in the bookmark list (command <strong><code>&#x2018;bmkp-toggle-saving-menu-list-state&#x2019;</code></strong>). In particular, if you want your next visit to the bookmark list to start out with a <em>previously</em> recorded state instead of the current state, just hit `<code>C-M-~</code>&#x2019; before quitting the bookmark list.</p><p><a class="anchor" name="StateRestoration"></a> <a class="anchor" name="bookmark-listBookmarks"></a> </p><h3>State-Restoring Commands and Bookmarks</h3><p>In addition to automatically saving/restoring the final <a class="local anchor" href="#BookmarkListDisplay">bookmark-list display</a> state, you can save this state at any time, any number of times, for later restoration. This gives you the ability to create multiple persistent views of your bookmarks.</p><p>There are two ways to do this:</p><ul><li>Create a bookmark for the <code>&#x2018;*Bookmark List*&#x2019;</code> buffer itself: a bookmark-list bookmark.</li><li>Define a command that restores the bookmark-list state.</li></ul><p>When you use <code>&#x2018;C-x r m&#x2019;</code> (<code>&#x2018;bmkp-bookmark-set-confirm-overwrite&#x2019;</code>) in buffer <code>&#x2018;*Bookmark List*&#x2019;</code> to create a bookmark-list bookmark, the current sort order, filter, regexp pattern, title, and omit list are saved as part of the bookmark. (These concepts are described below &#x2014; see <a class="local anchor" href="#BookmarkListDisplay">BookmarkListDisplay</a>.) Jumping to such a bookmark restores all of these.</p><p><a class="anchor" name="bmkp-bmenu-define-command"></a> Alternatively, you can define a command that does the same thing, but without creating another bookmark &#x2013; use <strong><code>&#x2018;C-c C-c&#x2019;</code></strong> (<code>&#x2018;bmkp-bmenu-define-command&#x2019;</code>) in the bookmark list to do this. You are prompted for the name of the new command. Use the command anytime (including in another Emacs session) to restore the bookmark list.</p><p>Define any number of such commands for the views you use. The file for saving the definitions (see option <strong><code>&#x2018;bmkp-bmenu-commands-file&#x2019;</code></strong>) is never overwritten, so you can also add other code to it manually, if you want. The file is read the first time the bookmark list is displayed in a given Emacs session.</p><p>The state that is saved and restored using a bookmark-list bookmark or a command defined using <code>&#x2018;c&#x2019;</code> is only a partial state. The current set of markings and some other information are not saved, in order to save disk space and save/restore time.</p><p><a class="anchor" name="bmkp-bmenu-define-full-snapshot-command"></a> Sometimes, however, you really want to save the entire bookmark-list state, creating a full snapshot. You can use <strong><code>&#x2018;C-C&#x2019;</code></strong> (aka <code>&#x2018;C-c C-S-c&#x2019;</code>, <code>&#x2018;bmkp-bmenu-define-full-snapshot-command&#x2019;</code>) to do that. This defines a command that restores the bookmark list completely. That is the same thing that happens automatically (by default) whenever you quit the bookmark list (or Emacs), but defining snapshot commands lets you have multiple saved states and switch to them at will.</p><p><em>Be aware, however</em>, that full-snapshot command definitions can be quite large, since they each contain a copy of the current bookmark list and any accessory lists (hidden and marked bookmarks etc.).</p><p>Whether you use <code>&#x2018;c&#x2019;</code> or <code>&#x2018;C&#x2019;</code> to define a state-restoring command or you create a bookmark-list bookmark, you can create a <em>sequence bookmark</em> that combines such bookmark-list restoration with activation of other bookmarks. (To include a state-restoring command in a sequence, you need to first create a function bookmark that uses the command, and then include that bookmark in the sequence.)</p><p><a class="anchor" name="BookmarkingWithoutVisiting"></a> </p><h2>Bookmarking without Visiting the Target</h2><p>There are several use cases for bookmarking a target without  visiting it:</p><p>1. In an Emacs buffer you come across a reference or a link to a file or a URL. You bookmark the target without bothering to visit it first. You do not really care which position in the file is bookmarked.</p><p>2. In Dired, you mark certain files and then bookmark all (each) of them, in one operation.</p><p>3. In a compilation buffer (e.g. <code>&#x2018;*grep*&#x2019;</code>, <code>&#x2018;*compile*&#x2019;</code>) or an occur or multi-occur buffer (<code>&#x2018;*Occur*&#x2019;</code>), you bookmark one or more of the hits. Such a bookmark takes you to the appropriate position in the target file or buffer.</p><p>4. You bookmark a file that you might not even be able to visit in Emacs (in the sense of editing it in a buffer) &#x2013; for example, a music file. &#x201c;Jumping&#x201d; to the bookmark performs an operation appropriate to the file &#x2013; for example, playing music.</p><p><a class="anchor" name="BookmarkingFileOrUrl"></a> </p><h3>Bookmarking a File or a URL</h3><p>You can use commands <strong><code>&#x2018;bmkp-file-target-set&#x2019;</code></strong> and <strong><code>&#x2018;bmkp-url-target-set&#x2019;</code></strong>, bound by default to <strong><code>&#x2018;C-x p c f&#x2019;</code></strong> and <strong><code>&#x2018;C-x p c u&#x2019;</code></strong>, to bookmark any file or URL. <a class="local" href="https://www.emacswiki.org/emacs/completion">Completion</a> is available, the default file name or URL being determined by the text at point. In addition to the file or URL, you are prompted for the bookmark name. (In general, the keys <code>&#x2018;f&#x2019;</code> and <code>&#x2018;u&#x2019;</code> are used in key sequences for file and URL bookmarks, respectively.)</p><p><a class="anchor" name="BookmarkingMarkedFilesInDired"></a> </p><h3>Bookmarking the Marked Files in Dired</h3><p>If you use <strong><a class="local" href="https://www.emacswiki.org/emacs/Dired%2b">Dired+</a></strong>, then you can bookmark all of the marked files in a <a class="local" href="https://www.emacswiki.org/emacs/Dired">Dired</a> buffer at once, as autofiles, even if you normally do not or cannot visit those files in Emacs. These keys are available in Dired:</p><ul><li><strong><code>&#x2018;M-b&#x2019;</code></strong> &#x2013; Bookmark each marked file</li><li><strong><code>&#x2018;C-M-S-b&#x2019;</code></strong> (aka <strong><code>&#x2018;C-M-B&#x2019;</code></strong>) &#x2013; Bookmark each marked file in a bookmark-file that you specify</li><li><strong><code>&#x2018;C-M-b&#x2019;</code></strong> &#x2013; Bookmark each marked file in a bookmark-file you specify, and create  a bookmark for that bookmark-file</li></ul><p>Each of these commands bookmarks each of the marked files as an autofile. By default, the bookmark file used for the latter two commands is in the current directory.</p><p>If you use multiple <code>&#x2018;C-u&#x2019;</code> as a <a class="local" href="https://www.emacswiki.org/emacs/prefix_argument">prefix argument</a> for these commands, then you can bookmark all of the files in Dired, regardless of markings, as follows:</p><ul><li><code>&#x2018;C-u C-u&#x2019;</code> &#x2013; Use all files in Dired, except directories</li><li><code>&#x2018;C-u C-u C-u&#x2019;</code> &#x2013; Use all files and dirs, except `<code>.</code>&#x2019; and `<code>..</code>&#x2019;</li><li><code>&#x2018;C-u C-u C-u C-u&#x2019;</code> &#x2013; Use all files and all directories</li></ul><p><code>&#x2018;C-M-b&#x2019;</code> not only bookmarks each of the marked files, it also creates a <em>bookmark-file bookmark</em> for that set of bookmarks. See <a class="local anchor" href="#BookmarkFileBookmarks">Bookmark-File Bookmarks</a>, below.</p><p>You can later &#x201c;jump&#x201d; to that bookmark to load its set of bookmarks. If you use <code>&#x2018;C-u&#x2019;</code> when you jump to it, then you switch bookmark files, so that <code>&#x2018;C-x p e&#x2019;</code> (or <code>&#x2018;C-x r l&#x2019;</code>) displays only the bookmarks created from the marked files. Without <code>&#x2018;C-u&#x2019;</code>, jumping to the bookmark-file bookmark simply loads its bookmarks into the current set of bookmarks.</p><p><a class="anchor" name="BookmarkingCompilationGrepOccurHits"></a> </p><h3>Bookmarking Compilation, Grep, and Occur Hits</h3><p>In a similar way, you can bookmark the file or buffer positions of selected hits in a compilation buffer (including <code>&#x2018;*grep*&#x2019;</code>) or an <code>&#x2018;occur&#x2019;</code> or <code>&#x2018;multi-occur&#x2019;</code> buffer.</p><p><strong><code>&#x2018;C-c C-b&#x2019;</code></strong> in such a buffer bookmarks the target of the hit at point. <strong><code>&#x2018;C-c C-M-b&#x2019;</code></strong> bookmarks the target of each hit in the buffer.</p><p><code>&#x2018;C-c C-M-b&#x2019;</code> in these buffers is thus similar to <code>&#x2018;M-b&#x2019;</code> in a <a class="local" href="https://www.emacswiki.org/emacs/Dired">Dired</a> buffer. Unlike Dired, however, there is no way to <em>mark</em> such hits. Every hit is bookmarked.</p><p>Nevertheless, you can get the same effect. Just use <code>&#x2018;C-x C-q&#x2019;</code> to make the buffer writable (e.g. temporarily), and then remove any hits that you do not want to bookmark. You can remove hits anyway you like, including by <code>&#x2018;C-k&#x2019;</code> and by <a class="local" href="https://www.emacswiki.org/emacs/regexp">regexp</a> (<code>&#x2018;M-x flush-lines&#x2019;</code> or <code>&#x2018;M-x keep-lines&#x2019;</code>).</p><p>See also: <a class="local anchor" href="#AutonamedBookmarks">AutonamedBookmarks</a>, bookmarking occur hits using autonamed bookmarks.</p><p><a class="anchor" name="BookmarkingFilesYouCannotVisitWithEmacs"></a> </p><h3>Bookmarking Files That You Cannot Visit with Emacs</h3><p>You use lots of files that you never visit using Emacs, but that you might like to keep track of or access in other ways: music files, image files, whatever.</p><p>Here&#x2019;s an example that one <strong>Bookmark+</strong> user came up with: <a class="url http" href="http://my.opera.com/purgat0ri/blog/2012/08/14/jury-rigging-a-collection-manager-in-emacs">http://my.opera.com/purgat0ri/blog/2012/08/14/jury-rigging-a-collection-manager-in-emacs</a></p><p>You can define a new kind of bookmark for any file type you are interested in, implementing a bookmark handler for it that performs the appropriate action on it when you &#x201c;jump&#x201d; to it. That action needs to be expressible using an Emacs function, but it need not have anything to do with visiting the file in Emacs.</p><p>When you bookmark a target file that Emacs recognizes as an image or sound file, an appropriate handler is used automatically.</p><p>After you create individual bookmarks for, say, music or image files, you can use <code>&#x2018;P B&#x2019;</code> in the <a class="local anchor" href="#BookmarkListDisplay">bookmark-list display</a> to show only those bookmarks, and then use <code>&#x2018;C-x r m&#x2019;</code> to bookmark that state of the bookmark-list.</p><p>That bookmark-list bookmark in effect becomes a music playlist or an image library or slideshow. Jump to it anytime you want to listen to that set of music pieces or view those images. And you can use <code>&#x2018;C-x p B&#x2019;</code> and then <code>&#x2018;C-x p next&#x2019;</code> to cycle among the music pieces or images (slideshow). (See <a class="local anchor" href="#CyclingNavList">Cycling the Navigation List</a>.)</p><p>Together with the use of bookmark tags, this gives you a handy way to organize and access objects of any kind. See <a class="local anchor" href="#BookmarkTags">Bookmark Tags</a>.</p><p>You use option <strong><code>&#x2018;bmkp-default-handlers-for-file-types&#x2019;</code></strong> to control which operation (bookmark handler) to use for which file type. This is a set of associations (an <a class="local" href="https://www.emacswiki.org/emacs/alist">alist</a>) with each key being a <a class="local" href="https://www.emacswiki.org/emacs/regexp">regexp</a> matching a file name, and with each associated value being a Lisp <a class="local" href="https://www.emacswiki.org/emacs/sexp">sexp</a> that evaluates to either a shell command (a string) or an Emacs function (a <a class="local" href="https://www.emacswiki.org/emacs/symbol">symbol</a> or lambda form).</p><p>You can think of <code>&#x2018;bmkp-default-handlers-for-file-types&#x2019;</code> as somewhat analogous to <code>&#x2018;auto-mode-alist&#x2019;</code>. But it maps file-name patterns to file actions instead of mapping them to buffer modes. And it has an effect only when you use certain commands.</p><p>The handler for the bookmark created invokes the shell command or the Emacs function with the file name as argument.</p><p>Here is an example option value:</p><pre> ((<span class="string">"<span>\\</span>.ps$"</span> . <span class="string">"gsview32.exe"</span>)
  (<span class="string">"<span>\\</span>.html?$"</span> . browse-url)
  (<span class="string">"<span>\\</span>.doc$"</span> . w32-browser))</pre><p>This value causes creation of bookmarks that, when you jump to them, invoke:</p><ul><li>shell command `<code>gsview32.exe</code>&#x2019; on the bookmark&#x2019;s target file if it is <a class="local" href="https://www.emacswiki.org/emacs/PostScript">PostScript</a> (extension `<code>.ps</code>&#x2019;)</li><li><a class="local" href="https://www.emacswiki.org/emacs/EmacsLisp">EmacsLisp</a> function <code>&#x2018;browse-url&#x2019;</code> on the file if it is HTML (extension `<code>.htm</code>&#x2019; or `<code>.html</code>&#x2019;)</li><li><a class="local" href="https://www.emacswiki.org/emacs/EmacsLisp">EmacsLisp</a> function <code>&#x2018;w32-browser&#x2019;</code> on the file if the file extension is `<code>.doc</code>&#x2019; (e.g., a Microsoft Word file)</li></ul><p>The default value of <code>&#x2018;bmkp-default-handlers-for-file-types&#x2019;</code> is taken from the value of option <strong><code>&#x2018;dired-guess-shell-alist-user&#x2019;</code></strong> (from <a class="local" href="https://www.emacswiki.org/emacs/Dired_X">Dired X</a>).</p><p>The associations are checked in order, and the first one that matches the given file name is used. You can thus order them to deal with overlapping file-name patterns.</p><p>If no matching file association is found in <code>&#x2018;bmkp-default-handlers-for-file-types&#x2019;</code>, and if option <strong><code>&#x2018;bmkp-guess-default-handler-for-file-flag&#x2019;</code></strong> is non-<code>&#x2018;nil&#x2019;</code> (it is <code>&#x2018;nil&#x2019;</code> by default), then <strong>Bookmark+</strong> will <em>guess</em> a shell command to use. It does this by matching the file name against <code>&#x2018;dired-guess-shell-alist-default&#x2019;</code> (also from <a class="local" href="https://www.emacswiki.org/emacs/Dired_X">Dired X</a>). In Emacs 23 and later, if it finds no shell command that way then it guesses one based on mailcap entries.</p><p>When a bookmark is created using <code>&#x2018;C-x p c f&#x2019;</code> or <code>&#x2018;C-x p c a&#x2019;</code> for a file that matches <code>&#x2018;bmkp-default-handlers-for-file-types&#x2019;</code>, the shell command or Lisp function that &#x201c;jumps to&#x201d; (opens) the file is saved in the bookmark as property <strong><code>&#x2018;file-handler&#x2019;</code></strong> (not <code>&#x2018;handler&#x2019;</code>).</p><p><a class="anchor" name="bmkp-w32-browser-jump"></a> <a class="anchor" name="WindowsFileAssociations"></a> </p><h3>Opening Bookmarks Using Windows File Associations</h3><p>If you use Microsoft Windows there is no need to define new bookmark types and handlers, if the action you want is the one that Windows associates with the file. You already have a set of file/program associations, and <strong>Bookmark+</strong> recognizes these as alternative handlers.</p><p>You can thus take advantage of Windows file associations to open bookmarks for files of all kinds. To do this, you also need library <tt><a class="local" href="https://www.emacswiki.org/emacs/w32-browser.el">w32-browser.el</a></tt>. In the bookmark list, the following keys are bound to commands that open bookmarks using the associated Windows <code>&#x2018;Open&#x2019;</code> applications:</p><ul><li><strong><code>&#x2018;M-RET&#x2019;</code></strong> &#x2013; <code>&#x2018;bmkp-bmenu-w32-open&#x2019;</code></li><li><strong><code>&#x2018;M-mouse-2&#x2019;</code></strong> &#x2013; <code>&#x2018;bmkp-bmenu-w32-open-with-mouse&#x2019;</code></li><li><strong><code>&#x2018;M-o&#x2019;</code></strong> &#x2013; <code>&#x2018;bmkp-bmenu-w32-jump-to-marked&#x2019;</code></li></ul><p>Windows file associations are always available to you, in addition to any other file associations that you define using <code>&#x2018;bmkp-default-handlers-for-file-types&#x2019;</code> (see <a class="local anchor" href="#BookmarkingFilesYouCannotVisitWithEmacs">Bookmarking Files You Cannot Visit with Emacs</a>).</p><p>You can thus have two different programs associated with the same kind of file. Your MS Windows file association for <span>PostScript</span> might, for example, use Adobe Distiller to create a PDF file from <span>PostScript</span>, while your <code>&#x2018;bmkp-default-handlers-for-file-types&#x2019;</code> association for Postcript might use <span>GhostView</span> to display it directly.</p><p>Besides using <code>&#x2018;M-RET&#x2019;</code> etc. in buffer <code>&#x2018;*Bookmark List*&#x2019;</code>, if in <code>&#x2018;bmkp-default-handlers-for-file-types&#x2019;</code> you register <code>&#x2018;w32-browser&#x2019;</code> as the association to use for a given file pattern, then you can use command <strong><code>&#x2018;bmkp-w32-browser-jump&#x2019;</code></strong> (not bound, by default) anywhere to open a bookmark whose file name matches that pattern, using its Windows file-association program.</p><p>You can also specify <strong><code>&#x2018;w32-browser&#x2019;</code></strong> as the bookmark &#x201c;type&#x201d; when you use command <code>&#x2018;bmkp-jump-to-type&#x2019;</code> (`<code>C-x j :</code>&#x2019;). Either of these approaches gives you a way to use completion to choose a bookmark to open using a Windows file association.</p><p>Specifying such an association in <code>&#x2018;bmkp-default-handlers-for-file-types&#x2019;</code> means that bookmarks for such a file will have a <code>&#x2018;file-handler&#x2019;</code> value of <code>&#x2018;w32-browser&#x2019;</code>, to &#x201c;jump&#x201d; to (i.e., open) the file.</p><p>To set up a given file extension for use this way, add an entry <code>(REGEXP . w32-browser)</code> to option <code>&#x2018;bmkp-default-handlers-for-file-types&#x2019;</code>, where <code>REGEXP</code> matches the file extension.</p><p>For example, to make a command such as <code>&#x2018;bmkp-bookmark-a-file&#x2019;</code> (<code>&#x2018;C-x p c a&#x2019;</code>) automatically bookmark <strong>`<code>*.doc</code></strong>&#x2019; files using the associated MS Windows program (typically MS Word), add this entry: <code>("\\.doc$" . w32-browser)</code>.</p><p><a class="anchor" name="AutofileBookmarks"></a> </p><h3>Autofile Bookmarks</h3><p>An <strong><a class="definition" href="https://www.emacswiki.org/emacs?search=%22autofile+bookmark%22" name="autofile_bookmark" rel="nofollow" title="Click to search for references to this permanent anchor">autofile bookmark</a></strong> , or just an <strong><a class="definition" href="https://www.emacswiki.org/emacs?search=%22autofile%22" name="autofile" rel="nofollow" title="Click to search for references to this permanent anchor">autofile</a></strong> , is a bookmark that uses the non-directory part of its file name as its bookmark name.</p><p>You can look at an autofile bookmark as just a <em>file wrapper</em>: a way to attach meta information (such as tags) to a file. But you can use an autofile bookmark much as you would use a file.</p><p>To create a new autofile bookmark, you can use <strong><code>&#x2018;bmkp-bookmark-a-file&#x2019;</code></strong> (aka <strong><code>&#x2018;bmkp-autofile-set&#x2019;</code></strong>), which is bound by default to <strong><code>&#x2018;C-x p c a&#x2019;</code></strong>. (In general, the key <strong><code>&#x2018;a&#x2019;</code></strong> is used in key sequences for autofile bookmarks.)</p><p>If <a class="local" href="https://www.emacswiki.org/emacs/user_option">user option</a> <strong><code>&#x2018;bmkp-propertize-bookmark-names-flag&#x2019;</code></strong> is non-<code>&#x2018;nil&#x2019;</code>, which it is by default with Emacs 21 and later, then you can have <em>multiple bookmarks with the same name</em>. This is important for autofile bookmarks because the bookmark name is only the non-directory part of the file name. This <strong>Bookmark+</strong> feature lets you have different autofile bookmarks for files of the same name in different directories.</p><p>In addition to the single autofile bookmark that you can create for a given absolute file location, you can of course create additional bookmarks to the same file, using different bookmark names. Among other things, this lets you tag the same file in different ways.</p><p>You can use <strong><code>&#x2018;C-x j a&#x2019;</code></strong> (<strong><code>&#x2018;bmkp-autofile-jump&#x2019;</code></strong>) or <strong><code>&#x2018;C-x 4 j a&#x2019;</code></strong> (<strong><code>&#x2018;bmkp-autofile-jump-other-window&#x2019;</code></strong>) to visit an autofile bookmark. And there are commands for visiting an autofile that is tagged in certain ways. For example, <strong><code>&#x2018;bmkp-autofile-some-tags-regexp-jump&#x2019;</code></strong> (<strong>`<code>C-x j t a % +</code></strong>&#x2019;) jumps to an autofile bookmark that has at least one tag matching a given regexp. See <a class="local anchor" href="#TaggingFiles">Tagging Files</a>.</p><p>You can create autofiles automatically whenever you use an Emacs file-cache command, by customizing user option <strong><code>&#x2018;bmkp-autofile-filecache&#x2019;</code></strong>.</p><p>This optional bookmark creation can replace adding the file to the cache, or it can be in addition to caching the file. This is done by advising command <code>&#x2018;file-cache-add-file&#x2019;</code>, which means that it affects also the other Emacs file-cache commands that use that function, directly or indirectly:</p><ul><li><code>&#x2018;file-cache-add-directory&#x2019;</code></li><li><code>&#x2018;file-cache-add-directory-list&#x2019;</code></li><li><code>&#x2018;file-cache-add-directory-recursively&#x2019;</code></li><li><code>&#x2018;file-cache-add-directory-using-find&#x2019;</code></li><li><code>&#x2018;file-cache-add-directory-using-locate&#x2019;</code></li><li><code>&#x2018;file-cache-add-file-list&#x2019;</code></li></ul><p>See <a class="local" href="https://www.emacswiki.org/emacs/FileNameCache">FileNameCache</a> and the Emacs manual, node <a class="manual" href="https://www.emacswiki.org/info-ref?find=File%20Name%20Cache">`File Name Cache'</a>.</p><p>If option <strong><code>&#x2018;bmkp-autofile-access-invokes-bookmark-flag&#x2019;</code></strong> is non-<code>&#x2018;nil&#x2019;</code> then regular access of a file (e.g. <code>&#x2018;find-file&#x2019;</code>) invokes the associated autofile bookmark, if there is one. This has the effect of updating the bookmark data, such as the number of visits. The default value of the option is <code>&#x2018;nil&#x2019;</code>. To set the option value, either use <a class="local" href="https://www.emacswiki.org/emacs/Customize">Customize</a> interactively or use a Customize function.</p><p>Finally, if you use libraries <strong><a class="local" href="https://www.emacswiki.org/emacs/Dired%2b">Dired+</a></strong> and <strong><a class="local" href="https://www.emacswiki.org/emacs/HighlightLibrary">Highlight</a></strong> (<tt><a class="local" href="https://www.emacswiki.org/emacs/highlight.el">highlight.el</a></tt>) then autofiles are highlighted specially in <a class="local" href="https://www.emacswiki.org/emacs/Dired">Dired</a>, and the highlighting indicates whether the file is tagged. Here is a screenshot:</p><p><a class="image" href="https://www.emacswiki.org/emacs/DrewsEmacsDiredAutofiles"><img alt="DrewsEmacsDiredAutofiles" class="upload" src="https://www.emacswiki.org/pics/static/DrewsEmacsDiredAutofiles" /></a></p><p><a class="anchor" name="TypeAwarefind-file"></a> </p><h3>A Type-Aware `find-file'</h3><p><a class="local" href="https://www.emacswiki.org/emacs/user_option">User option</a> <strong><code>&#x2018;bmkp-default-handlers-for-file-types&#x2019;</code></strong> (see <a class="local anchor" href="#BookmarkingFilesThatYouCannotVisitWithEmacs">Bookmarking Files That You Cannot Visit with Emacs"</a>) gives you a way to associate a file <em>type</em>, as determined by the file name (typically its extension) with a default file <em>action</em>. This is like MS Windows file associations, but it is specific to Emacs and <strong>Bookmark+</strong>. And it is <em>useful for more than just bookmarks</em>.</p><p>Commands <strong><code>&#x2018;bmkp-find-file&#x2019;</code></strong> (<strong><code>&#x2018;C-x j C-f&#x2019;</code></strong>) and <strong><code>&#x2018;bmkp-find-file-other-window&#x2019;</code></strong> (<strong><code>&#x2018;C-x 4 j C-f&#x2019;</code></strong>) take advantage of this association to open files. If a file name matches no pattern in <code>&#x2018;bmkp-default-handlers-for-file-types&#x2019;</code> then these commands act like <code>&#x2018;find-file&#x2019;</code> and <code>&#x2018;find-file-other-window&#x2019;</code>. Otherwise, the invoke the associated file handler in <code>&#x2018;bmkp-default-handlers-for-file-types&#x2019;</code>.</p><p>Invoking the handler is just what the ordinary autofile jump commands (e.g. <code>&#x2018;C-x j a&#x2019;</code>) do. But <code>&#x2018;bmkp-find-file&#x2019;</code> is different in a couple of ways.</p><p>Like vanilla <code>&#x2018;find-file&#x2019;</code> (<code>&#x2018;C-x C-f&#x2019;</code>), <code>&#x2018;C-x j C-f&#x2019;</code> and <code>&#x2018;C-x 4 j C-f&#x2019;</code> use <strong><code>&#x2018;read-file-name&#x2019;</code></strong> to prompt you for the file name. The completion candidates are the names of all of the <strong><em>files</em></strong> in the current directory (<code>&#x2018;default-directory&#x2019;</code>), that is, the directory of your current minibuffer input. This includes the names of any autofile bookmarks in the same directory. And like <code>&#x2018;C-x C-f&#x2019;</code> you can change directory, <em>navigating up and down the file hierarchy</em>. In sum, these commands are <em>file-aware</em>.</p><p>The ordinary autofile jump commands on the other hand use <strong><code>&#x2018;completing-read&#x2019;</code></strong> to complete your input against all autofile <strong><em>bookmark</em></strong> names, regardless of directory. And since the bookmark names reflect only the relative file names, it is not so easy to distinguish two autofiles with the same name but in different directories. (<strong><a class="local" href="https://www.emacswiki.org/emacs/Icicles">Icicles</a></strong> can help here, BTW.)</p><p>There is a <code>&#x2018;bmkp-find-file-&#x2019;</code> command that corresponds to each <code>&#x2018;bmkp-autofile-&#x2019;</code> command. For example, <code>&#x2018;bmkp-find-file-some-tags-regexp&#x2019;</code> (`<tt>C-x j t <u>C-f</u> % +</tt>&#x2019;) corresponds to <code>&#x2018;bmkp-autofile-some-tags-regexp-jump&#x2019;</code> (`<tt>C-x j t <u>a</u> % +</tt>&#x2019;). All <code>&#x2018;bmkp-find-file&#x2019;</code> commands use <strong>`<tt><u>C-f</u></tt></strong>&#x2019; in their key bindings, as a reminder of their reading file names a la <strong><code>&#x2018;find-file&#x2019;</code></strong>.</p><p>But whereas <code>&#x2018;C-x j C-f&#x2019;</code> and <code>&#x2018;C-x 4 j C-f&#x2019;</code> let you access any file, the other <code>&#x2018;bmkp-find-file-&#x2019;</code> commands, which find files that have certain tags, provide only autofiles as completion candidates. That&#x2019;s obvious, since files are tagged by bookmarking them.</p><p>You can thus use the <code>&#x2018;C-f&#x2019;</code> commands to take advantage of file-action associations that you define. But if you want to associate metadata (e.g. tags) with files, then you will want to create autofiles. You can do this when you invoke these commands, by providing a prefix argument. Thus, for example, `<code>C-u C-x j C-f
foo.doc</code>&#x2019; opens file `<code>foo.doc</code>&#x2019;, respecting any handler recorded for it via option <code>&#x2018;bmkp-default-handlers-for-file-types&#x2019;</code> &#x2013; but it also creates an autofile bookmark for it.</p><p>Whenever an autofile bookmark is used, regardless of whether you access it using a <code>&#x2018;bmkp-autofile*&#x2019;</code> command or a <code>&#x2018;bmkp-find-file*&#x2019;</code> command, the full bookmark record (including handler) is taken into account.</p><p>Note, however, that the <strong><code>&#x2018;C-f&#x2019;</code></strong> tag commands differ from the <strong><code>&#x2018;a&#x2019;</code></strong> tag commands in how the completion candidates are filtered.</p><p>For the former, <code>&#x2018;read-file-name&#x2019;</code> is passed a predicate that is applied to <em>each file name in the directory</em>, filtering out any such candidates that do not satisfy it (e.g., do not have the required tags).</p><p>This happens before you type any input to match the file name. The predicate checks for a corresponding autofile and checks its tags (depending on the command). If there are lots of files in the current directory, this can take a while.</p><p>For the latter, similar tests are made, but instead of testing each file in the current directory, these commands test <em>each bookmark in the current bookmark list</em>. If there are lots of bookmarks this can take a while.</p><p>In some cases a <strong><code>&#x2018;C-f&#x2019;</code></strong> command is quicker; in some cases a <strong><code>&#x2018;a&#x2019;</code></strong> command is quicker.</p><p>If you use <strong><a class="local" href="https://www.emacswiki.org/emacs/Icicles">Icicles</a></strong>, then the performance hit for <strong><code>&#x2018;C-f&#x2019;</code></strong> when there are lots of files in a directory is greatly reduced. This is because <strong>Icicles</strong> applies the filtering predicate <em>after</em>, not before, you type text in the minibuffer. In other words, instead of testing each file in the directory, it tests <em>only the files that match your input</em>. (In addition, if you use <strong>Icicles</strong> then you get <a class="local" href="https://www.emacswiki.org/emacs/multi-command">multi-command</a> versions of each of these bookmark commands, which means that you can visit more than one file per command invocation.)</p><p><a class="anchor" name="TaggingFiles"></a> </p><h2>Tagging Files</h2><p>Section <a class="local anchor" href="#BookmarkTagSets">Tags: Sets of Bookmarks</a> covers bookmark tags, which are persistent metadata that you define to help you organize bookmarks into meaningful sets.</p><p>Section <a class="local anchor" href="#AutofileBookmarks">Autofile Bookmarks</a> describes autofile bookmarks, which, in effect, let you treat files generally as if they were bookmarks. You can choose a file to visit or act on by its name and location, but also by its bookmark metadata.</p><p>In particular, you can <strong><em>tag a file</em></strong> &#x2013; that is, specify tags for its associated autofile bookmark. And you can then visit a file that has a given set of tags. <strong>Bookmark+</strong> provides file commands that automatically create and manipulate autofile bookmarks, that is, bookmarks that have the same name as the files they tag.</p><p>Command <strong><code>&#x2018;bmkp-tag-a-file&#x2019;</code></strong> (aka <strong><code>&#x2018;bmkp-autofile-add-tags&#x2019;</code></strong>), bound by default to <strong>`<code>C-x p t + a</code></strong>&#x2019;, prompts you for a set of tags and a file location, and creates or sets the corresponding autofile bookmark. Command <strong><code>&#x2018;bmkp-untag-a-file&#x2019;</code></strong> (aka <strong><code>&#x2018;bmkp-autofile-remove-tags&#x2019;</code></strong>), bound by default to <strong><code>&#x2018;C-x p t - a&#x2019;</code></strong>, similarly lets you remove specified tags from a file.</p><p>If you also use library <strong><a class="local" href="https://www.emacswiki.org/emacs/Icicles">Icicles</a></strong>, then you can act on multiple files during the same command (a <em><a class="local" href="https://www.emacswiki.org/emacs/multi-command">multi-command</a></em>). You can thus all at once tag a set of files the same way, or act on a set of files that are tagged similarly. <strong>Icicles</strong> also lets you create autofiles or add or remove tags, on the fly, whenever you use commands (e.g. <code>&#x2018;C-x C-f&#x2019;</code>) that access files.</p><p>If you also use library <strong><a class="local" href="https://www.emacswiki.org/emacs/Dired%2b">Dired+</a></strong> (<tt><a class="local" href="https://www.emacswiki.org/emacs/dired%2b.el">dired+.el</a></tt>) then you can use <strong>`<code>C-+</code></strong>&#x2019; to add tags to the marked files and <strong><code>&#x2018;C--&#x2019;</code></strong> to remove tags from them. You can use <strong>`<code>C-M-+</code></strong>&#x2019; and <strong><code>&#x2018;C-M--&#x2019;</code></strong> to do the same thing for the current file. You can also use items from the <a class="local" href="https://www.emacswiki.org/emacs/Dired">Dired</a> menus to do these things.</p><p><strong>Bookmark+</strong> provides two kinds of command for visiting files associated with bookmarks that have tags.</p><p>The first kind uses bookmarks directly: you choose a bookmark name, not a file name, but the candidates are only file and directory bookmarks. These commands have the prefix <strong><code>&#x2018;bmkp-file-&#x2019;</code></strong> or <strong><code>&#x2018;bmkp-autofile-&#x2019;</code></strong>.</p><p>As a special case, commands with the prefix <strong><code>&#x2018;bmkp-file-this-dir-&#x2019;</code></strong> limit the choices to bookmarks for files and subdirectories of the <em>current directory</em>. By default, the commands across all directories are on <a class="local" href="https://www.emacswiki.org/emacs/prefix_key">prefix key</a> <strong><code>&#x2018;C-x j t f&#x2019;</code></strong>, and those for the current directory only are on prefix key <strong>`<code>C-x j t .</code></strong>&#x2019;. See <a class="local anchor" href="#TypeSpecificJumpCommands">Different Types of Jump Commands</a> for more about these commands.</p><p>The second kind of command is for visiting tagged files, that is, autofile bookmarksjust like the commands with prefix <code>&#x2018;bmkp-autofile-&#x2019;</code>. However, these commands do not handle the bookmark as such, but only its file name. They recognize its tags, but they pay no attention to any special handler or other recorded information.</p><p>These commands have the prefix <strong><code>&#x2018;bmkp-find-file-&#x2019;</code></strong>, and they are on the prefix key <strong><code>&#x2018;C-x j t C-f&#x2019;</code></strong>. The <strong><code>&#x2018;C-f&#x2019;</code></strong> here is intended to remind you of command <code>&#x2018;find-file&#x2019;</code> (<code>&#x2018;C-x C-f&#x2019;</code>). Like <code>&#x2018;find-file&#x2019;</code>, they use <code>&#x2018;read-file-name&#x2019;</code> to read the bookmark&#x2019;s file name, instead of using <code>&#x2018;completing-read&#x2019;</code> to read the bookmark name.</p><p>Yes, for an autofile bookmark the bookmark name and the (relative) file name are the same. But <code>&#x2018;read-file-name&#x2019;</code> is file-aware, and lets you browse up and down the directory hierarchy.</p><p>The <code>&#x2018;bmkp-find-file-&#x2019;</code> commands are available only for Emacs 22 and later (because they use <code>&#x2018;read-file-name&#x2019;</code> with a <code>PREDICATE</code> argument).</p><p>For example:</p><p>`<tt>C-x j t <u>f</u> % +</tt>&#x2019; is <code>&#x2018;bmkp-file-some-tags-regexp-jump&#x2019;</code></p><p>`<tt>C-x j t <u>.</u> % +</tt>&#x2019; is <code>&#x2018;bmkp-file-this-dir-some-tags-regexp-jump&#x2019;</code></p><p>`<tt>C-x j t <u>a</u> % +</tt>&#x2019; is <code>&#x2018;bmkp-autofile-some-tags-regexp-jump&#x2019;</code></p><p>`<tt>C-x j t <u>C-f</u> % +</tt>&#x2019; is <code>&#x2018;bmkp-find-file-some-tags-regexp&#x2019;</code></p><ul><li>The first of these visits <em>any file bookmark</em> that has at least one tag among the tags you specify, and you choose among bookmark names. The files can be in any directories.</li><li>The second is similar to the first, but only bookmarks for files in the <em>current directory</em> are completion candidates.</li><li>The third is similar to the first, but only <em>autofile bookmarks</em> are completion candidates.</li><li>The fourth is similar to the third regarding tags, but it uses <code>&#x2018;read-file-name&#x2019;</code>, so you can <em>browse among all files</em>, up and down the file hierarchy. The completion candidates are <em>file names, not bookmark names</em>.</li></ul><p>If you use <strong><a class="local" href="https://www.emacswiki.org/emacs/Icicles">Icicles</a></strong>, there are similar sets of commands, but they all let you act on multiple files at the same time (<a class="local" href="https://www.emacswiki.org/emacs/multi-command">multi-command</a>s). For example, you can delete (or byte-compile or&#x2026;) a set of files according to their tags.</p><p>Remember that you can create multiple bookmarks for the same file, providing them with different sets of tags. (Only one of the bookmarks is the autofile bookmark.)</p><p>You can also use multiple bookmark files (the files that record bookmarks). Different projects can thus have different tags for the same sets of files, even using just autofile bookmarks. See <a class="local anchor" href="#UsingMultipleBookmarkFiles">Using Multiple Bookmark Files</a>.</p><p>A file bookmark can have any number of tags, and multiple file bookmarks can have the same tag. You can sort, show/hide, or mark files based on their tags.</p><p><a class="anchor" name="UsingMultipleBookmarkFiles"></a> </p><h2>Using Multiple Bookmark Files</h2><p><a class="local anchor" href="#BookmarkListViews">Bookmark-list views</a> provide one way to switch among various sets of bookmarks that you use. But that feature affects only the bookmarks that you see displayed in buffer <code>&#x2018;*Bookmark List*&#x2019;</code>, not the actual set of available bookmarks.</p><p>The bookmarks available to you are defined in a <em>bookmark file</em>. By default, they are stored in the file named by option <strong><code>&#x2018;bmkp-last-as-first-bookmark-file&#x2019;</code></strong>, if non-<code>&#x2018;nil&#x2019;</code>, otherwise in the file named by option  <strong><code>&#x2018;bookmark-default-file&#x2019;</code></strong> (`<code>~/.emacs.bmk</code>&#x2019;, by default).</p><p>If you use only one bookmark file then you never need to load or save it manually. Emacs does that for you automatically.</p><p>But you can have multiple bookmark files if you want, and at any time you can change the bookmark file that is current. To do that, use <strong><code>&#x2018;C-x p L&#x2019;</code></strong> (or just <strong><code>&#x2018;L&#x2019;</code></strong> in the <a class="local anchor" href="#BookmarkListDisplay">bookmark-list display</a>), which is bound to command <strong><code>&#x2018;bmkp-switch-bookmark-file-create&#x2019;</code></strong>. Having multiple bookmark files gives you an added degree of flexibility.</p><p>By default, the <em>last</em> bookmark file you used, in your last Emacs session, is the <em>initial</em> bookmark file that is loaded automatically in your next session. But if you prefer, you can make <strong>Bookmark+</strong> always start with the same bookmark file (<code>&#x2018;bookmark-default-file&#x2019;</code>). User option <strong><code>&#x2018;bmkp-last-as-first-bookmark-file&#x2019;</code></strong> controls this.</p><p>You can easily see which bookmark file is current at any time: It is shown at the top of buffer <code>&#x2018;*Bookmark List*&#x2019;</code>, and it is near the top of the help output from command <code>&#x2018;bmkp-bmenu-mode-status-help&#x2019;</code>, which is what is bound to `<code>?</code>&#x2019; and <code>&#x2018;C-h m&#x2019;</code> in buffer <code>&#x2018;*Bookmark List*&#x2019;</code>.</p><p>When you switch to another bookmark file, the default choice for the file to switch to is the last bookmark file you used (in the same session). So it is trivial to toggle back and forth between two bookmark files: just hit <code>&#x2018;RET&#x2019;</code> to accept the default.</p><p>When bookmarks are saved automatically, or when you save them using <code>&#x2018;bookmark-save&#x2019;</code> (<code>&#x2018;S&#x2019;</code> in the bookmark-list display or <code>&#x2018;C-x p s&#x2019;</code> globally) and you don&#x2019;t use a <a class="local" href="https://www.emacswiki.org/emacs/prefix_argument">prefix argument</a>, they are saved in the current bookmark file.</p><p>You can turn off the automatic saving of the current bookmark file, by customizing option <strong><code>&#x2018;bookmark-save-flag&#x2019;</code></strong> to <code>&#x2018;nil&#x2019;</code>. And you can toggle this option at any time, using <strong>`<code>M-~</code></strong>&#x2019; in the bookmark list (command <strong><code>&#x2018;bmkp-toggle-saving-bookmark-file&#x2019;</code></strong>).</p><p>Besides using multiple bookmark files as <em>alternatives</em>, you can combine them, using them as component bookmark subsets (like modules). To do that, use command <strong><code>&#x2018;C-x p l&#x2019;</code></strong> (lowercase <code>&#x2018;l&#x2019;</code>), which is bound to <strong><code>&#x2018;bookmark-load&#x2019;</code></strong>, and do not use a prefix argument. (Using a prefix argument with <code>&#x2018;C-x p l&#x2019;</code> is the same as using <code>&#x2018;C-x p L&#x2019;</code>: it <em>switches</em> bookmark files.) Here too the default is the name of the last bookmark file that you used.</p><p>In the <code>&#x2018;*Bookmark List*&#x2019;</code> display you can use <strong><code>&#x2018;M-l&#x2019;</code></strong> to load all of the bookmark files corresponding to the <em>marked bookmark-file bookmarks</em>, in the order in which they are displayed. Any non bookmark-file bookmarks that are marked are ignored. Before loading, if any of your currently loaded bookmarks have been modified then you are asked if you want to save them first, before loading the others.</p><p>After loading, to avoid confusion and possible mistakes, automatic saving to the current bookmark file is turned off. You can always use `<code>M-~</code>&#x2019; to turn it back on again. And remember that, as long as you have not saved bookmarks after loading, you can always use <code>&#x2018;C-u g&#x2019;</code> to revert to the bookmarks saved in the bookmark file.</p><p>To <em>create additional bookmark files</em>, to use either as alternatives or as components, you can either copy an existing bookmark file or use <strong><code>&#x2018;bmkp-empty-file&#x2019;</code></strong> (<strong><code>&#x2018;C-x p 0&#x2019;</code></strong>) to create a new, empty bookmark file. If you use <code>&#x2018;C-x p 0&#x2019;</code> with an existing bookmark file, then its bookmarks are all deleted &#x2013; it is emptied.</p><p>Instead of simply copying a bookmark file, you can use <code>&#x2018;bookmark-save&#x2019;</code> with a prefix argument, or use <code>&#x2018;bookmark-write&#x2019;</code> (bound to <code>&#x2018;C-x p w&#x2019;</code>), to save the currently defined bookmarks to a different bookmark file.</p><p>However a bookmark file was created, you can switch to it and then add or delete bookmarks selectively, to change its content. Remember too that you can delete bookmarks from the current set using command <code>&#x2018;bookmark-delete&#x2019;</code> (<code>&#x2018;C-x p d&#x2019;</code>) or, in the bookmark list, using <code>&#x2018;d&#x2019;</code> plus <code>&#x2018;x&#x2019;</code> or marking then <code>&#x2018;D&#x2019;</code>.</p><p><a class="anchor" name="CopyMoveBookmarks"></a> Deleting bookmarks from a bookmark file is one way of editing it. Another is to <em>copy</em> or <em>move bookmarks</em> from one bookmark file to another. In the bookmark-list display, you can copy or move the marked bookmarks (or the current bookmark, if none are marked) from the current bookmark file to another that you name, using <strong><code>`Y &gt; +</code></strong>&#x2019; (<code>&#x2018;bmkp-bmenu-copy-marked-to-bookmark-file&#x2019;</code>) and <strong>`<code>Y &gt; -</code></strong>&#x2019; (<code>&#x2018;bmkp-bmenu-move-marked-to-bookmark-file&#x2019;</code>), respectively. And you  can use <strong>`<code>Y &gt; 0</code></strong>&#x2019; (<code>&#x2018;bmkp-bmenu-create-bookmark-file-from-marked&#x2019;</code>) to create a new bookmark file by copying the marked bookmarks. With a <a class="local" href="https://www.emacswiki.org/emacs/prefix_argument">prefix argument</a>, `<code>Y &gt; 0</code>&#x2019; creates also a bookmark-file bookmark.</p><p><strong>NOTE:</strong></p><dl class="quote"><dt /><dd>Unlike the other ways of organizing bookmarks into sets (tags, bookmark-list bookmarks, etc.) bookmark files represent <em>physical</em>, not logical, groupings of bookmarks. A bookmark file contains complete bookmark records.</dd><dt /><dd>If you copy a bookmark from one bookmark file to another, the copy is an <em>independent</em> bookmark: it has <em>no relation to the bookmark it was copied from</em>. Changes to the copy or the bookmark it was copied from do not affect each other.</dd><dt /><dd>This means that to use bookmark files for organizing bookmarks you will <em>typically move</em>, not copy, bookmarks between them (or copy and later delete). Remember that you can <em>load</em> multiple bookmark files to access their bookmarks together in a session. Think of your bookmark files as independent modules that you can combine.</dd></dl><p>See Also: <a class="local anchor" href="#LoadOrder">Bookmark+ Load Order and Option `bookmark-default-file'</a>.</p><p><a class="anchor" name="BookmarkFileBookmarks"></a> </p><h3>Bookmark-File Bookmarks</h3><p>A bookmark file is an excellent, persistent way to represent a set of bookmarks. In particular, it can represent a project or a project component. Switch among bookmark files to access different projects. Load project components as you need them.</p><p>You can load a bookmark file using <code>&#x2018;C-x p L&#x2019;</code> (switch) or <code>&#x2018;C-x p l&#x2019;</code> (accumulate). As a convenience, you can also load a bookmark file by jumping to a <em>bookmark-file bookmark</em>.</p><p>You use command <strong><code>&#x2018;bmkp-set-bookmark-file-bookmark&#x2019;</code></strong>, bound to <code>&#x2018;C-x p y&#x2019;</code>, to create a bookmark-file bookmark. Jumping to such a bookmark just loads the bookmark file that it records. With <code>&#x2018;C-u&#x2019;</code> (e.g. <code>&#x2018;C-u C-x j y project-foo&#x2019;</code>), jumping <em>switches</em> bookmark files. Without <code>&#x2018;C-u&#x2019;</code> it <em>accumulates</em> the loaded bookmarks.</p><p>You can also use commands <strong><code>&#x2018;bmkp-bookmark-file-load-jump&#x2019;</code></strong> and <strong><code>&#x2018;bmkp-bookmark-file-switch-jump&#x2019;</code></strong> (unbound by default), which load and switch without prompting you for confirmation or whether to first save the current bookmark file.</p><p>A bookmark-file bookmark is not only an added convenience. You can also use it in combination with other Bookmark+ features, such as tagging.</p><p>As a shortcut, in <a class="local" href="https://www.emacswiki.org/emacs/Dired">Dired</a> (if you use library <strong><a class="local" href="https://www.emacswiki.org/emacs/Dired%2b">Dired+</a></strong>), <code>&#x2018;C-M-b&#x2019;</code> creates a bookmark-file bookmark. The bookmark file that it records contains autofile bookmarks to each of the files that was marked in Dired at the time it was created. Jumping to that bookmark-file bookmark makes those (marked) files available as bookmarks. See also <a class="local anchor" href="#BookmarkDiredMarkedFiles">Use Dired to Bookmark Files without Visiting Them</a>.</p><p>Note that the bookmark file in which a bookmark-file bookmark is recorded is not the same as the bookmark file recorded in that bookmark.</p><p>For example, when you use <code>&#x2018;C-M-b&#x2019;</code> in Dired, the bookmark-file for the marked files is, by default, file `<code>.emacs.bmk</code>&#x2019; in the Dired directory. So if you are in directory <code>&#x2018;/foo/bar&#x2019;</code> the default bookmark file for the marked files is `<code>/foo/bar/.emacs.bmk</code>&#x2019;. But the new bookmark-file bookmark created is recorded in the current bookmark file, whatever that might be (e.g. `<code>~/.emacs.bmk</code>&#x2019;).</p><p><a class="anchor" name="BookmarkListDisplay"></a> </p><h2>The Bookmark List Display</h2><p><strong>Bookmark+</strong> enhances the bookmark list (aka the bookmark &#x201c;menu list&#x201d;, a misnomer) that is displayed in buffer <code>&#x2018;*Bookmark List*&#x2019;</code> when you use <code>&#x2018;C-x p e&#x2019;</code> or <code>&#x2018;C-x r l&#x2019;</code> (command <code>&#x2018;bookmark-bmenu-list&#x2019;</code>).</p><p>At the top of the bookmark-list display is this header information:</p><ul><li>The bookmark file used currently. This is important because <strong>Bookmark+</strong> makes it easy for you to have multiple bookmark files and switch among them.</li><li>A title that describes the kinds of bookmarks listed, that is, it reflects athe current filtering, if any.</li></ul><p>For example, this header indicates that the current bookmark file is <code>c:/.emacs.bmk</code> and only file and directory bookmarks are shown:</p><pre>Bookmark file:
c:/.emacs.bmk

File and Directory Bookmarks
----------------------------
</pre><p>(<strong>Bookmark+</strong> does not use the sliding header line of vanilla Emacs 24+, which means that option <code>&#x2018;bookmark-bmenu-use-header-line&#x2019;</code> has no effect. You do not need to see <code>&#x2018;Bookmark&#x2019;</code> and <code>&#x2018;File&#x2019;</code> column headers as you scroll.)</p><p>Bookmarks are highlighted to indicate their type. You can mark and unmark bookmarks, show or hide bookmarks of particular types, and more. Bookmarks that have tags are marked with a <strong><code>&#x2018;t&#x2019;</code></strong>. Bookmarks that have an annotation are marked with an <strong><code>&#x2018;a&#x2019;</code></strong> (not with a <code>&#x2018;*&#x2019;</code> as in vanilla <code>bookmark.el</code>). Bookmarks that have been modified since the last save of the bookmark file are marked with a <strong><code>&#x2018;*&#x2019;</code></strong>. Bookmarks that have bookmark-highlight override settings (see <a class="local anchor" href="#DefiningHowtoHighlight">DefiningHowtoHighlight</a>) are marked with a one-character pink background.</p><p>Use `<code>?</code>&#x2019; or <code>&#x2018;C-h m&#x2019;</code> in buffer <code>&#x2018;*Bookmark List*&#x2019;</code> for more information about the bookmark list, including the following:</p><ul><li>The current status of sorting, filtering, and marking.</li><li>A legend for the faces used for different bookmark types.</li></ul><p><a class="anchor" name="JumpingFromBookmarkListDisplay"></a> </p><h3>Jumping To Bookmarks from the Bookmark List Display</h3><p>Bookmark visiting (jumping) commands are globally on <a class="local" href="https://www.emacswiki.org/emacs/prefix_key">prefix key</a>s <code>&#x2018;C-x j&#x2019;</code> and <code>&#x2018;C-x 4 j&#x2019;</code>. In the <a class="local anchor" href="#BookmarkListDisplay">bookmark-list display</a> they are additionally on <strong><code>&#x2018;j&#x2019;</code></strong> (other window) and <strong><code>&#x2018;J&#x2019;</code></strong> (same window). In addition, <strong>`<code>j &gt;</code></strong>&#x2019; is bound to <strong><code>&#x2018;bmkp-bmenu-jump-to-marked&#x2019;</code></strong>, which jumps to each of the marked bookmarks in other windows.</p><p><a class="anchor" name="TagCommandsAndKeys"></a> </p><h3>Tag Commands and Keys</h3><p>There are lots of tag-related bookmark commands, and most are bound to keys in buffer <code>&#x2018;*Bookmark List*&#x2019;</code> as well as to other keys outside it. How can you keep the commands straight or remember their keys?</p><p>In the bookmark list display, tags-command keys begin with prefix key <strong><code>&#x2018;T&#x2019;</code></strong>. Elsewhere, they begin with prefix key <strong><code>&#x2018;C-x p t&#x2019;</code></strong> (or <strong><code>&#x2018;C-x j t&#x2019;</code></strong>, for jump commands &#x2013; see <a class="local anchor" href="#TypeSpecificJumpCommands">Different Types of Jump Commands</a>).</p><p><code>&#x2018;C-h m&#x2019;</code> is your friend, of course. Likewise <strong><code>&#x2018;T C-h&#x2019;</code></strong>, <strong><code>&#x2018;C-x p t C-h&#x2019;</code></strong>, and <strong>`<code>C-h &gt;</code></strong>&#x2019; (which describes the <em>marked</em> bookmarks). Beyond that, the tag-related keys  that are more than two keystrokes are organized as follows:</p><ul><li>They all have the <a class="local" href="https://www.emacswiki.org/emacs/prefix_key">prefix key</a> <strong><code>&#x2018;T&#x2019;</code></strong>.</li><li><strong><code>&#x2018;m&#x2019;</code></strong> means <em style="text-decoration: underline; font-style: normal;">m</em>ark</li><li><strong><code>&#x2018;u&#x2019;</code></strong> means <em style="text-decoration: underline; font-style: normal;">u</em>nmark</li><li><strong>`<code>&gt;</code></strong>&#x2019; stands for the marked bookmarks</li><li><strong><code>&#x2018;*&#x2019;</code></strong> means AND (set intersection; all)</li><li><strong>`<code>+</code></strong>&#x2019; means OR  (set union; some/any)</li><li><strong>`<code>~</code></strong>&#x2019; means NOT (set complement)</li></ul><p>The key <code>&#x2018;T m *&#x2019;</code>, for instance, marks (<code>&#x2018;m&#x2019;</code>) the bookmarks that are tagged with <em>all</em> (<code>&#x2018;*&#x2019;</code> = AND) of a given set of tags. It prompts you for one or more tags that the bookmarks must have, and it marks all bookmarks that have all of the tags you enter.</p><p>The key `<code>T u ~ +</code>&#x2019; unmarks (<code>&#x2018;u&#x2019;</code>) the bookmarks that do <em>not</em> (`<code>~</code>&#x2019;) have <em>any</em> (`<code>+</code>&#x2019; = OR) of the tags you specify. And so on. The marking and unmarking commands for tags compare the tags a bookmark has with tags that you enter. Any bookmarks that have no tags are ignored &#x2013; they are neither marked nor unmarked by these commands.</p><p><strong>`<code>+</code></strong>&#x2019; and <strong><code>&#x2018;-&#x2019;</code></strong> can also mean <em>add</em> and <em>remove</em> tags, respectively, and <strong>`<code>&gt;</code></strong>&#x2019; stands for the <em>marked</em> bookmarks. So `<code>T &gt; +</code>&#x2019; adds (`<code>+</code>&#x2019;) one or more tags to each of the marked (`<code>&gt;</code>&#x2019;) bookmarks.</p><p>In general, the tag-related commands let you enter a <em>set</em> of tags, one at a time. Thus, instead of having a command that adds a single tag to the current bookmark, you have a command that adds any number of tags to it. To add just a single tag, hit <code>&#x2018;RET&#x2019;</code> twice: once to enter the tag, and once again to indicate that it is the last (i.e., the only) one.</p><p>If you just hit <code>&#x2018;RET&#x2019;</code> immediately, specifying an empty set of tags, then each of the commands does something appropriate. For <code>&#x2018;T m *&#x2019;</code>, for instance, an empty list of tags means to mark (only) the bookmarks that have some tags (any at all).</p><p>Finally, for the marking/unmarking tags commands, a <a class="local" href="https://www.emacswiki.org/emacs/prefix_argument">prefix argument</a> flips the sense of the command, in this way:</p><ul><li>&#x201c;some are&#x201d; &#x2192; &#x201c;some are NOT&#x201d;, i.e., &#x201c;not all are&#x201d; (and vice versa)</li><li>&#x201c;all are&#x201d; &#x2192; &#x201c;all are NOT&#x201d;, i.e., &#x201c;none are&#x201d; (and vice versa)</li></ul><p>In other words:</p><pre>  C-u T m *    =  T m ~ +  (all are NOT      = not some are)
  C-u T m ~ +  =  T m *    (not some are NOT = all are)
  C-u T m +    =  T m ~ *  (some are NOT     = not all are)
  C-u T m ~ *  =  T m +    (not all are NOT  = some are)</pre><p>You&#x2019;ll figure it out ;-).</p><p>Other important keys pertaining to tags (the keys in parentheses work in any buffer, not just buffer <code>&#x2018;*Bookmark List*&#x2019;</code>):</p><ul><li><strong><code>&#x2018;C-h RET&#x2019;</code></strong> (<strong>`<code>C-x p ?</code></strong>&#x2019;) shows you the tags that belong to a bookmark. With a prefix argument it shows you the full internal form of the tags, that is, the name+value pairs.</li><li><strong>`<code>C-h &gt;</code></strong>&#x2019; describes all of the <em>marked</em> bookmarks, in the current sort order. The descriptions include the tags. (You can use <code>&#x2018;T m * RET&#x2019;</code> to mark all of the tagged bookmarks.)</li><li><strong><code>&#x2018;T e&#x2019;</code></strong> (<strong><code>&#x2018;C-x p t e&#x2019;</code></strong>) lets you edit a bookmark&#x2019;s tags.</li><li><strong><code>&#x2018;T l&#x2019;</code></strong> (<strong><code>&#x2018;C-x p t l&#x2019;</code></strong>) lists all tags currently known to Emacs (across all bookmarks).</li><li>Keys that add/remove tags:<ul><li><strong>`<code>T +</code></strong>&#x2019; (<strong>`<code>C-x p t + b</code></strong>&#x2019;) adds some tags to a bookmark.</li><li><strong><code>&#x2018;T -&#x2019;</code></strong> (<strong><code>&#x2018;C-x p t - b&#x2019;</code></strong>) removes some tags from a bookmark.</li><li><strong><code>&#x2018;T 0&#x2019;</code></strong> (<strong><code>&#x2018;C-x p t 0&#x2019;</code></strong>) removes all tags from a bookmark.</li><li><strong><code>&#x2018;T d&#x2019;</code></strong> (<strong><code>&#x2018;C-x p t d&#x2019;</code></strong>) removes a set of tags from all bookmarks.</li></ul></li></ul><p>In the bookmark list display you can also sort bookmarks according to how they are tagged, even in complex ways. See <a class="local anchor" href="#SortingBookmarks">SortingBookmarks</a>.</p><p><a class="anchor" name="BookmarkTagSets"></a> </p><h3>Tags: Sets of Bookmarks</h3><p>The best way to think about tags is as <em>names</em> of persistent <em>sets</em>. All bookmarks tagged <code>&#x2018;blue&#x2019;</code> constitute the bookmark set named <code>&#x2018;blue&#x2019;</code>. The bookmarks visible in the bookmark list at any time also constitute an unnamed set. Likewise, the marked bookmarks and the unmarked bookmarks are unnamed sets. <strong>Bookmark+</strong> is all about helping you act on sets of Emacs objects. Bookmarks are named, persistent pointers to objects such as files and file sets. Bookmark tags are named, persistent sets of bookmarks (and hence of their target objects).</p><p>The marking commands make it easy to combine sets as unions or intersections. And you can give the result a name for quick access later, just by adding a new tag. In other words, do the set-definition work only once, and name the result.</p><p>How would you tag as <code>&#x2018;Java IDE Projects&#x2019;</code> the bookmarks that are already tagged both <code>&#x2018;Java&#x2019;</code> and <code>&#x2018;ide&#x2019;</code>?</p><ol><li><code>&#x2018;T m * Java RET ide RET RET&#x2019;</code>, to mark them.</li><li>`<code>T &gt; + Java IDE Projects RET RET</code>, to tag them.</li></ol><p>How would you sort your bookmarks, to show all those tagged both <code>&#x2018;blue&#x2019;</code> and <code>&#x2018;moon&#x2019;</code> first?</p><ol><li><code>&#x2018;T m * blue RET moon RET RET&#x2019;</code>, to mark them.</li><li>`<code>s &gt;</code>&#x2019; to sort the marked bookmarks first (see <a class="local anchor" href="#SortingBookmarks">SortingBookmarks</a>, below).</li></ol><p>If you wanted to <em>show</em> only the marked bookmarks, instead of sorting to put them first in the list, you would use `<code>&gt;</code>&#x2019; instead of `<code>s &gt;</code>&#x2019;.</p><p>How would you query-replace the set of files that are tagged with <em>any</em> of the tags <code>&#x2018;alpha&#x2019;</code>, <code>&#x2018;beta&#x2019;</code>, and <code>&#x2018;gamma&#x2019;</code>, but are <em>not</em> tagged <code>&#x2018;blue&#x2019;</code> or <code>&#x2018;moon&#x2019;</code>?</p><ol><li><code>&#x2018;F S&#x2019;</code>, to show only the file bookmarks (see <a class="local anchor" href="#FilteringBookmarks">FilteringBookmarks</a>, below).</li><li>`<code>T m + alpha RET beta RET gamma RET RET</code>&#x2019;, to mark the bookmarks that have at least one of those tags.</li><li>`<code>T u + blue RET moon RET RET</code>&#x2019;, to unmark those that are tagged <code>&#x2018;blue&#x2019;</code> or <code>&#x2018;moon&#x2019;</code>.</li><li><code>&#x2018;M-q&#x2019;</code> to query-replace the marked files.</li></ol><p>If that were a set of files that you used often, then you would name the set by giving the files a new tag.</p><p>The point is that bookmarks, and bookmark tags in particular, let you define and manipulate sets of Emacs objects. It doesn&#x2019;t matter how you define such a set: regexp matching (marking, filtering), by object type, by tag combinations&#x2026; Sets need not be named to act on them, but you can provide them with persistent names (tags) to avoid redefining them over and over. Manipulation of bookmarked objects includes visiting, searching, and query-replacing. And you can define your own bookmark types (using bookmark handlers) and associated manipulations.</p><p><a class="anchor" name="bmkp-bmenu-dired-marked"></a> <a class="anchor" name="OpenDiredForMarkedFileBookmarks"></a> </p><h3>Open Dired for the Marked File Bookmarks</h3><p>You&#x2019;ve seen that the bookmark list has many features that are similar to <a class="local" href="https://www.emacswiki.org/emacs/Dired">Dired</a> features. But Dired is specialized for files and directories, and it has many more features for manipulating them. The bookmark list is not intended to replace Dired.</p><p>You can, however, use the bookmark list to take advantage of arbitrary Dired features for file and directory bookmarks. Command <code>&#x2018;bmkp-bmenu-dired-marked&#x2019;</code> (<strong>`<code>M-d &gt;</code></strong>&#x2019;) weds <strong>Bookmark+</strong>&#x2019;s set-defining and set-manipulating features (tagging, marking, filtering etc.) to Dired&#x2019;s file-manipulating features.</p><p>`<code>M-d &gt;</code>&#x2019; opens a Dired buffer that is specialized for just the files and directories whose bookmarks are marked in the bookmark list. (Other marked bookmarks are ignored by the command.) The files and directories can be located anywhere; they need not be in the same directory. They are listed in Dired using absolute file names.</p><p>(In Emacs versions prior to release 23.2, only local files and directories can be handled, due to Emacs bug #5478. In such versions, remote-file bookmarks are ignored by `<code>M-d &gt;</code>&#x2019;.)</p><p>This <strong>Bookmark+</strong> feature makes sets of files and directories immediately amenable to all of the operations provided by Dired.</p><p>It is particularly useful in conjunction with tags. Use bookmark tags and marks to define a possibly complex set of file and directory bookmarks. Then hit `<code>M-d &gt;</code>&#x2019; to list them in a Dired buffer. Then use any Dired commands you want to act on any of them.</p><p>For example, to compress bookmarked files that are tagged with both <code>&#x2018;blue&#x2019;</code> and <code>&#x2018;moon&#x2019;</code>:</p><ol><li>Mark them using <code>&#x2018;T m * blue RET moon RET RET&#x2019;</code>.</li><li>Open Dired for them using `<code>M-d &gt;</code>&#x2019;.</li><li>Mark them in Dired, then compress them using <code>&#x2018;Z&#x2019;</code>.</li></ol><p>Since tags are persistent, <strong>Bookmark+</strong> gives you a good way to define an arbitrary set of files as a project and then open them in Dired at any time to operate on them.</p><p>If you use <strong><a class="local" href="https://www.emacswiki.org/emacs/Dired%2b">Dired+</a></strong> (library <tt><a class="local" href="https://www.emacswiki.org/emacs/dired%2b.el">dired+.el</a></tt>), then a similar feature is available for the marked files and directories: You can use <strong><code>&#x2018;C-M-*&#x2019;</code></strong> in Dired to open a separate Dired buffer for them only. You can of course then bookmark that resulting Dired buffer, if you like.</p><p>If you use <strong><a class="local" href="https://www.emacswiki.org/emacs/Icicles">Icicles</a></strong>, then whenever you use a command that reads a file (or directory) name, you can use <strong>`<code>M-|</code></strong>&#x2019; during file-name <a class="local" href="https://www.emacswiki.org/emacs/completion">completion</a> to open Dired on the currently matching set of file names. That is, this is the same kind of special Dired buffer that is provided for file and directory bookmarks by `<code>M-d &gt;</code>&#x2019; in the bookmark list.</p><p><a class="anchor" name="MarkingAndUnmarkingBookmarks"></a> </p><h3>Marking and Unmarking Bookmarks</h3><p><strong>Bookmark+</strong> enhances marking and unmarking of bookmarks in the bookmark list in several ways. In general, these enhancements are similar to features offered by <a class="local" href="https://www.emacswiki.org/emacs/DiredMode">Dired</a> and <a class="local" href="https://www.emacswiki.org/emacs/Dired_X">Dired X</a>. You can use:</p><ul><li><strong>`<code>% m</code></strong>&#x2019; to mark the bookmarks that match a <a class="local" href="https://www.emacswiki.org/emacs/regexp">regexp</a>. The entire line in the bookmark list is checked for a match, that is, both the bookmark name and the file name, if shown.</li><li><strong><code>&#x2018;M-DEL&#x2019;</code></strong> (or <strong><code>&#x2018;U&#x2019;</code></strong>) to unmark all bookmarks, or all that are marked `<code>&gt;</code>&#x2019;, or all that are flagged <code>&#x2018;D&#x2019;</code> for deletion.</li><li><strong><code>&#x2018;t&#x2019;</code></strong> to toggle (swap) marked and unmarked bookmarks: those that are marked become unmarked, and vice versa.</li><li><strong>`<code>&gt;</code></strong>&#x2019; to show only the marked bookmarks or <strong>`<code>&lt;</code></strong>&#x2019; to show only the unmarked bookmarks. Repeat to show them all again.</li><li><strong><code>&#x2018;F M&#x2019;</code></strong>, <strong><code>&#x2018;I M&#x2019;</code></strong> etc. to <em style="text-decoration: underline; font-style: normal;">m</em>ark only the <em style="text-decoration: underline; font-style: normal;">f</em>ile bookmarks, <em style="text-decoration: underline; font-style: normal;">I</em>nfo bookmarks etc. (The first key here is the same as the corresponding filter key, e.g. <code>&#x2018;F&#x2019;</code> for files &#x2013; see <a class="local anchor" href="#FilteringBookmarks">FilteringBookmarks</a>, below.)</li><li><strong><code>&#x2018;O M&#x2019;</code></strong> to mark the orphaned bookmarks, that is, those whose recorded files have been renamed or deleted. You can then relocate or delete the bookmarks, as appropriate.</li></ul><p><a class="anchor" name="FilteringBookmarks"></a> </p><h3>Filtering Bookmarks (Hiding and Showing)</h3><p>There are three ways to show only certain bookmarks.</p><p>1. Filter by bookmark type.</p><p>2. Filter bookmarks incrementally and temporarily, using pattern matching.</p><p>3. Filter out the marked or unmarked bookmarks.</p><p><a class="anchor" name="FilteringByBookmarkType"></a> </p><h4>Filtering by bookmark type</h4><p>The commands that show only bookmarks of a particular type are bound to keys that end in <strong><code>&#x2018;S&#x2019;</code></strong> (for &#x201c;show&#x201d;). For example, <code>&#x2018;I S&#x2019;</code> shows only <a class="local" href="https://www.emacswiki.org/emacs/Info">Info</a> bookmarks, and <code>&#x2018;X S&#x2019;</code> shows only <a class="local anchor" href="#TemporaryBookmarks">temporary bookmarks</a>.</p><p>The type filter is reflected in the bookmark-list display title. It says <code>&#x2018;All Bookmarks&#x2019;</code> if no type filter is used. Otherwise it tells you what kind of bookmarks are listed: <code>&#x2018;Autonamed Bookmarks&#x2019;</code>, <code>&#x2018;File and Directory Bookmarks&#x2019;</code>, and so on.</p><p>Note: It is only filtering by bookmark type that is remembered when you save a bookmark-list display state or you create a bookmark-list bookmark. See <a class="local anchor" href="#StateRestoration">State-Restoring Commands and Bookmarks</a>.</p><p><a class="anchor" name="FilteringIncrementallyByPatternMatching"></a> </p><h4>Filtering incrementally by pattern matching</h4><p>These commands show only bookmarks that in some way match a pattern (<a class="local" href="https://www.emacswiki.org/emacs/regexp">regexp</a>) that you type. The bookmarks are filtered <em>incrementally</em> as you type the pattern. Hit any non-inserting key, such as <code>&#x2018;RET&#x2019;</code>, to finish defining the pattern.</p><p>The commands for this are bound to keys that start with <strong><code>&#x2018;P&#x2019;</code></strong> (for &#x201c;pattern&#x201d;). For example, <code>&#x2018;P B&#x2019;</code> shows only bookmarks whose names match the regexp, <code>&#x2018;P F&#x2019;</code> shows those whose file names match, <code>&#x2018;P A&#x2019;</code> shows those whose annotations match, and <code>&#x2018;P T&#x2019;</code> shows those that have one or more tags that match. (See <a class="local anchor" href="#BookmarkTags">BookmarkTags</a>, above, for information about tags.)</p><h4>Filtering based on marking</h4><p>Just as in <a class="local" href="https://www.emacswiki.org/emacs/DiredMode">Dired</a>, you can use <strong>`<code>% m</code></strong>&#x2019; to mark the bookmarks that match a regexp. Then use <strong>`<code>&gt;</code></strong>&#x2019; to show only the marked bookmarks. See <a class="local anchor" href="#MarkingAndUnmarkingBookmarks">MarkingAndUnmarkingBookmarks</a>, above.</p><p>This method has the advantage that you can show the complement: the bookmarks that do <em>not</em> match the regexp, by using <strong>`<code>&lt;</code></strong>&#x2019; instead of `<code>&gt;</code>&#x2019;. It also has the advantage that matching checks the combination of bookmark name and file name (use <code>&#x2018;M-t&#x2019;</code> to toggle showing file names).</p><p>These are the keys for hiding or showing bookmarks:</p><ul><li><strong>`<code>.</code></strong>&#x2019; &#x2013; Show all bookmarks.</li><li><strong><code>&#x2018;B S&#x2019;</code></strong> &#x2013; Show only non-file (e.g. <em style="text-decoration: underline; font-style: normal;">b</em>uffer) bookmarks.</li><li><strong><code>&#x2018;F S&#x2019;</code></strong> &#x2013; Show only <em style="text-decoration: underline; font-style: normal;">f</em>ile (including directory) bookmarks. With a <a class="local" href="https://www.emacswiki.org/emacs/prefix_argument">prefix argument</a>, hide remote-file bookmarks.</li><li><strong><code>&#x2018;G S&#x2019;</code></strong> &#x2013; Show only <em style="text-decoration: underline; font-style: normal;">G</em>nus bookmarks.</li><li><strong><code>&#x2018;I S&#x2019;</code></strong> &#x2013; Show only <em style="text-decoration: underline; font-style: normal;">I</em>nfo bookmarks.</li><li><strong><code>&#x2018;K S&#x2019;</code></strong> &#x2013; Show only des<em style="text-decoration: underline; font-style: normal;">K</em>top bookmarks (see <a class="local anchor" href="#AdditionalTypes">AdditionalTypes</a>).</li><li><strong><code>&#x2018;M S&#x2019;</code></strong> &#x2013; Show only <em style="text-decoration: underline; font-style: normal;">m</em>an-page bookmarks.</li><li><strong><code>&#x2018;O S&#x2019;</code></strong> &#x2013; Show only <em style="text-decoration: underline; font-style: normal;">o</em>mitted bookmarks (see <a class="local anchor" href="#OmittingBookmarks">OmittingBookmarks</a>).</li><li><strong><code>&#x2018;R S&#x2019;</code></strong> &#x2013; Show only bookmarks with <em style="text-decoration: underline; font-style: normal;">r</em>egion information.</li><li><strong><code>&#x2018;V S&#x2019;</code></strong> &#x2013; Show only <em style="text-decoration: underline; font-style: normal;">v</em>ariable-list bookmarks (see <a class="local anchor" href="#FunctionSequenceVarlistBookmarks">variable-list</a>).</li><li><strong><code>&#x2018;W S&#x2019;</code></strong> &#x2013; Show only <em style="text-decoration: underline; font-style: normal;">W</em>3M bookmarks.</li><li><strong><code>&#x2018;X S&#x2019;</code></strong> &#x2013; Show only <a class="local anchor" href="#TemporaryBookmarks">temporary bookmarks</a>.</li><li><strong>`<code>&gt;</code></strong>&#x2019; &#x2013; Toggle showing only marked bookmarks</li><li><strong>`<code>&lt;</code></strong>&#x2019; &#x2013; Toggle showing only unmarked bookmarks</li></ul><h3>Only Visible Bookmarks Are Affected</h3><p>Commands that operate on the current bookmark or on the marked or the unmarked bookmarks <em>act only on bookmarks that are displayed</em> (not hidden). This includes the commands that mark or unmark bookmarks. This means that you can easily define any given set of bookmarks.</p><p>For example:</p><ol><li><code>&#x2018;F S&#x2019;</code> &#x2013; <em style="text-decoration: underline; font-style: normal;">S</em>how only bookmarks associated with <em style="text-decoration: underline; font-style: normal;">f</em>iles.</li><li>`<code>% m</code>&#x2019; &#x2013; <em style="text-decoration: underline; font-style: normal;">M</em>ark those whose names match a particular <a class="local" href="https://www.emacswiki.org/emacs/regexp">regexp</a>.</li><li><code>&#x2018;R S&#x2019;</code> &#x2013; <em style="text-decoration: underline; font-style: normal;">S</em>how only bookmarks that have <em style="text-decoration: underline; font-style: normal;">r</em>egions.</li><li><code>&#x2018;m&#x2019;</code> &#x2013; <em style="text-decoration: underline; font-style: normal;">M</em>ark some of those region bookmarks individually.</li><li>`<code>.</code>&#x2019; &#x2013; Show all bookmarks.</li><li><code>&#x2018;t&#x2019;</code> &#x2013; <em style="text-decoration: underline; font-style: normal;">T</em>oggle the marked and unmarked (so unmarked are now marked)</li><li><code>&#x2018;D&#x2019;</code> &#x2013; <em style="text-decoration: underline; font-style: normal;">D</em>elete all of the marked bookmarks (after confirming)</li></ol><p>Together, steps 1-7 delete all file bookmarks that match the regexp and all region bookmarks that you selectively marked.</p><p><a class="anchor" name="OmittingBookmarks"></a> </p><h3>Omitting Bookmarks from Display</h3><p>In sections <a class="local anchor" href="#MarkingAndUnmarkingBookmarks">MarkingAndUnmarkingBookmarks</a> and <a class="local anchor" href="#FilteringBookmarks">FilteringBookmarks</a> you learned how to hide and show bookmarks in the bookmark list. This section is about a different kind of hiding, called <strong>omitting</strong>.</p><p>Omitted bookmarks are not shown in the bookmark list, no matter what filtering is used. The only way to show omitted bookmarks is to show all of them and only them, using <strong><code>&#x2018;- S&#x2019;</code></strong>, which is bound to command <strong><code>&#x2018;bmkp-bmenu-show-only-omitted&#x2019;</code></strong>.</p><p>Omitted bookmarks are still available even if they are not shown, and you can still jump to them (e.g. using <code>&#x2018;C-x r b&#x2019;</code>). You just don&#x2019;t see them in the bookmark list. And that&#x2019;s the reason for this feature: to hide those bookmarks that you don&#x2019;t care to see.</p><p>One use for this feature is to hide the component bookmarks that make up a sequence bookmark (see <a class="local anchor" href="#FunctionSequenceVarlistBookmarks">FunctionSequenceVarlistBookmarks</a>). The default behavior when you create a sequence bookmark is in fact to omit its component bookmarks from the displayed list.</p><p>You can omit any bookmarks by marking them and then using <strong>`<code>- &gt;</code></strong>&#x2019; (<strong><code>&#x2018;bmkp-bmenu-omit/unomit-marked&#x2019;</code></strong>). If you are looking at the omitted bookmarks (after using <code>&#x2018;- S&#x2019;</code>), then `<code>- &gt;</code>&#x2019; <strong><em>un</em></strong>-omits the bookmarks marked there. Think of two complementary spaces: the normal bookmark list and the omitted bookmark list. When you use `<code>- &gt;</code>&#x2019;, the marked bookmarks that are currently shown are moved to the opposite space.</p><p>You can un-omit <em>all</em> of the omitted bookmarks at once, using <strong><code>&#x2018;- U&#x2019;</code></strong> (<strong><code>&#x2018;bmkp-unomit-all&#x2019;</code></strong>). You can also call this command from outside the bookmark-list display.</p><p>Omitted bookmarks that are marked are generally not included when you use a command that acts on the marked bookmarks. However, if you use a <em>negative <a class="local" href="https://www.emacswiki.org/emacs/prefix_argument">prefix argument</a></em> with the command then they are.</p><p>For some commands this is relaxed so that any prefix arg has this effect. For other commands a non-negative prefix arg has a different effect. In some cases, a non-negative prefix arg has one effect and a non-positive prefix arg has the effect of including omitted marked bookmarks, so that a zero prefix arg has both effects. For any given command, consult the doc string for full information.</p><p><a class="anchor" name="SortingBookmarks"></a> </p><h3>Sorting Bookmarks</h3><p>Filtering hides certain kinds of bookmarks. Sometimes, you want to see bookmarks of various kinds, but you want them to be grouped or sorted in different ways, for easy recognition, comparison, and access.</p><p>Bookmarks shown in the bookmark list are sorted using the current value of option <strong><code>&#x2018;bmkp-sort-comparer&#x2019;</code></strong>. (If that is <code>&#x2018;nil&#x2019;</code>, they are unsorted, which means they appear in reverse chronological order of their creation.)</p><p>You can use <strong><code>&#x2018;s s&#x2019;</code></strong>&#x2026; (repeat hitting the <code>&#x2018;s&#x2019;</code> key) to cycle among the various sort orders possible, updating the display accordingly. By default, you cycle among all available sort orders, but you can shorten the cycling list by customizing option <strong><code>&#x2018;bmkp-sort-orders-for-cycling-alist&#x2019;</code></strong>.</p><p>You can also change directly to one of the main sort orders (without cycling) using <strong>`<code>s &gt;</code></strong>&#x2019;, <strong><code>&#x2018;s n&#x2019;</code></strong>, <strong><code>&#x2018;s f n&#x2019;</code></strong>, etc. There are many such predefined sort orders bound to keys with the prefix <code>&#x2018;s&#x2019;</code> &#x2014; use <code>&#x2018;C-h m&#x2019;</code> or `?&#x2019; for more info.</p><ul><li><strong>`<code>s &gt;</code></strong>&#x2019; &#x2013; Sort marked (`<code>&gt;</code>&#x2019;) before unmarked</li><li><strong><code>&#x2018;s *&#x2019;</code></strong> &#x2013; Sort modified (<code>&#x2018;*&#x2019;</code>) before unmodified</li><li><strong><code>&#x2018;s 0&#x2019;</code></strong> &#x2013; Sort by bookmark creation date/time</li><li><strong><code>&#x2018;s b&#x2019;</code></strong> &#x2013; Sort by last <em style="text-decoration: underline; font-style: normal;">b</em>uffer or file access</li><li><strong><code>&#x2018;s d&#x2019;</code></strong> &#x2013; Sort by last bookmark access <em style="text-decoration: underline; font-style: normal;">d</em>ate/time</li><li><strong><code>&#x2018;s D&#x2019;</code></strong> &#x2013; Sort flagged (<code>&#x2018;D&#x2019;</code>) before unflagged</li><li><strong><code>&#x2018;s f d&#x2019;</code></strong> &#x2013; Sort by last local <em style="text-decoration: underline; font-style: normal;">f</em>ile access <em style="text-decoration: underline; font-style: normal;">d</em>ate/time</li><li><strong><code>&#x2018;s f k&#x2019;</code></strong> &#x2013; Sort by local <em style="text-decoration: underline; font-style: normal;">f</em>ile <em style="text-decoration: underline; font-style: normal;">k</em>ind: file, symlink, dir</li><li><strong><code>&#x2018;s f n&#x2019;</code></strong> &#x2013; Sort by <em style="text-decoration: underline; font-style: normal;">f</em>ile <em style="text-decoration: underline; font-style: normal;">n</em>ame</li><li><strong><code>&#x2018;s f s&#x2019;</code></strong> &#x2013; Sort by local <em style="text-decoration: underline; font-style: normal;">f</em>ile <em style="text-decoration: underline; font-style: normal;">s</em>ize</li><li><strong><code>&#x2018;s f u&#x2019;</code></strong> &#x2013; Sort by last local <em style="text-decoration: underline; font-style: normal;">f</em>ile <em style="text-decoration: underline; font-style: normal;">u</em>pdate (edit) date/time</li><li><strong><code>&#x2018;s g&#x2019;</code></strong> &#x2013; Sort by <em style="text-decoration: underline; font-style: normal;">G</em>nus thread: group, article, message.</li><li><strong><code>&#x2018;s i&#x2019;</code></strong> &#x2013; Sort by <em style="text-decoration: underline; font-style: normal;">I</em>nfo manual, node, position</li><li><strong><code>&#x2018;s k&#x2019;</code></strong> &#x2013; Sort by bookmark type (<em style="text-decoration: underline; font-style: normal;">k</em>ind)</li><li><strong><code>&#x2018;s n&#x2019;</code></strong> &#x2013; Sort by bookmark <em style="text-decoration: underline; font-style: normal;">n</em>ame</li><li><strong><code>&#x2018;s t&#x2019;</code></strong> &#x2013; Sort tagged (<code>&#x2018;t&#x2019;</code>) before untagged</li><li><strong><code>&#x2018;s v&#x2019;</code></strong> &#x2013; Sort by <em style="text-decoration: underline; font-style: normal;">v</em>isit frequency</li></ul><p>You can <em style="text-decoration: underline; font-style: normal;">r</em>everse the current sort direction (ascending/descending) using <strong><code>&#x2018;s r&#x2019;</code></strong>. Also, repeating any of the main sort-order commands (e.g. <code>&#x2018;s n&#x2019;</code>) cycles among that order, the reverse, and unsorted.</p><p>[For a complex sort, which involves composing several sorting conditions, you can also use <strong><code>&#x2018;s C-r&#x2019;</code></strong> to reverse the order of bookmark sorting groups or the order within each group (depending on whether <code>&#x2018;s r&#x2019;</code> is also used). Try it, for example, together with sorting by bookmark kind (<code>&#x2018;s k&#x2019;</code>).</p><p>Be aware that <code>&#x2018;s C-r&#x2019;</code> can be a bit unintuitive. If it does not do what you expect or want, or if it confuses you, then don&#x2019;t use it ;-). (<code>&#x2018;s C-r&#x2019;</code> has no noticeable effect on simple sorting.)]</p><p>Remember that you can combine sorting with filtering different sets of bookmarks &#x2013; bookmarks of different kinds (e.g. Info) or bookmarks that are marked or unmarked.</p><p>Finally, you can easily define your own sorting commands and sort orders. See macro <strong><code>&#x2018;bmkp-define-sort-command&#x2019;</code></strong> and the documentation for option <code>&#x2018;bmkp-sort-comparer&#x2019;</code>. (<strong>Bookmark+</strong> uses option <strong><code>&#x2018;bmkp-sort-comparer&#x2019;</code></strong>; it <em>ignores</em> vanilla Emacs option <code>&#x2018;bookmark-sort-flag&#x2019;</code>.)</p><p>Of particular note is that you can interactively define commands that sort by a given list of tags &#x2014; you use keys <strong><code>&#x2018;T s&#x2019;</code></strong> (command <code>&#x2018;bmkp-define-tags-sort-command&#x2019;</code>) to do that. You are prompted for the tags to sort by. Bookmarks are sorted first according to whether they are tagged with the first tag, then the second tag, and so on. Otherwise, sorting is by bookmark name.</p><p>The tags you specify are used, in order, in the name of the new command. For example, if you enter tags <code>&#x2018;alpha&#x2019;</code>, <code>&#x2018;beta&#x2019;</code>, and <code>&#x2018;gamma&#x2019;</code>, in that order, then the sorting command created is <code>&#x2018;bmkp-bmenu-sort-alpha-beta-gamma&#x2019;</code>. The new command is saved in your bookmark commands file (<code>&#x2018;bmkp-bmenu-commands-file&#x2019;</code>).</p><p>Note that because you can add a new tag to all bookmarks that have some given set of tags, you can use that single (new) tag to represent the entire tag set. Sorting by that tag is then the same as sorting by the tag set. You can of course use overlapping sets in the composite sort command. You can, for example, sort first according to tag <code>&#x2018;tag1&#x2019;</code>, which represents the set of tags <code>&#x2018;alpha&#x2019;</code>, <code>&#x2018;beta&#x2019;</code>, <code>&#x2018;gamma&#x2019;</code>, <code>&#x2018;delta&#x2019;</code>, and then sort according to tag <code>&#x2018;tag2&#x2019;</code>, which represents the set of tags <code>&#x2018;beta&#x2019;</code>, <code>&#x2018;delta&#x2019;</code>.</p><p>See also <a class="local" href="https://www.emacswiki.org/emacs/ApplesAndOranges">ApplesAndOranges</a> for more about the sorting used in <strong>Bookmark+</strong>. See also <a class="local anchor" href="#UseBookmarkPlusWithIcicles">bookmark sorting in Icicles</a> &#x2013; the same technique is used in <strong>Icicles</strong> for sorting bookmarks as completion candidates.</p><p><a class="anchor" name="SpecificFilesOrBuffers"></a> </p><h2>Bookmarks for Specific Files or Buffers</h2><p>A bookmark typically records a position or a region in a file or buffer. Sometimes you are interested in accessing or examining only the bookmarks for particular files or buffers. For example, you might want to navigate among the bookmarks for the current buffer. Or you might want to search the regions recorded in the bookmarks for a particular file.</p><p>For a bookmark, the recorded file and buffer name differ in that the file name is absolute. Bookmarks for buffer `<code>foo.el</code>&#x2019; include all files named `<code>foo.el</code>&#x2019;, whereas bookmarks for file `<code>/project1/lisp/foo.el</code>&#x2019; include only the files in that one directory.</p><p>Another important difference is that when multiple buffers visit different files that have the same relative file name (i.e., in different directories), Emacs makes the buffer names unique by appending `<code>&lt;N&gt;</code>&#x2019; as needed, where <code>&#x2018;N&#x2019;</code> is 2, 3,&#x2026; When you create a bookmark, the current buffer name is recorded as the bookmark&#x2019;s buffer. If the current buffer is not visiting a file, then the bookmark created is a non-file bookmark. In that case, to use the bookmark later you must have a buffer of the same name (e.g. `<code>foo.el&lt;2&gt;</code>&#x2019;).</p><p><strong>Bookmark+</strong> provides commands to handle these different use cases: specific files and specific buffers. The keys bound to these commands use <code>&#x2018;f&#x2019;</code> for file and <code>&#x2018;b&#x2019;</code> for buffer. In the <a class="local anchor" href="#BookmarkListDisplay">bookmark-list display</a>, the following keys affect the bookmarks for a particular file or buffer whose name you provide (with completion).</p><ul><li><strong>`<code>= f M</code></strong>&#x2019; and <strong>`<code>= b M</code></strong>&#x2019; &#x2013; mark </li><li><strong>`<code>= f S</code></strong>&#x2019; and <strong>`<code>= b S</code></strong>&#x2019; &#x2013; show (only)</li></ul><p>For navigation, the following keys jump to bookmarks for particular files or buffers. (Use <code>&#x2018;C-x 4 j&#x2019;</code> for other-window.)</p><ul><li><strong>`<code>C-x j ,,</code></strong>&#x2019; &#x2013; current buffer</li><li><strong>`<code>C-x j = f</code></strong>&#x2019; and <strong>`<code>C-x j = b</code></strong>&#x2019; &#x2013; specified file(s) or buffer(s)</li></ul><p>For the `=&#x2019; keys you are prompted for one or more file names or buffer names.</p><p>Finally, because the bookmarks in the current buffer can be of particular interest, <strong>`<code>C-x p ,</code></strong>&#x2019; opens the bookmark-list display for only those bookmarks. (<strong>`<code>,</code></strong>&#x2019; stands generally for &#x201c;this-buffer&#x201d; in <strong>Bookmark+</strong> key bindings.)</p><p><a class="anchor" name="CyclingNavlist"></a> </p><h2>Cycling, Navigation List</h2><p>Using completion to jump to a bookmark is handy. It lets you choose a bookmark by its name and gives you direct (&#x201c;random&#x201d;) access to it.</p><p>Sometimes, however, you don&#x2019;t much care what a bookmark is named, and you want to <em>cycle</em> quickly among relatively few, related bookmarks. Obviously, the smaller the number of bookmarks in the set, the more convenient cycling is &#x2013; with many bookmarks cycling can become tedious.</p><p>An analogy: If your TV has lots of channels, then the channel up/down buttons on the remote control are not so useful: 32, 33, 34, &#x2026;, 79! Unless the channel you want happens to be near the current channel, cycling around a huge ring of channels is not the way to go. And just because your TV receives lots of channels does not mean that you watch them all or that you are equally interested in them all.</p><p>Some TV remote controls have a feature that mitigates this problem. You can define a <em>ring of favorite</em> channels, and there are two additional buttons that let you cycle forward and backward around the ring, skipping the channels in between. The number of favorites is relatively small, so cycling is not tedious. More importantly, all of the channels in the ring are ones you are interested in.</p><p>Extend this idea to allow for assigning <em>different sets</em> of channels to the favorites ring at different times: choose the ring you want at any time: sports, music, films, science, art, history, and so on. Add the possibility of <em>sorting</em> those sets in various ways, to further facilitate cycling, and you arrive at the idea behind the <strong>Bookmark+</strong> navigation list.</p><p>Another analogy is a music playlist. You can use <strong>Bookmark+</strong> as a simple music player by bookmarking music files. Similarly, you can use <strong>Bookmark+</strong> to create slideshows by bookmarking image files. Cycle the navigation list to move through the slide show.</p><p>If you use MS Windows, you can take advantage of your existing file associations to open your bookmarks using the appropriate program &#x2013; no need to define a new bookmark type and handler. See <a class="local anchor" href="#BookmarkingFilesYouCannotVisitWithEmacs">Bookmarking Files That You Cannot Visit with Emacs</a>.</p><p>Note: The default value of option <code>&#x2018;bmkp-use-region&#x2019;</code> is <code>&#x2018;t&#x2019;</code>, not <code>&#x2018;cycling-too&#x2019;</code>, which means that when you cycle to a bookmark its recorded region (if any) is not activated. This is probably what you want most of the time. Cycling is a repetitive action, and if you cycle to a bookmark with no recorded region then an already active region is just extended. Customize the value to <code>&#x2018;cycling-too&#x2019;</code> if you prefer that behavior.</p><p><a class="anchor" name="BookmarkNavigationList"></a> </p><h3>The Bookmark Navigation List</h3><p><strong>Bookmark+</strong> is all about letting you define and manipulate sets of bookmarks. When a bookmark set can be used for cycling (as well as jumping) it is called the <strong>navigation list</strong> or <strong>navlist</strong>, for short.</p><p>In other words, <strong>Bookmark+</strong> lets you <em>cycle among any set</em> of bookmarks. When you cycle, it is the set that currently constitutes the navigation list that is cycled.</p><p>Here are two ways to define the navigation list:</p><ul><li><strong>`<code>C-x p :</code></strong>&#x2019; (<strong><code>&#x2018;bmkp-choose-navlist-of-type&#x2019;</code></strong>) &#x2013; As the set of all bookmarks of a certain <em>type</em> (<code>&#x2018;any&#x2019;</code> or empty input means use all bookmarks).</li><li><strong><code>&#x2018;C-x p B&#x2019;</code></strong> (<strong><code>&#x2018;bmkp-choose-navlist-from-bookmark-list&#x2019;</code></strong>) &#x2013; As the set of all bookmarks corresponding to a <em>bookmark-list bookmark</em>, that is the bookmarks corresponding to a given recorded state of buffer <code>&#x2018;*Bookmark List*&#x2019;</code>.</li></ul><p>Each of these lets you choose a set of bookmarks using completion. For `<code>C-x p :</code>&#x2019; you are prompted for the type of bookmark (e.g. <code>&#x2018;dired&#x2019;</code>).</p><p>For <code>&#x2018;C-x p B&#x2019;</code> you are prompted for the name of a bookmark-list bookmark that you created. But you can also choose the candidate <strong><code>&#x2018;CURRENT *Bookmark List*&#x2019;</code></strong> to capture the bookmarks that would be shown currently in the <code>&#x2018;*Bookmark List*&#x2019;</code> (even if the list is not  displayed now). See <a class="local anchor" href="#StateRestoration">State-Restoring Commands and Bookmarks</a> for information about bookmark-list bookmarks.</p><p>If you do not define the navigation list before you start cycling, it is automatically defined as follows:</p><ul><li>If you cycle using a current-file/buffer cycling key such as <code>&#x2018;C-x p down&#x2019;</code> (see <a class="local anchor" href="#CyclingCurrentBuffer">Cycling in the Current File/Buffer</a>) then the bookmarks in the current file or buffer are used as the navlist.</li><li>Otherwise, a snapshot is taken of the the bookmarks currently in the global bookmark list (the value of variable <code>&#x2018;bookmark-alist&#x2019;</code>) as the navlist.</li></ul><p>However the navlist is defined, it is important to remember this: it is a <em>static snapshot</em> of some set of bookmarks taken at a given time. Subsequent changes to the bookmark list that was copied are not reflected in the navlist. If you add a bookmark it will not be among those cycled. But see also <a class="local anchor" href="#CyclingDynamicSetsOfBookmarks">Cycling Dynamic Sets of Bookmarks</a> for how to cycle dynamic sets.</p><p>You can update the navlist at any time by taking another snapshot of the same bookmark list you used for the last snapshot. For the global bookmark list just use `C-x p : RET&#x2019;. (You can of course bind that action to a shorter key sequence if you like.)</p><p>Besides cycling among the bookmarks of the navlist (see next), once you have defined the navigation list you can use <strong><code>&#x2018;C-x j N&#x2019;</code></strong> or <strong><code>&#x2018;C-x 4 j N&#x2019;</code></strong> to jump to its bookmarks, as mentioned in section <a class="local anchor" href="#TypeSpecificJumpCommands">Different Types of Jump Commands</a>.</p><p>Note that just because you might have used <code>&#x2018;C-x p B&#x2019;</code> to define the navlist using a particular bookmark-list bookmark or the current <code>&#x2018;*Bookmark List*&#x2019;</code> state, that does not mean that the `<code>*Bookmark
List*</code>&#x2019; state at any given time necessarily reflects the navlist bookmarks. The two are separate. You can, however, open the <code>&#x2018;*Bookmark List*&#x2019;</code> so that it reflects the bookmarks currently in the navigation list, using <strong><code>&#x2018;C-x p N&#x2019;</code></strong> (<strong><code>&#x2018;bmkp-navlist-bmenu-list&#x2019;</code></strong>).</p><p><a class="anchor" name="CyclingNavlist"></a> </p><h3>Cycling the Navigation List</h3><p>So you choose a navigation list. How do you then cycle among its bookmarks?</p><p>Commands <strong><code>&#x2018;bmkp-next-bookmark&#x2019;</code></strong> and <strong><code>&#x2018;bmkp-previous-bookmark&#x2019;</code></strong> cycle to the next and previous bookmark in the navigation list (with wraparound). (There are also other-<a class="local" href="https://www.emacswiki.org/emacs/window">window</a> versions of these commands.)</p><p>You can bind these to any keys you like, but it&#x2019;s obviously better to choose keys that are easily repeatable (e.g. by holding them pressed). Some people who are used to using <a class="local" href="https://www.emacswiki.org/emacs/MSVisualStudio">MSVisualStudio</a> might want to use <code>&#x2018;f2&#x2019;</code> and <code>&#x2018;S-f2&#x2019;</code> to cycle forward and backward.</p><p><strong>Bookmark+</strong> does not define such key bindings, but you can. What it does is define repeatable keys on the <strong><code>&#x2018;bookmark-map&#x2019;</code></strong> keymap, which by default has prefix <strong><code>&#x2018;C-x p&#x2019;</code></strong>. To do this it binds similar commands that can be repeated by simply repeating the key-sequence suffix. These are the (default) keys:</p><p>Forward: <strong><code>&#x2018;C-x p f&#x2019;</code></strong>, <strong><code>&#x2018;C-x p C-f&#x2019;</code></strong>, <strong><code>&#x2018;C-x p right&#x2019;</code></strong></p><p>Backward: <strong><code>&#x2018;C-x p b&#x2019;</code></strong>, <strong><code>&#x2018;C-x p C-b&#x2019;</code></strong>, <strong><code>&#x2018;C-x p left&#x2019;</code></strong></p><p>(If you use an Emacs version prior to Emacs 22, you cannot use this prefix-key repeatable feature.)</p><p>In addition, if you use MS Windows then you can invoke the Windows <code>&#x2018;Open&#x2019;</code> action on each bookmark when you cycle, to act on its file using the program associated with the file type. This lets you play music or display images in a playlist or slideshow fashion. These are the keys to do that:</p><p>Forward: <strong><code>&#x2018;C-x p next&#x2019;</code></strong> (<span>PageDown</span> key)</p><p>Backward: <strong><code>&#x2018;C-x p prior&#x2019;</code></strong> (<span>PageUp</span> key)</p><p>Being able to cycle among an <em>arbitrary set</em> of bookmarks is the most important feature of <strong>Bookmark+</strong> cycling. The other important feature is that if the navigation list is defined by `<code>*Bookmark
List*</code>&#x2019; then the characteristics of that bookmark display are respected for navigation. Only the bookmarks <em>visible</em> in <code>&#x2018;*Bookmark List*&#x2019;</code> are included, and the <code>&#x2018;*Bookmark List*&#x2019;</code> <em>sort order</em> is used for navigation.</p><p>So you can not only choose any set of bookmarks for cycling at any given time, you can also cycle among them in an order you choose. For example, if in the bookmark list display (<code>&#x2018;C-x p e&#x2019;</code> or <code>&#x2018;C-x r l&#x2019;</code>) you show only those file bookmarks that belong to a given project, and you have them sorted by file size, then cycling moves among only those files, in file-size order.</p><p>This is a main reason you will want to define bookmark-list bookmarks, which record a specific set of bookmarks and their sort order: to later choose given sets in different contexts for cycling.</p><p><a class="anchor" name="CyclingDynamicSetsOfBookmarks"></a> </p><h3>Cycling Dynamic Sets of Bookmarks</h3><p>The fact that the navlist is a static snapshot is a useful feature, but sometimes you might want to cycle among a particular dynamic set of bookmarks, that is, to have cycling take changes to the bookmark set into account automatically. For that, <strong>Bookmark+</strong> provides separate cycling commands for most types of bookmark.</p><p>By default, these different kinds of cycling commands are not bound to any keys, with the exception of the commands for cycling the current file or buffer. This exception includes cycling all bookmarks for the current file/buffer (see <a class="local anchor" href="#CyclingCurrentBuffer">Cycling in the Current File/Buffer</a> and cycling only the highlighted bookmarks for the current file/buffer (see <a class="local anchor" href="#UsingHighlightedBookmarks">Using Highlighted Bookmarks</a>). Keys <code>&#x2018;C-x p down&#x2019;</code> and <code>&#x2018;C-x p C-down&#x2019;</code> are defined for these two kinds of current-buffer cycling.</p><p>If you often want to cycle among the bookmarks of some other particular kind (e.g. only the autonamed bookmarks), then you can bind the relevant commands (e.g. <code>&#x2018;bmkp-next-autonamed-bookmark-repeat&#x2019;</code>, <code>&#x2018;bmkp-previous-autonamed-bookmark-repeat&#x2019;</code>, or their other-<a class="local" href="https://www.emacswiki.org/emacs/window">window</a> versions)) to handy keys. Otherwise, you can just use the cycling commands without binding them.</p><p><a class="anchor" name="bmkp-next-bookmark-this-file-or-buffer-repeat"></a> <a class="anchor" name="bmkp-previous-bookmark-this-file-or-buffer-repeat"></a> <a class="anchor" name="bmkp-next-bookmark-this-file-or-buffer"></a> <a class="anchor" name="bmkp-previous-bookmark-this-file-or-buffer"></a> <a class="anchor" name="bmkp-this-file-or-buffer-cycle-sort-comparer"></a> <a class="anchor" name="CyclingCurrentBuffer"></a> </p><h3>Cycling in the Current File/Buffer</h3><p>You can navigate the bookmarks in the current file or buffer by cycling as well as jumping. It is convenient to have dedicated keys for this, separate from the keys to cycle the navigation list. The following keys are defined, corresponding to commands <strong><code>&#x2018;bmkp-next-bookmark-this-file/buffer-repeat&#x2019;</code></strong> and <strong><code>&#x2018;bmkp-previous-bookmark-this-file/buffer-repeat&#x2019;</code></strong>:</p><p>Next: <strong><code>&#x2018;C-x p n&#x2019;</code></strong>, <strong><code>&#x2018;C-x p C-n&#x2019;</code></strong>, <strong><code>&#x2018;C-x p down&#x2019;</code></strong></p><p>Previous: <strong><code>&#x2018;C-x p p&#x2019;</code></strong>, <strong><code>&#x2018;C-x p C-p&#x2019;</code></strong>, <strong><code>&#x2018;C-x p up&#x2019;</code></strong></p><p>Starting with Emacs 23.3 (Emacs fix for bug #6256), you can also use the mouse wheel to cycle: <code>&#x2018;C-x p&#x2019;</code> then just rotate the wheel.</p><p>Again, you can bind any keys you want to these commands (e.g. <code>&#x2018;f2&#x2019;</code>, <code>&#x2018;S-f2&#x2019;</code>). If you do not need to use a <a class="local" href="https://www.emacswiki.org/emacs/prefix_key">prefix key</a>, then bind commands <code>&#x2018;bmkp-next-bookmark-this-file/buffer&#x2019;</code> and <code>&#x2018;bmkp-previous-bookmark-this-file/buffer&#x2019;</code> (no <code>-repeat</code>).</p><p>You can also cycle among just the highlighted bookmarks in the current file or buffer &#x2013; see <a class="local anchor" href="#UsingHighlightedBookmarks">Using Highlighted Bookmarks</a>.</p><p>Cycling among bookmarks for the current file or buffer (whether all bookmarks or only the highlighted ones) is dynamic: the current set of bookmarks is cycled, not a static snapshot taken at some point in past. The navlist is automatically updated to the current dynamic set each time you cycle. This is different from the usual cycling of the navlist, where it is taken as a static snapshot &#x2013; see <a class="local anchor" href="#BookmarkNavigationList">The Bookmark Navigation List</a>.</p><p>By default, you cycle among the bookmarks for the current file or buffer in <em>order of their buffer positions</em>, top to bottom. If you want a different order, you can customize <a class="local" href="https://www.emacswiki.org/emacs/option">option</a> <strong><code>&#x2018;bmkp-this-file/buffer-cycle-sort-comparer&#x2019;</code></strong>.</p><p>Alternatively, you can use <strong>`<code>C-x p ,</code></strong>&#x2019; to display the `<code>*Bookmark
List*</code>&#x2019; with only the current file/buffer&#x2019;s bookmarks, sort them there, and then use <strong><code>&#x2018;C-x p B&#x2019;</code></strong> to set the navigation list to <strong><code>&#x2018;CURRENT *Bookmark List*&#x2019;</code></strong>. In that case, you use the navlist cycling keys (e.g. <code>&#x2018;C-x p f&#x2019;</code>, not <code>&#x2018;C-x p n&#x2019;</code>), and the cycled set is a static snapshot.</p><p>Note that the keys mentioned here cycle bookmarks for the current file if visiting a file, or the current buffer otherwise. There are also commands (unbound to keys) for cycling bookmarks for the current file only or the current buffer only.</p><p>The bookmarks for the current buffer are those that were created in a buffer of exactly the same name. If one buffer visits a file `<code>foo.el</code>&#x2019;, and another buffer visits a different file of the same name (i.e., in a different directory), the second buffer will have the name `<code>foo.el&lt;2&gt;</code>&#x2019;. The buffer name is recorded when you create a bookmark. If you later use same-buffer cycling then the bookmarks cycled are only those created with the same buffer name as the current buffer.</p><p>This is the reason why the <code>&#x2018;*-file/buffer*&#x2019;</code> commands are bound to keys. They are usually what you want. They try first to work with bookmarks for the same file as the current buffer, if it is visiting a file.</p><p><a class="anchor" name="AutonamedBookmarks"></a> </p><h2>Autonamed Bookmarks - Easy Come Easy Go</h2><p>Sometimes it is convenient to quickly create and delete bookmarks whose names you don&#x2019;t really care about. That is the purpose of <strong>autonamed</strong> bookmarks. An autonamed bookmark has a simple name provided automatically, and it does not record any region information &#x2013; it records only a position. An autonamed bookmark is nevertheless an ordinary, persistent bookmark.</p><p><strong><code>&#x2018;C-x p RET&#x2019;</code></strong> creates a bookmark at <a class="local" href="https://www.emacswiki.org/emacs/point">point</a> without prompting you for the name. It is named using the current buffer name preceded by the position in the buffer. For example, the default name of the autonamed bookmark in buffer `<code>foo.el</code>&#x2019; at position 58356 is `<code>000058356 foo.el</code>&#x2019;.</p><p>When you jump to any bookmark, the actual destination can differ from the recorded position, because the buffer text might have changed. In that case, the position you jump to has been automatically relocated using the recorded bookmark context (some buffer text surrounding the original position).</p><p>If option <strong><code>&#x2018;bmkp-save-new-location-flag&#x2019;</code></strong> is non-<code>&#x2018;nil&#x2019;</code> then, after jumping, the recorded position of the bookmark is automatically updated to reflect the new location jumped to. This is true for any bookmark.</p><p>In the case of an autonamed bookmark, the bookmark name typically reflects the recorded position when you create it. And when you jump to it, both the <em>name and the recorded position are updated</em> to reflect the jump destination. So jumping to an autonamed bookmark keeps its persistent record in sync with the buffer location.</p><p>You will thus notice that the names of autonamed bookmarks can change as you visit them (e.g. cycling). The bookmarks are automatically repositioned following their recorded contexts, and their names reflect that repositioning.</p><p>It is only when you jump to a bookmark that it is repositioned this way, and only if needed. It is normal that some bookmarks become somewhat out of sync with their original positions as you edit the text in the buffer. In addition, if you highlight bookmarks then you will notice the highlighting move as you edit nearby text. The recorded bookmark has not changed, but its highlight has moved. The highlight moves more or less as if it were an Emacs marker. When you jump to the bookmark and it is thus updated, the highlight moves back to the recorded position, adjusted perhaps to fit the recorded context.</p><p><code>&#x2018;C-x p RET&#x2019;</code> is <strong><code>&#x2018;bmkp-toggle-autonamed-bookmark-set/delete&#x2019;</code></strong>, and it does double duty. If an autonamed bookmark is under the cursor, then <code>&#x2018;C-x p RET&#x2019;</code> <em>deletes</em> it. Easy creation, easy deletion. Because of this toggle behavior, there is at most one autonamed bookmark at any given buffer position.</p><p><code>&#x2018;C-x p RET&#x2019;</code> has a third use: With a <a class="local" href="https://www.emacswiki.org/emacs/prefix_argument">prefix argument</a>, it prompts you to confirm the deletion of <strong>ALL</strong> autonamed bookmarks for the current buffer.</p><p>(You can also use <strong><code>&#x2018;C-x p delete&#x2019;</code></strong> (that&#x2019;s the <code>&#x2018;delete&#x2019;</code> key), bound to <strong><code>&#x2018;bmkp-delete-bookmarks&#x2019;</code></strong>, to delete individual bookmarks under the cursor or all bookmarks in the buffer. This is not limited to autonamed bookmarks.)</p><p>In addition to <code>&#x2018;C-x p RET&#x2019;</code>, you can create autonamed bookmarks using these commands:</p><ul><li><code>&#x2018;bmkp-set-autonamed-bookmark-at-line&#x2019;</code> &#x2013; At a line beginning</li><li><code>&#x2018;bmkp-set-autonamed-regexp-buffer&#x2019;</code> &#x2013; At buffer matches</li><li><code>&#x2018;bmkp-set-autonamed-regexp-region&#x2019;</code> &#x2013; At region matches</li><li><code>&#x2018;bmkp-occur-create-autonamed-bookmarks&#x2019;</code> (<code>&#x2018;C-c b&#x2019;</code> in <code>&#x2018;*Occur*&#x2019;</code>) -- - At <code>&#x2018;occur&#x2019;</code> and <code>&#x2018;multi-occur&#x2019;</code> hits</li></ul><p>Autonamed bookmarks are normal bookmarks. In particular, they are persisted. If you do not care to persist them, you can ensure that they are automatically deleted by adding <strong><code>&#x2018;bmkp-delete-autonamed-this-buffer-no-confirm&#x2019;</code></strong> to <code>&#x2018;kill-buffer-hook&#x2019;</code> and <strong><code>&#x2018;bmkp-delete-autonamed-no-confirm&#x2019;</code></strong> to <code>&#x2018;kill-emacs-hook&#x2019;</code>:</p><pre>  (add-hook 'kill-buffer-hook 'bmkp-delete-autonamed-this-buffer-no-confirm)
  (add-hook 'kill-emacs-hook  'bmkp-delete-autonamed-no-confirm)</pre><p>You can customize the format of autonamed bookmarks using options <strong><code>&#x2018;bmkp-autoname-bookmark-function&#x2019;</code></strong> and <strong><code>&#x2018;bmkp-autoname-format&#x2019;</code></strong>.</p><p>For example, if you want autonamed bookmarks to show the line and column numbers, in the form <code>L&lt;num&gt;,C&lt;num&gt; &lt;buffer&gt;</code>, where <code>&lt;num&gt;</code> is a sequence of decimal digits and <code>&lt;buffer&gt;</code> is the buffer name, then you can use a function such as this as the value of <code>&#x2018;bmkp-autoname-bookmark-function&#x2019;</code>:</p><pre>  (<span class="keyword">defun</span> <span class="function">my-auto-l+c-name</span> (position)
    <span class="string">"Return a name for POSITION that uses line &amp; column numbers."</span>
    (<span class="keyword elisp">let</span> ((line  (line-number-at-pos position))
          (col   (<span class="keyword elisp">save-excursion</span>
                   (goto-char position) (current-column))))
      (format <span class="string">"L%d,C%d %s"</span> col line (buffer-name))))</pre><p>To enable <strong>Bookmark+</strong> to recognize such bookmarks as autonamed, you would then set <code>&#x2018;bmkp-autoname-format&#x2019;</code> to the format specification <strong><code>"^L[0-9]+,C[0-9]+ %B"</code></strong>, to match their names. Here, the <strong>`<code>%B</code></strong>&#x2019; is a <strong>Bookmark+</strong> format specifier that corresponds to the buffer name.</p><p>Recognizing the buffer name in an autonamed bookmark is important or commands that act only on autonamed bookmarks for a specific buffer. That includes commands <code>&#x2018;bmkp-autonamed-this-buffer-jump&#x2019;</code> and <code>&#x2018;bmkp-delete-all-autonamed-for-this-buffer&#x2019;</code>.</p><p>You use the special format specifier `<code>%B</code>&#x2019; for the buffer name, instead of just `%s&#x2019;, because the format can have multiple `<code>%</code>&#x2019; sequences, and the buffer name could be anywhere in the bookmark name. Depending on the buffer, the buffer name could thus be confused with other text in the bookmark name, unless you use `<code>%B</code>&#x2019; to show where it is. You can use just `<code>%s</code>&#x2019; for it if there is no risk of ambiguity. (Use `<code>%s</code>&#x2019; in <code>&#x2018;bmkp-autoname-bookmark-function&#x2019;</code> to insert the buffer name.)</p><p><a class="anchor" name="TemporaryBookmarks"></a> </p><h2>Temporary Bookmarks</h2><p>Autonamed bookmarks are easy-come-easy-go in the sense that <code>&#x2018;C-x p RET&#x2019;</code> either sets (creates) one or deletes the one under the cursor. But what about temporary bookmarks in general? What if you want only bookmarks that are temporary, that is, not saved to disk? Or what if you want certain kinds of bookmarks to always be temporary? Or what if you want to toggle whether particular bookmarks get saved automatically?</p><p><a class="anchor" name="bmkp-temporary-bookmarking-mode"></a> <a class="anchor" name="TemporaryBookmarkingMode"></a> </p><h3>Temporary Bookmarking Mode</h3><p>As always, you can control whether the bookmarks in the current bookmark list are saved automatically using option <strong><code>&#x2018;bookmark-save-flag&#x2019;</code></strong>. Remember that you can toggle this option using command <code>&#x2018;bmkp-toggle-saving-bookmark-file&#x2019;</code> (bound to <strong>`<code>M-~</code></strong>&#x2019; in the bookmark-list buffer). Remember too that you can at any changing the set of bookmarks that are susceptible to being saved.</p><p>You could, for example:</p><p>1. Use <code>&#x2018;C-x p 0&#x2019;</code> (<code>&#x2018;bmkp-empty-file&#x2019;</code>) to create a new, empty bookmark file.</p><p>2. Use <code>&#x2018;C-x p L&#x2019;</code> (<code>&#x2018;bmkp-switch-bookmark-file-create&#x2019;</code>) to switch to using that new, empty bookmark file.</p><p>3. Use <code>&#x2018;M-x bmkp-toggle-saving-bookmark-file&#x2019;</code> to turn off auto-saving bookmarks to disk.</p><p>This is essentially what the minor-mode toggle command <strong><code>&#x2018;bmkp-temporary-bookmarking-mode&#x2019;</code></strong> does. When in this minor mode, bookmarks that you create are stored on the new bookmark list, which is <strong>not</strong> automatically saved to disk. If you do not explicitly save it yourself then the bookmarks are lost when your Emacs session ends &#x2013; they are only temporary.</p><p>This command is bound to <strong><code>&#x2018;M-L&#x2019;</code></strong> in the <a class="local anchor" href="#BookmarkListDisplay">bookmark-list display</a> buffer (<code>&#x2018;*Bookmark List*&#x2019;</code>). The suffix <strong><code>&#x2018;L&#x2019;</code></strong> indicates that this has to do with <u><strong><em>l</em></strong></u>oading a bookmark file. See <a class="local anchor" href="#UsingMultipleBookmarkFiles">Using Multiple Bookmark Files</a>.</p><p>In the bookmark-list display, temporary bookmarking mode is indicated in the mode line by <strong><code>&#x2018;TEMPORARY Bookmarking&#x2019;</code></strong> in place of <strong><code>&#x2018;Bookmarks&#x2019;</code></strong> as the mode name.</p><p><a class="anchor" name="bmkp-make-bookmark-temporary"></a> <a class="anchor" name="bmkp-make-bookmark-savable"></a> <a class="anchor" name="bmkp-toggle-temporary-bookmark"></a> <a class="anchor" name="bmkp-toggle-autotemp-on-set"></a> <a class="anchor" name="bmkp-delete-all-temporary-bookmarks"></a> <a class="anchor" name="bmkp-autotemp-bookmark-predicates"></a></p><p><a class="anchor" name="MakingBookmarksTemporary"></a> </p><h3>Making Bookmarks Temporary</h3><p>Instead of simply switching to a temporary bookmark list, so that <strong>all</strong> bookmarking is only temporary, you more often want to have some bookmarks be temporary while still ensuring that others get saved. Or you temporarily want all new bookmarks that you <em>create</em> and all bookmarks that you <em>update</em> to be temporary, without affecting other, unchanged bookmarks.</p><p>You can control this at the level of individual bookmarks, types of bookmarks, or all bookmarks whenever they are set (created or updated).</p><ul><li>At the <em>individual-bookmark</em> level, commands <strong><code>&#x2018;bmkp-make-bookmark-temporary&#x2019;</code></strong> and <strong><code>&#x2018;bmkp-make-bookmark-savable&#x2019;</code></strong> prompt you for a bookmark name and then set its temporary/savable status. Command <strong><code>&#x2018;bmkp-toggle-temporary-bookmark&#x2019;</code></strong> combines these commands, toggling the status for a given bookmark. In the bookmark list, this toggle is bound to <strong><code>&#x2018;C-M-X&#x2019;</code></strong>. There are also commands in the bookmark-list display to toggle the temporary/savable status of the marked bookmarks (<strong><code>&#x2018;M-X&#x2019;</code></strong>), to mark the temporary bookmarks (<strong><code>&#x2018;X M&#x2019;</code></strong>), and to show only the temporary bookmarks (<strong><code>&#x2018;X S&#x2019;</code></strong>).</li><li>At the <em>bookmark-type</em> level, you can customize user option <strong><code>&#x2018;bmkp-autotemp-bookmark-predicates&#x2019;</code></strong>. It is a list of bookmark predicates &#x2013; typically type predicates &#x2013; that define which bookmarks are automatically made temporary whenever they are set. The default value includes the type predicates for autonamed bookmarks: <code>&#x2018;bmkp-autonamed-bookmark-p&#x2019;</code> and <code>&#x2018;bmkp-autonamed-this-buffer-bookmark-p&#x2019;</code>. This means that (only) autonamed bookmarks are made temporary whenever they are created or updated. The doc string for the option lists the predefined bookmark type predicates, but you can use any bookmark predicates.</li><li>Finally, you can toggle whether <em>all</em> bookmarks become temporary whenever they are created or updated, using command <strong><code>&#x2018;bmkp-toggle-autotemp-on-set&#x2019;</code></strong>, which is bound globally to <strong><code>&#x2018;C-x p x&#x2019;</code></strong>.</li></ul><p>You can delete all such temporary bookmarks from the current bookmark list using command <strong><code>&#x2018;bmkp-delete-all-temporary-bookmarks&#x2019;</code></strong> (or by using <code>&#x2018;X M&#x2019;</code> to mark them in the bookmark-list display and then hitting <code>&#x2018;D&#x2019;</code> to delete thems).</p><p>In the bookmark-list display (buffer <code>&#x2018;*Bookmark List*&#x2019;</code>), temporary bookmarks are indicated with the mark <strong><code>&#x2018;X&#x2019;</code></strong> in the same column where the annotation mark <code>&#x2018;a&#x2019;</code> would otherwise appear.</p><p><a class="anchor" name="AutomaticBookmarking"></a> </p><h2>Automatic Bookmarking</h2><p>You might find automatic bookmarking useful. The idea is that Emacs sets a bookmark for you automatically.</p><p><strong>Bookmark+</strong> can do this either when you perform some action (besides explicitly bookmarking) or whenever you are idle for a given period of time (<a class="local" href="https://www.emacswiki.org/emacs/option">option</a> <strong><code>&#x2018;bmkp-auto-idle-bookmark-mode-delay&#x2019;</code></strong>).</p><p><a class="anchor" name="bmkp-info-auto-bookmark-mode"></a> <a class="anchor" name="AutomaticInfoBookmarking"></a> </p><h3>Automatic Info Bookmarking</h3><p>The former feature is currently limited to <a class="local" href="https://www.emacswiki.org/emacs/Info">Info</a> bookmarks. When global <a class="local" href="https://www.emacswiki.org/emacs/minor_mode">minor mode</a> <strong><code>&#x2018;bmkp-info-auto-bookmark-mode&#x2019;</code></strong> is enabled, each Info node you visit can be bookmarked automatically, using the default bookmark name, which is the Info <em>manual</em> name plus the <em>node</em> name. For example, node <strong>Lisp Data Types</strong> in the Elisp manual gives you a bookmark named `<code>(elisp) Lisp Data Types</code>&#x2019;.</p><p>When the mode is enabled and an Info node is visited, an <em>existing</em> such bookmark is <em>always updated</em>. If no such bookmark exists then a new one is <em>created</em> if <a class="local" href="https://www.emacswiki.org/emacs/option">option</a> <strong><code>&#x2018;bmkp-info-auto-type&#x2019;</code></strong> has value <code>&#x2018;create-or-replace&#x2019;</code>. If it has value <code>&#x2018;update-only&#x2019;</code> then no new bookmark is created. The default option value is <code>&#x2018;update-only&#x2019;</code>. You can toggle the value using <a class="local" href="https://www.emacswiki.org/emacs/command">command</a> <strong><code>&#x2018;bmkp-toggle-info-auto-type&#x2019;</code></strong>.</p><p>With mode <code>&#x2018;bmkp-info-auto-bookmark-mode&#x2019;</code> enabled, even if you create Info bookmarks with the given names (i.e., the default names) only manually, they are updated automatically. In particular, updating a bookmark <em>increments the recorded number of visits</em> to the Info node and the <em>time of the last visit</em>.</p><p>You can <em>sort</em> bookmarks in the bookmark-list display by the time of last visit, using <strong><code>&#x2018;s d&#x2019;</code></strong>, or by the number of visits, using <strong><code>&#x2018;s v&#x2019;</code></strong>.</p><p>This gives you an easy way to see which parts of the manuals you have visited most recently and how much you have visited them. Showing only Info bookmarks gives you the effect of a <em>persistent mini-manual</em> of just the visited Info nodes. Turn the mode off anytime you do not want to record Info visits.</p><p>Also useful in this context, though not related to bookmarking, is the ability to <em>save your Info history persistently</em>, so links to <em>visited nodes are shown using a different face</em>. This makes it easy to see which parts of a manual you have already looked at. (And checking a bookmark to a visited node shows you how much you have visited it.)</p><p>If you use library <a class="local" href="https://www.emacswiki.org/emacs/Info%2b">Info+</a> (<tt><a class="local" href="https://www.emacswiki.org/emacs/info%2b.el">info+.el</a></tt>) then you have this complementary ability save your Info history list persistently. Just enable minor mode `<a class="local anchor" href="https://www.emacswiki.org/emacs/InfoPlus#Info-persist-history-mode">Info-persist-history-mode</a>&#x2019;.</p><p><a class="anchor" name="AutomaticIdle-PeriodBookmarking"></a> </p><h3>Automatic Idle-Period Bookmarking</h3><p>Automatic idle-period bookmarking uses <a class="local anchor" href="#AutonamedBookmarks">autonamed bookmarks</a>. It lets you navigate among them to visit spots where you spent some time (idly).</p><p>How many such automatic bookmarks would you want? And where? <strong>Bookmark+</strong> tries to provide some <a class="local" href="https://www.emacswiki.org/emacs/user_option">user option</a>s that let you get the behavior you want.</p><p>In general, you probably do not want such bookmarks to be created too often or too close together. You probably do not care about the names of the bookmarks created, and you do not want to be interrupted to name them. You probably want automatic bookmarking to be per-buffer, but you might sometimes want to turn it on or off for all buffers. You might want more than one automatic bookmark on a given line, but probably not. Finally, you might or might not want automatic bookmarks to be temporary (current session only) or highlighted.</p><p>Mode <strong><code>&#x2018;bmkp-auto-idle-bookmark-mode&#x2019;</code></strong> is a <em>local</em> minor mode, which means that it is <a class="local" href="https://www.emacswiki.org/emacs/buffer">buffer</a>-specific. The command of the same name turns the mode on and off. When the mode is on, the minor-mode indicator (&#x201c;lighter&#x201d;) <code>&#x2018;Auto-Bmk&#x2019;</code> is shown in the <a class="local" href="https://www.emacswiki.org/emacs/mode_line">mode line</a> for the buffer. You can <a class="local" href="https://www.emacswiki.org/emacs/Customize">customize</a> this indicator (removing it, if you like), using option <strong><code>&#x2018;bmkp-auto-idle-bookmark-mode-lighter&#x2019;</code></strong>.</p><p>Command <strong><code>&#x2018;bmkp-global-auto-idle-bookmark-mode&#x2019;</code></strong> turns on the mode in all buffers, that is, it is <em>global</em>, not local. Regardless of whether you use the mode locally or globally, a bookmark is created automatically only in the current buffer. That is, a buffer must be current (selected) for an automatic bookmark to be created there &#x2013; it is not enough that the mode be enabled in the buffer.</p><p>Option <strong><code>&#x2018;bmkp-auto-idle-bookmark-mode-set-function&#x2019;</code></strong> defines the bookmark-setting function. By default, its value is <code>&#x2018;bmkp-set-autonamed-bookmark-at-line&#x2019;</code>, which sets an autonamed bookmark at (the beginning of) the current line. If you want bookmarks to be created automatically then you typically want them to be autonamed, both because the name is unimportant and because setting an autonamed bookmark requires no interaction on your part. But you can use any setting function you like as the option value. (You can always rename an autonamed bookmark later, if you want to keep it and give it a meaningful name.)</p><p>Option <strong><code>&#x2018;bmkp-auto-idle-bookmark-min-distance&#x2019;</code></strong> is the minimum number of characters between automatic bookmark positions. If the <a class="local" href="https://www.emacswiki.org/emacs/cursor">cursor</a> is currently closer to some existing automatically created bookmark, then no automatic bookmark is set at <a class="local" href="https://www.emacswiki.org/emacs/point">point</a>. If you set this to <code>&#x2018;nil&#x2019;</code> then there is no limit on how close the bookmarks can be. (But there is only one autonamed bookmark at any given position.)</p><p>If you want the automatically created bookmarks to be temporary (not saved to your bookmark file), then customize option <strong><code>&#x2018;bmkp-autotemp-bookmark-predicates&#x2019;</code></strong> so that it includes the kind of bookmarks that are set by <code>&#x2018;bmkp-auto-idle-bookmark-mode-set-function&#x2019;</code>. For example, if automatic bookmarking sets autonamed bookmarks, then <code>&#x2018;bmkp-autotemp-bookmark-predicates&#x2019;</code> should include <code>&#x2018;bmkp-autonamed-bookmark-p&#x2019;</code> or <code>&#x2018;bmkp-autonamed-this-buffer-bookmark-p&#x2019;</code> (it includes both of these by default). Remember that you can toggle whether a given bookmark is temporary or savable, using <strong><code>&#x2018;M-X&#x2019;</code></strong> in the <a class="local anchor" href="#BookmarkListDisplay">bookmark-list display</a> (buffer <code>&#x2018;*Bookmark List*&#x2019;</code>).</p><p>If you want the bookmarks to be automatically highlighted, then customize option <strong><code>&#x2018;bmkp-auto-light-when-set&#x2019;</code></strong> to highlight bookmarks of the appropriate kind. For example, to highlight autonamed bookmarks set it to <code>&#x2018;autonamed-bookmark&#x2019;</code>.</p><p><strong>NOTE:</strong> If you use Emacs 20, then by default <code>&#x2018;bmkp-auto-idle-bookmark-mode&#x2019;</code> is global rather than local. The doc string tells you how to make it local instead. If you use Emacs 21, then <code>&#x2018;bmkp-auto-idle-bookmark-mode&#x2019;</code> is local but there is no global mode, <code>&#x2018;bmkp-global-auto-idle-bookmark-mode&#x2019;</code>. This is because Emacs 21 does not support <code>&#x2018;define-globalized-minor-mode&#x2019;</code>.</p><p><a class="anchor" name="HighlightingBookmarkLocations"></a> </p><h2>Highlighting Bookmark Locations</h2><p>You can highlight the location (destination) of a bookmark. For this feature you need library <tt><a class="local" href="https://www.emacswiki.org/emacs/bookmark%2b-lit.el">bookmark+-lit.el</a></tt> in addition to the other <strong>Bookmark+</strong> libraries.</p><p>You might never want to highlight a bookmark, or you might want to highlight most or even all bookmarks, or your use of highlighting might fall somewhere between. It depends on what kind of bookmarks you have and how you use them. <strong>Bookmark+</strong> lets you choose. By default, no bookmarks are highlighted.</p><p><a class="anchor" name="DefiningHowtoHighlight"></a> </p><h3>Defining How to Highlight</h3><p>By default, autonamed bookmarks are highlighted differently from non-autonamed bookmarks. Bookmark highlighting uses a <strong>style</strong> and a <strong>face</strong>. The available styles are these:</p><ul><li><code>&#x2018;Region&#x2019;</code> &#x2013; Highlight the <a class="local" href="https://www.emacswiki.org/emacs/region">region</a>, if a region bookmark</li><li><code>&#x2018;Line&#x2019;</code> &#x2013; Highlight line of the bookmark position</li><li><code>&#x2018;Position&#x2019;</code> &#x2013; Highlight character at bookmark position</li><li><code>&#x2018;Line Beginning&#x2019;</code> &#x2013; Highlight first character on line</li><li><code>&#x2018;Left Fringe&#x2019;</code> &#x2013; Highlight only the left fringe</li><li>`<code>Left Fringe + Line</code>&#x2019; &#x2013; Highlight the left fringe and the line</li><li><code>&#x2018;Right Fringe&#x2019;</code> &#x2013; Highlight only the right fringe</li><li>`<code>Right Fringe + Line</code>&#x2019; &#x2013; Highlight the right fringe and the line</li></ul><p>You can customize the default styles and faces to use for autonamed and non-autonamed bookmarks. You can also customize the fringe bitmaps to use.</p><ul><li><code>&#x2018;bmkp-light-autonamed&#x2019;</code> (face)</li><li><code>&#x2018;bmkp-light-non-autonamed&#x2019;</code> (face)</li><li><code>&#x2018;bmkp-light-autonamed-region&#x2019;</code> (face)</li><li><code>&#x2018;bmkp-light-non-autonamed-region&#x2019;</code> (face)</li><li><code>&#x2018;bmkp-light-style-autonamed&#x2019;</code> (option)</li><li><code>&#x2018;bmkp-light-style-non-autonamed&#x2019;</code> (option)</li><li><code>&#x2018;bmkp-light-style-autonamed-region&#x2019;</code> (option)</li><li><code>&#x2018;bmkp-light-style-non-autonamed-region&#x2019;</code> (option)</li><li><code>&#x2018;bmkp-light-left-fringe-bitmap&#x2019;</code> (option)</li><li><code>&#x2018;bmkp-light-right-fringe-bitmap&#x2019;</code> (option)</li></ul><p>Note: A region, position, or line highlight acts more or less like an Emacs marker: it moves with the surrounding text. As you edit the text in the buffer, the highlighted location can thus become out of sync with the recorded position. This is normal. When you jump to the bookmark, its highlight is automatically repositioned to the recorded location, possibly adjusted according to the the surrounding context.</p><p>In addition to the default highlighting, which you can customize, you can <em>set the highlighting for individual bookmarks</em> and particular sets of bookmarks (overriding their default highlighting). These individual settings are saved as part of the bookmarks themselves.</p><p>In the bookmark list (buffer <code>&#x2018;*Bookmark List*&#x2019;</code>):</p><ul><li><strong>`<code>H +</code></strong>&#x2019; &#x2013; Set the highlighting for this line&#x2019;s bookmark</li><li><strong>`<code>H &gt; +</code></strong>&#x2019; &#x2013; Set the highlighting for the marked bookmarks</li></ul><p>Globally, you can use <code>&#x2018;M-x bmkp-set-lighting-for-bookmark&#x2019;</code> to set the highlighting for a given bookmark.</p><p>Each of these commands prompts you (with completion) for the style and face to set, as well as for a condition that controls whether to highlight. Each of these is optional &#x2013; just hit <code>&#x2018;RET&#x2019;</code> (empty input) at its prompt to skip setting it.</p><p>The condition is an <a class="local" href="https://www.emacswiki.org/emacs/EmacsLisp">EmacsLisp</a> <a class="local" href="https://www.emacswiki.org/emacs/sexp">sexp</a> that is evaluated whenever an attempt is made to highlight the bookmark. Any resulting value except `<code>:no-light</code>&#x2019; highlights the bookmark. The sexp can refer to the variables <code>&#x2018;this-bookmark&#x2019;</code> and <code>&#x2018;this-bookmark-name&#x2019;</code>, whose values are the bookmark to be highlighted and its name, respectively.</p><p>So, for example, if you wanted to be prompted each time before highlighting a certain bookmark you might set its highlighting condition to a sexp such as this:</p><pre>  (or (y-or-n-p (format <span class="string">"Highlight `<span class="constant important">%s</span>' "</span> this-bookmark-name))
      <span class="builtin">:no-light</span>)</pre><p>If you hit <code>&#x2018;n&#x2019;</code> at the prompt then `<code>:no-light</code>&#x2019; is returned and the bookmark is not highlighted.</p><p>In the <a class="local anchor" href="#BookmarkListDisplay">bookmark-list display</a>, a pink-background, one-character highlight is used next to each bookmark that has a highlight override wrt the default. You can see what that override setting is by using <code>&#x2018;C-u C-h RET&#x2019;</code> &#x2013; look for the <code>&#x2018;lighting&#x2019;</code> entry in the bookmark definition.</p><p><a class="anchor" name="HighlightingOnDemand"></a> </p><h3>Highlighting On Demand</h3><p>You can highlight or unhighlight a bookmark or a set of bookmarks on demand.</p><p>In the bookmark list (buffer <code>&#x2018;*Bookmark List*&#x2019;</code>):</p><ul><li><strong><code>&#x2018;H H&#x2019;</code></strong>, <strong><code>&#x2018;H U&#x2019;</code></strong> &#x2013; Highlight, unhighlight this line&#x2019;s bookmark</li><li><strong>`<code>H &gt; H</code></strong>&#x2019;, <strong>`<code>H &gt; U</code></strong>&#x2019; &#x2013; Highlight, unhighlight the marked bookmarks</li></ul><p>Globally:</p><ul><li><strong><code>&#x2018;C-x p C-u&#x2019;</code></strong> &#x2013; Unhighlight a highlighted bookmark at <a class="local" href="https://www.emacswiki.org/emacs/point">point</a> or on the same line (in that order)</li><li><strong><code>&#x2018;C-x p h&#x2019;</code></strong>, <strong><code>&#x2018;C-x p u&#x2019;</code></strong> &#x2013; Highlight, unhighlight a bookmark in the <em>current buffer</em> (with completion).</li><li><strong><code>&#x2018;C-x p H&#x2019;</code></strong>, <strong><code>&#x2018;C-x p U&#x2019;</code></strong> &#x2013; Highlight, unhighlight bookmarks:<ul><li>With plain <code>&#x2018;C-u&#x2019;</code>: <em>all</em> bookmarks</li><li>With <code>&#x2018;C-u C-u&#x2019;</code>: <em>navigation-list</em> bookmarks</li><li>Otherwise, bookmarks in <em>current buffer</em>:<ul><li>No prefix arg: all bookmarks</li><li>Prefix arg &gt; 0: autonamed bookmarks</li><li>Prefix arg &lt; 0: non-autonamed bookmarks</li></ul></li></ul></li></ul><p>The default bookmark for <code>&#x2018;C-x p u&#x2019;</code> is the same bookmark that is unhighlighted by <code>&#x2018;C-x p C-u&#x2019;</code>: a (highlighted) bookmark at point (preferably) or on the same line. The latter key binding just saves you having to hit <code>&#x2018;RET&#x2019;</code> to pick the default.</p><p>When you use <code>&#x2018;C-x p h&#x2019;</code>, you can use a prefix argument to override both the default highlighting and any highlighting that is recorded for the bookmark itself. You are prompted for the style or face to use:</p><ul><li>Negative arg: prompted for <em>style</em></li><li>Non-negative arg: prompted for <em>face</em></li><li>Plain <code>&#x2018;C-u&#x2019;</code>: prompted for style and face</li></ul><p><a class="anchor" name="HighlightingAutomatically"></a> </p><h3>Highlighting Automatically</h3><p>You can also highlight automatically, whenever you <em>set</em> (create) a bookmark or <em>jump</em> to one. This is controlled by these options:</p><ul><li><strong><code>&#x2018;bmkp-auto-light-when-set&#x2019;</code></strong></li><li><strong><code>&#x2018;bmkp-auto-light-when-jump&#x2019;</code></strong></li></ul><p>You can choose any of these values for either option:</p><ul><li><code>&#x2018;Autonamed bookmark&#x2019;</code></li><li><code>&#x2018;Non-autonamed bookmark&#x2019;</code></li><li><code>&#x2018;Any bookmark&#x2019;</code></li><li><code>&#x2018;Autonamed bookmarks in buffer&#x2019;</code></li><li><code>&#x2018;Non-autonamed bookmarks in buffer&#x2019;</code></li><li><code>&#x2018;All bookmarks in buffer&#x2019;</code></li><li>`<code>None (no automatic highlighting)</code>&#x2019; &#x2013; the default</li></ul><p>The first three values highlight only the bookmark being set or jumped to.</p><p>Be aware that, depending on the setting, highlighting can take a while.</p><p><a class="anchor" name="UsingHighlightedBookmarks"></a> </p><h2>Using Highlighted Bookmarks</h2><p>Once you have highlighted bookmarks, what can you do with them? Obviously, the highlighting can help you distinguish and find bookmarks visually. But highlighting also serves as yet another way to define sets: the highlighted vs unhighlighted bookmarks.</p><p>Any command that operates on a set of bookmarks can be applied to one or the other of these two sets. <strong>Bookmark+</strong> defines only a few such operations, but you can easily define others.</p><p>In addition to such specific commands, you can also apply general operations to the highlighted or unhighlighted bookmarks, using the <a class="local anchor" href="#BookmarkListDisplay">bookmark-list display</a> (<code>&#x2018;*Bookmark List*&#x2019;</code>). <strong><code>&#x2018;H S&#x2019;</code></strong> shows only the bookmarks that are currently highlighted, and <strong><code>&#x2018;H M&#x2019;</code></strong> marks them. You can then perform any of the available bookmark-list operations on them.</p><p>Globally, you can use these keys:</p><ul><li><strong>`<code>C-x p =</code></strong>&#x2019; &#x2013; List the bookmarks that are <em>highlighted at point</em>. With a prefix arg, show the full data.</li><li><strong><code>&#x2018;C-x j h&#x2019;</code></strong>, <strong><code>&#x2018;C-x 4 j h&#x2019;</code></strong> &#x2013; <em>Jump</em> to a highlighted bookmark. Only highlighted bookmarks are completion candidates.</li><li><strong><code>&#x2018;C-x p C-down&#x2019;</code></strong>, <strong><code>&#x2018;C-x p C-up&#x2019;</code></strong> &#x2013; <em>Cycle</em> to the next and previous highlighted bookmark.</li></ul><p><a class="anchor" name="BookmarkLinks"></a> </p><h2>Bookmark Links</h2><p>You can use command <strong><code>&#x2018;bmkp-insert-bookmark-link&#x2019;</code></strong> to create links in any Emacs text that jump to particular bookmarks when you follow them (by hitting <code>&#x2018;RET&#x2019;</code> or clicking <code>&#x2018;mouse-2&#x2019;</code>). If you hit `<code>?</code>&#x2019; or double-click <code>&#x2018;mouse-1&#x2019;</code> on such a bookmark link then the bookmark is described, showing the same information as `<code>C-x p ?</code>&#x2019; (<code>&#x2018;bmkp-describe-bookmark&#x2019;</code>).</p><p>You are prompted for the bookmark to link. If the <a class="local" href="https://www.emacswiki.org/emacs/region">region</a> is <a class="local" href="https://www.emacswiki.org/emacs/active_region">active</a> and nonempty then the link is put on its text. Otherwise, you are prompted for the link text, which is inserted. The default link text is the bookmark name in this case.</p><p>The bookmark linked can be of any type.</p><p>This simple feature lets you easily create &#x201c;launching pads&#x201d; for different sets of bookmarks: buffers or files that consist of bookmark links and any other text you like. This gives you yet another way to organize bookmarks (and so also the files, directories, etc. that they target).</p><p>If you also use library <tt><a class="local" href="https://www.emacswiki.org/emacs/font-lock%2b.el">font-lock+.el</a></tt> then the links appear with face <code>&#x2018;link&#x2019;</code>, even in a <a class="local" href="https://www.emacswiki.org/emacs/FontLockMode">font-locked</a> buffer. (Library <code>font-lock+.el</code> just provides this feature of allowing non-font-lock highlighting in a font-locked buffer. See <a class="url http" href="http://lists.gnu.org/archive/html/emacs-devel/2014-08/msg00540.html">http://lists.gnu.org/archive/html/emacs-devel/2014-08/msg00540.html</a>.)</p><p>The links you create this way are not persistent, but you can of course re-create them using Lisp.</p><p><a class="anchor" name="OrgModeLinksThatJumpToBookmarks"></a> </p><h3>Org Mode Links that Jump To Bookmarks</h3><p>You can also easily define <a class="local" href="https://www.emacswiki.org/emacs/OrgMode">OrgMode</a> links that jump to bookmarks. These links are persistent. Again, the bookmark linked can be of any type.</p><p>You can use the standard Org command <code>&#x2018;org-store-link&#x2019;</code> (<code>&#x2018;C-c l&#x2019;</code>) in buffer <code>&#x2018;*Bookmark List*&#x2019;</code> to store a link to the bookmark at point. (This is also item <strong>Store Org Link</strong> in the mouse-3 popup menu.)</p><p>Outside buffer <code>&#x2018;*Bookmark List*&#x2019;</code> you can use command <strong><code>&#x2018;bmkp-store-org-link&#x2019;</code></strong> to store a link to any bookmark. You are prompted for the bookmark name. You can even enter the name of a bookmark that does not yet exist. (This is also item <strong>Store Org Link To&#x2026;</strong> on menu <strong>Bookmarks</strong>.)</p><p>If you use a numeric <a class="local" href="https://www.emacswiki.org/emacs/prefix_arg">prefix arg</a> with either command then the bookmark link stored will be for jumping to the bookmark in the same window. Without a numeric prefix arg, the link will use another window. (Org mode defines other behaviors for non-numeric prefix args, such as <code>&#x2018;C-u C-u&#x2019;</code>.)</p><p>As usual, to insert a bookmark link, you use command <code>&#x2018;org-insert-link&#x2019;</code>. Enter the name of the target bookmark at the prompt. In Org mode you can use the usual Org key bindings to follow the link. In any mode you can use standard Org command <code>&#x2018;org-open-at-point-global&#x2019;</code> (not bound to a key by default).</p><p><a class="anchor" name="UseBookmarkPlusWithIcicles"></a> </p><h2>Use Bookmark+ with Icicles</h2><p><strong><a class="local" href="https://www.emacswiki.org/emacs/Icicles">Icicles</a></strong> enhances your use of <strong>Bookmark+</strong> in several ways.</p><p>When jumping to a bookmark, you can narrow the <a class="local" href="https://www.emacswiki.org/emacs/completion">completion</a> candidates to bookmarks of a particular type (e.g. Info, using <code>&#x2018;C-M-i&#x2019;</code>; remote, using `<code>C-M-@</code>&#x2019;; region, using <code>&#x2018;C-M-r&#x2019;</code>). You can narrow again (and again), to another bookmark type, to get the intersection (e.g. remote Info bookmarks that define a region).</p><p>You can also narrow against different bookmark-name patterns (e.g. regexps) &#x2013; so-called <a class="local" href="https://www.emacswiki.org/emacs/progressive_completion">progressive completion</a>. And take the <a class="local anchor" href="https://www.emacswiki.org/emacs/Icicles_-_Nutshell_View#ChippingAway">complement</a> (e.g., bookmarks whose names do not match `<code>foo.*2010.*bar</code>&#x2019;). (This is not special to bookmarks; it is standard <strong>Icicles</strong> practice.)</p><p>In <em>Icicle</em> mode, several of the <strong>Bookmark+</strong> keys are remapped to corresponding <strong>Icicles</strong> <a class="local" href="https://www.emacswiki.org/emacs/multi-command">multi-command</a>s. A bookmark jump key thus becomes a bookmarks browser. For example, <code>&#x2018;C-x j d&#x2019;</code> browses among any number of Dired bookmarks.</p><p>A single key can <em>set</em> a bookmark or <em>visit</em> bookmarks. This key is whatever command <code>&#x2018;bmkp-bookmark-set-confirm-overwrite&#x2019;</code> would normally be bound to &#x2013; e.g. <code>&#x2018;C-x r m&#x2019;</code>. A <a class="local" href="https://www.emacswiki.org/emacs/prefix_argument">prefix argument</a> controls what it does. If negative (<code>&#x2018;M--&#x2019;</code>), jump to (browse) bookmarks. Otherwise, set a bookmark using <code>&#x2018;bmkp-bookmark-set-confirm-overwrite&#x2019;</code>, as follows:</p><ul><li>No prefix arg: Prompt for the bookmark name. The candidates are bookmarks in the current buffer (or all bookmarks if there are none in the current buffer).</li><li>(Non-negative) numeric prefix arg: No prompt. Use the buffer name plus the text of the region (if active) or the current line as the bookmark name. Quickest way to set a bookmark.</li><li>Plain <code>&#x2018;C-u&#x2019;</code>: Prompt for name, no bookmark overwrite.</li></ul><p>During completion of a bookmark name, most features of the <a class="local anchor" href="#BookmarkListDisplay">bookmark-list display</a> (see <a class="local anchor" href="#BookmarkListDisplay">The Bookmark List Display</a>) are available on the fly. Buffer <code>&#x2018;*Completions*&#x2019;</code> acts like a dynamic version of <code>&#x2018;*Bookmark List*&#x2019;</code>:</p><ul><li>Candidates are highlighted in the <code>&#x2018;*Completions*&#x2019;</code> window according to their bookmark type.</li><li>Candidates are <strong>Icicles</strong> <a class="local" href="https://www.emacswiki.org/emacs/multi-completion">multi-completion</a>s with up to three parts: (a) the bookmark <em>name</em>, the bookmark <em>file</em> or buffer name, and (c) any <em>tags</em>.</li></ul><dl class="quote"><dl class="quote"><dt /><dd>You can match any or all of the parts. For example, you can match bookmarks that have tags by typing this <a class="local" href="https://www.emacswiki.org/emacs/regexp">regexp</a>: `<code>C-M-j . * C-M-j S-TAB</code>&#x2019;.</dd><dt /><dd>Each <code>&#x2018;C-M-j&#x2019;</code> inserts `<code>^G\n</code>&#x2019;, which is `<tt><a class="local anchor" href="https://www.emacswiki.org/emacs/Icicles_-_Customization_and_General_Tips#icicle-list-join-string">icicle-list-join-string</a></tt>&#x2019;, the string used to join the parts. This regexp says, &#x201c;match the completion candidates that have all three parts (two join strings), hence some tags.</dd><dt /><dd>You can turn off the use of multi-completion candidates for subsequent commands, so only bookmark names are used, by hitting <code>&#x2018;M-m&#x2019;</code> in the <a class="local" href="https://www.emacswiki.org/emacs/minibuffer">minibuffer</a>. You can think of this as similar to using <code>&#x2018;M-t&#x2019;</code> in <code>&#x2018;*Bookmark List*&#x2019;</code> to toggle showing file names. You can make not showing files and tags the default behavior by customizing `<tt><a class="local anchor" href="https://www.emacswiki.org/emacs/Icicles_-_Customization_and_General_Tips#icicle-show-multi-completion-flag">icicle-show-multi-completion-flag</a></tt>&#x2019;.</dd></dl></dl><ul><li>You can sort completion candidates using the <strong>Bookmark+</strong> sort orders. Use <strong>`<code>C-,</code></strong>&#x2019; to cycle among sort orders.</li><li>You can use <strong>Icicles</strong> <a class="local" href="https://www.emacswiki.org/emacs/Icicles_-_Help_on_Candidates">candidate-help</a> keys (<code>&#x2018;C-M-RET&#x2019;</code>, <code>&#x2018;C-M-down&#x2019;</code>, etc.) to get detailed information about the current bookmark candidate. <code>&#x2018;C-u C-M-RET&#x2019;</code> shows the complete, internal info defining the bookmark. And without doing anything, summary info about the current candidate is available in the <a class="local" href="https://www.emacswiki.org/emacs/mode_line">mode line</a> of buffer <code>&#x2018;*Completions*&#x2019;</code>.</li><li>You can use <strong>Icicles</strong> <a class="local" href="https://www.emacswiki.org/emacs/Icicles_-_Multi-Commands">candidate-action</a> keys (<code>&#x2018;C-RET&#x2019;</code>, <code>&#x2018;C-mouse-2&#x2019;</code>, <code>&#x2018;C-down&#x2019;</code>, etc.) to visit any number of bookmarks. For example, holding down <code>&#x2018;C-down&#x2019;</code> cycles among the current bookmark candidates, opening each in turn.</li><li>You can use <strong><code>&#x2018;S-delete&#x2019;</code></strong> to <a class="local anchor" href="https://www.emacswiki.org/emacs/Icicles_-_More_About_Multi-Commands#DeletingObjects">delete</a> the bookmark named by the current candidate. You can delete any number of bookmarks this way, during a single invocation of a bookmark command.</li><li>You can define <strong>Icicles</strong> <a class="local" href="https://www.emacswiki.org/emacs/Icicles_-_Candidate_Sets">sets of bookmarks</a>, persistent or not, and act on their members in various ways.</li></ul><p>During file-name completion, you can do any of the following on the fly:</p><ul><li>Jump to one or more file bookmarks, using <strong><code>&#x2018;C-x m&#x2019;</code></strong>.</li><li>Create one or more autofile bookmarks, using <strong><code>&#x2018;C-x a a&#x2019;</code></strong>.</li><li>Add tags to one or more files (autofile bookmarks), using <strong>`<code>C-x a +</code></strong>&#x2019;.</li><li>Remove tags from one or more files (autofile bookmarks), using <strong><code>&#x2018;C-x a -&#x2019;</code></strong>.</li></ul><p>There are 25 <strong>Icicles</strong> commands for searching bookmark destinations! The most general is <code>&#x2018;icicle-search-bookmark&#x2019;</code>. Others let you search specific kinds of bookmarks, or bookmarks having various combinations of tags.</p><p>During <strong><a class="local" href="https://www.emacswiki.org/emacs/Icicles_-_Search_Commands%2c_Overview">Icicles search</a></strong> (of anything, not just a bookmark destination), you can save sets of <a class="local" href="https://www.emacswiki.org/emacs/completion">completion</a> candidates, which means <em>sets of search hits</em>, as bookmarks. And <strong>Icicles</strong> lets you use <a class="local anchor" href="https://www.emacswiki.org/emacs/Icicles_-_Candidate_Sets#SetOperations">set operations</a> (complement, union, intersection, difference etc.) on the current set of search hits.</p><p>When you &#x201c;jump&#x201d; to an <strong>Icicles</strong> search-hits bookmark, its recorded search hits are restored to <strong>Icicles</strong> search as completion candidates, either replacing the current candidates or adding to them.</p><p>You can thus save and later return to different sets of search results using different bookmarks. You can &#x201c;jump&#x201d; to an <strong>Icicles</strong> search-hits bookmark during any <strong>Icicles</strong> search, whether you search a file, a buffer, multiple files, or multiple buffers.</p><p><strong>See Also:</strong> <a class="local" href="https://www.emacswiki.org/emacs/Icicles_-_Bookmark_Enhancements">Icicles - Bookmark Enhancements</a>.</p><p><a class="anchor" name="Compatibility"></a> </p><h2>Bookmark Compatibility with Vanilla Emacs</h2><p><strong>Bookmark+</strong> is generally compatible with <a class="local" href="https://www.emacswiki.org/emacs/GnuEmacs">GnuEmacs</a> versions 20 and later. You can use bookmarks with <strong>Bookmark+</strong> regardless of whether they were created using <strong>Bookmark+</strong> or vanilla Emacs (i.e., library <code>bookmark.el</code>).</p><p>But for best results, if you have bookmarks that you created using <strong>Bookmark+</strong> then use <strong>Bookmark+</strong>, not vanilla Emacs, to access them. This section provides details.</p><p>Set user option <strong><code>&#x2018;bmkp-propertize-bookmark-names-flag&#x2019;</code></strong>, depending on your usage scenario (the default is <code>&#x2018;t&#x2019;</code> for Emacs 21 and later, <code>&#x2018;nil&#x2019;</code> for Emacs 20):</p><ol><li>Set it to <code>&#x2018;nil&#x2019;</code> if you will often be going back and forth between using <strong>Bookmark+</strong> and using vanilla Emacs. (Do this also if you use Emacs 20.)</li><li>Set it to non-<code>&#x2018;nil&#x2019;</code> if you instead always use only <strong>Bookmark+</strong> (with Emacs 21 or later), or you use vanilla Emacs only to jump to bookmarks but never to update or create bookmarks.</li></ol><p><strong><em>#1 is VERY IMPORTANT</em></strong>. You can lose data if you do not respect it.</p><p>The reason for rule #1 is this: When the option is non-<code>&#x2018;nil&#x2019;</code> <strong>Bookmark+</strong> writes bookmarks to your bookmark file in a format that can be read and used by vanilla Emacs (21 and later) but which vanilla Emacs then saves as unreadable. If the option value is <code>&#x2018;nil&#x2019;</code> there is no such problem.</p><p>#2 is not a requirement. It is just a good idea, to be able to take better advantage of <strong>Bookmark+</strong>. If you set the option to <code>&#x2018;nil&#x2019;</code> then you cannot use multiple bookmarks that have the same name. Vanilla Emacs does not make good use of such critters, but Bookmark+ does. Having multiple bookmarks with the same name is particularly useful for autofiles. It means you can have different autofiles in different directories but with the same name. See <a class="local anchor" href="#Autofile_Bookmarks">Autofile Bookmarks</a>.</p><p>Here is what happens when <code>&#x2018;bmkp-propertize-bookmark-names-flag&#x2019;</code> is non-nil:</p><p>Besides its name, which is what you see and use most of the time, a bookmark contains other information such as the target location, textual context hints, and last access time. Non-<code>&#x2018;nil&#x2019;</code> <code>&#x2018;bmkp-propertize-bookmark-names-flag&#x2019;</code> has no effect on vanilla Emacs, but it causes <strong>Bookmark+</strong> to put the full bookmark information on the bookmark name as a text property.</p><p>The name thus encapsulates all of the information contained in the full bookmark of which it is part. Knowing the name is then enough to know everything about the bookmark. Part of the bookmark (its name) refers to the whole of it. In Lisp this self-reference is implemented using circular structures.</p><p>When <strong>Bookmark+</strong> saves such circular structures to your bookmark file, if the option is non-<code>&#x2018;nil&#x2019;</code> then it takes care to do so in such a way that they can be read in again when your bookmark file is loaded. In Lisp terms, it binds <code>&#x2018;print-circle&#x2019;</code> to non-<code>&#x2018;nil&#x2019;</code> when it writes your bookmarks. If the option value is <code>&#x2018;nil&#x2019;</code> then the circularity (self-reference) is removed before your bookmarks are saved. Either way, the file is readable.</p><p>Vanilla Emacs (21 and later) has no problem reading your bookmark file if it contains such circular structures. But if you then use it to save the file again, the Lisp code it writes has invalid Lisp <code>&#x2018;read&#x2019;</code> syntax (because it does not remove the circularity but it also does not bind <code>&#x2018;print-circle&#x2019;</code> to non-<code>&#x2018;nil&#x2019;</code>).</p><p>If that happens, the result is a bookmark file that is <strong><em>unreadable</em></strong>. It cannot be loaded into either vanilla Emacs or <strong>Bookmark+</strong>. If you do not have an uncorrupted backup version of the file to revert to, then you will need to edit it by hand to clean it up.</p><p>So do not let that happen to you! For best results use only <strong>Bookmark+</strong> to access bookmarks created using <strong>Bookmark+</strong>.</p><p>If you must use vanilla Emacs with your bookmarks, then make sure they are not saved by <strong>Bookmark+</strong> with the option non-<code>&#x2018;nil&#x2019;</code>: Using <strong>Bookmark+</strong>, set the option to <code>&#x2018;nil&#x2019;</code> and then save the file.</p><p>That is:</p><ol><li><code>&#x2018;M-x set-variable bmkp-propertize-bookmark-names-flag nil&#x2019;</code>, to stop using propertized bookmark names.</li><li><code>&#x2018;C-x p e&#x2019;</code> or <code>&#x2018;C-x r l&#x2019;</code>, to display the bookmark list.</li><li><code>&#x2018;g&#x2019;</code>, to refresh the display.</li><li><code>&#x2018;S&#x2019;</code>, to save the bookmark list.</li><li><code>&#x2018;M-x bmkp-save-menu-list-state&#x2019;</code>, to save the display state.</li></ol><p>Then you can use your bookmark file with vanilla Emacs (but without the possibility of having multiple bookmarks with the same name).</p><p>Note that when the option value is non-<code>&#x2018;nil&#x2019;</code>, propertized bookmark names are saved not only to your bookmark file but also to any full snapshots you create of the <a class="local anchor" href="#BookmarkListDisplay">bookmark-list display</a> state using command <code>&#x2018;bmkp-bmenu-define-full-snapshot-command&#x2019;</code> (<strong><code>&#x2018;C-c C-C&#x2019;</code></strong>, aka <code>&#x2018;C-c C-S-c&#x2019;</code>). See <a class="local anchor" href="#State-Restoring_Commands_and_Bookmarks">State-Restoring Commands and Bookmarks</a>.</p><p><a class="anchor" name="MenuScreenshots"></a> </p><h2>Menu Screenshots</h2><p>Here are screenshots of the various <strong>Bookmark+</strong> menus. Using the menus is a good way to learn some of the features (and their key bindings).</p><p><a class="anchor" name="EditMenu"></a> </p><h3>Menu-Bar Edit Menu</h3><p><strong>Bookmark+</strong> adds two items to the <a class="local" href="https://www.emacswiki.org/emacs/menu_bar">menu bar</a> <strong>Edit</strong> menu:</p><ul><li>Save the <a class="local" href="https://www.emacswiki.org/emacs/active_region">active region</a> text as a bookmark.</li><li>&#x201c;Jump to&#x201d; the bookmark to copy the text to the <a class="local" href="https://www.emacswiki.org/emacs/kill_ring">kill ring</a>, so you can then <a class="local" href="https://www.emacswiki.org/emacs/yank">yank</a> it anywhere.</li></ul><dl class="quote"><dl class="quote"><dt /><dd><a class="image" href="https://www.emacswiki.org/emacs/BookmarkPlusMenuBarEditMenu"><img alt="BookmarkPlusMenuBarEditMenu" class="upload" src="https://www.emacswiki.org/pics/static/BookmarkPlusMenuBarEditMenu" /></a></dd></dl></dl><p><a class="anchor" name="Mouse3PopupMenu"></a> </p><h3>`mouse-3' Popup Menu in `*Bookmark List*'</h3><p>It has actions for the individual bookmark you point to when you pop it up.</p><dl class="quote"><dl class="quote"><dt /><dd><a class="image" href="https://www.emacswiki.org/emacs/BookmarkPlusThisBookmarkMenu"><img alt="BookmarkPlusThisBookmarkMenu" class="upload" src="https://www.emacswiki.org/pics/static/BookmarkPlusThisBookmarkMenu" /></a></dd></dl></dl><p><a class="anchor" name="BookmarkPlusMenu"></a> </p><h3>Bookmark+ Menu-Bar Menu in `*Bookmark List*'</h3><p>The same menu is available on <strong><code>&#x2018;C-mouse-3&#x2019;</code></strong>.</p><dl><dt><strong>Bookmark+</strong></dt><dd><a class="image" href="https://www.emacswiki.org/emacs/BookmarkPlusMenuBarMenu"><img alt="BookmarkPlusMenuBarMenu" class="upload" src="https://www.emacswiki.org/pics/static/BookmarkPlusMenuBarMenu" /></a></dd></dl><p>It has submenus <strong>Icicles</strong> (if you use <strong><a class="local" href="https://www.emacswiki.org/emacs/Icicles">Icicles</a></strong>), <strong>Jump To</strong>, <strong>Delete</strong>, <strong>Mark</strong>, <strong>Omit</strong>, <strong>Show</strong>, <strong>Sort</strong>, <strong>Search</strong>, <strong>Tags</strong>, <strong>Highlight</strong>, <strong>Toggle</strong>, <strong>Bookmark File</strong>, and <strong>Define Command</strong>.</p><p>The <strong>Jump To</strong> menu has submenus <strong>Icicles</strong> (if you use <strong><a class="local" href="https://www.emacswiki.org/emacs/Icicles">Icicles</a></strong>) and <strong>With Tags</strong>. The <strong>Icicles</strong> submenu has its own submenu <strong>With Tags</strong>.</p><p>The <strong>Mark</strong> has submenu <strong>Bookmarks of Type</strong>.</p><p>The <strong>Show</strong> Menu has submenu <strong>Only Bookmarks of Type</strong>.</p><dl><dl><dt><strong>Icicles</strong> submenu of <strong>Bookmark+</strong> menu-bar menu</dt><dd><a class="image" href="https://www.emacswiki.org/emacs/BookmarkPlusMenuBarMenuIcicles"><img alt="BookmarkPlusMenuBarMenuIcicles" class="upload" src="https://www.emacswiki.org/pics/static/BookmarkPlusMenuBarMenuIcicles" /></a></dd></dl></dl><p><a class="anchor" name="JumpToMenu"></a> </p><dl><dl><dt><strong>Jump To</strong> submenu of <strong>Bookmark+</strong> menu-bar menu</dt><dd><a class="image" href="https://www.emacswiki.org/emacs/BookmarkPlusMenuBarMenuJump"><img alt="BookmarkPlusMenuBarMenuJump" class="upload" src="https://www.emacswiki.org/pics/static/BookmarkPlusMenuBarMenuJump" /></a><dl><dt><strong>Icicles</strong> submenu of <strong>Jump To</strong> submenu of <strong>Bookmark+</strong> menu-bar menu</dt><dd><a class="image" href="https://www.emacswiki.org/emacs/BookmarkPlusMenuBarMenuJumpToIcicles"><img alt="BookmarkPlusMenuBarMenuJumpToIcicles" class="upload" src="https://www.emacswiki.org/pics/static/BookmarkPlusMenuBarMenuJumpToIcicles" /></a><dl><dt><strong>With Tags</strong> submenu of <strong>Icicles</strong> submenu of <strong>Jump To</strong> submenu of <strong>Bookmark+</strong> menu-bar menu (Emacs 21+ only)</dt><dd><a class="image" href="https://www.emacswiki.org/emacs/BookmarkPlusMenuBarMenuIciclesWithTags"><img alt="BookmarkPlusMenuBarMenuIciclesWithTags" class="upload" src="https://www.emacswiki.org/pics/static/BookmarkPlusMenuBarMenuIciclesWithTags" /></a></dd></dl></dd><dt><strong>With Tags</strong> submenu of <strong>Jump To</strong> submenu of <strong>Bookmark+</strong> menu-bar menu (Emacs 21+ only)</dt><dd><a class="image" href="https://www.emacswiki.org/emacs/BookmarkPlusMenuBarMenuWithTags"><img alt="BookmarkPlusMenuBarMenuWithTags" class="upload" src="https://www.emacswiki.org/pics/static/BookmarkPlusMenuBarMenuWithTags" /></a></dd></dl></dd><dt><strong>Delete</strong> submenu of <strong>Bookmark+</strong> menu-bar menu</dt><dd><a class="image" href="https://www.emacswiki.org/emacs/BookmarkPlusMenuBarMenuDelete"><img alt="BookmarkPlusMenuBarMenuDelete" class="upload" src="https://www.emacswiki.org/pics/static/BookmarkPlusMenuBarMenuDelete" /></a></dd></dl></dl><p><a class="anchor" name="MarkMenu"></a> </p><dl><dl><dt><strong>Mark</strong> submenu of <strong>Bookmark+</strong> menu-bar menu</dt><dd><a class="image" href="https://www.emacswiki.org/emacs/BookmarkPlusMenuBarMenuMark"><img alt="BookmarkPlusMenuBarMenuMark" class="upload" src="https://www.emacswiki.org/pics/static/BookmarkPlusMenuBarMenuMark" /></a><dl><dt><strong>Bookmarks of Type</strong> submenu of <strong>Mark</strong> submenu of <strong>Bookmark+</strong> menu-bar menu</dt><dd><a class="image" href="https://www.emacswiki.org/emacs/BookmarkPlusMenuBarMenuMarkOfType"><img alt="BookmarkPlusMenuBarMenuMarkOfType" class="upload" src="https://www.emacswiki.org/pics/static/BookmarkPlusMenuBarMenuMarkOfType" /></a></dd></dl></dd><dt><strong>Omit</strong> submenu of <strong>Bookmark+</strong> menu-bar menu</dt><dd><a class="image" href="https://www.emacswiki.org/emacs/BookmarkPlusMenuBarMenuOmit"><img alt="BookmarkPlusMenuBarMenuOmit" class="upload" src="https://www.emacswiki.org/pics/static/BookmarkPlusMenuBarMenuOmit" /></a></dd></dl></dl><p><a class="anchor" name="ShowMenu"></a> </p><dl><dl><dt><strong>Show</strong> submenu of <strong>Bookmark+</strong> menu-bar menu</dt><dd><a class="image" href="https://www.emacswiki.org/emacs/BookmarkPlusMenuBarMenuShow"><img alt="BookmarkPlusMenuBarMenuShow" class="upload" src="https://www.emacswiki.org/pics/static/BookmarkPlusMenuBarMenuShow" /></a><dl><dt><strong>Only Bookmarks of Type</strong> submenu of <strong>Show</strong> submenu of <strong>Bookmark+</strong> menu-bar menu</dt><dd><a class="image" href="https://www.emacswiki.org/emacs/BookmarkPlusMenuBarMenuShowOfType"><img alt="BookmarkPlusMenuBarMenuShowOfType" class="upload" src="https://www.emacswiki.org/pics/static/BookmarkPlusMenuBarMenuShowOfType" /></a></dd></dl></dd><dt><strong>Sort</strong> submenu of <strong>Bookmark+</strong> menu-bar menu</dt><dd><a class="image" href="https://www.emacswiki.org/emacs/BookmarkPlusMenuBarMenuSort"><img alt="BookmarkPlusMenuBarMenuSort" class="upload" src="https://www.emacswiki.org/pics/static/BookmarkPlusMenuBarMenuSort" /></a></dd><dt><strong>Search</strong> submenu of <strong>Bookmark+</strong> menu-bar menu</dt><dd><a class="image" href="https://www.emacswiki.org/emacs/BookmarkPlusMenuBarMenuSearch"><img alt="BookmarkPlusMenuBarMenuSearch" class="upload" src="https://www.emacswiki.org/pics/static/BookmarkPlusMenuBarMenuSearch" /></a></dd><dt><strong>Tags</strong> submenu of <strong>Bookmark+</strong> menu-bar menu</dt><dd><a class="image" href="https://www.emacswiki.org/emacs/BookmarkPlusMenuBarMenuTags"><img alt="BookmarkPlusMenuBarMenuTags" class="upload" src="https://www.emacswiki.org/pics/static/BookmarkPlusMenuBarMenuTags" /></a></dd><dt><strong>Highlight</strong> submenu of <strong>Bookmark+</strong> menu-bar menu</dt><dd><a class="image" href="https://www.emacswiki.org/emacs/BookmarkPlusMenuBarMenuHighlight"><img alt="BookmarkPlusMenuBarMenuHighlight" class="upload" src="https://www.emacswiki.org/pics/static/BookmarkPlusMenuBarMenuHighlight" /></a></dd></dl></dl><p><a class="anchor" name="ToggleMenu"></a> </p><dl><dl><dt><strong>Toggle</strong> submenu of <strong>Bookmark+</strong> menu-bar menu</dt><dd><a class="image" href="https://www.emacswiki.org/emacs/BookmarkPlusMenuBarMenuToggle"><img alt="BookmarkPlusMenuBarMenuToggle" class="upload" src="https://www.emacswiki.org/pics/static/BookmarkPlusMenuBarMenuToggle" /></a></dd><dt><strong>Bookmark File</strong> submenu of <strong>Bookmark+</strong> menu-bar menu</dt><dd><a class="image" href="https://www.emacswiki.org/emacs/BookmarkPlusMenuBarMenuBookmarkFile"><img alt="BookmarkPlusMenuBarMenuBookmarkFile" class="upload" src="https://www.emacswiki.org/pics/static/BookmarkPlusMenuBarMenuBookmarkFile" /></a></dd><dt><strong>Define Command</strong> submenu of <strong>Bookmark+</strong> menu-bar menu</dt><dd><a class="image" href="https://www.emacswiki.org/emacs/BookmarkPlusMenuBarMenuDefineCommand"><img alt="BookmarkPlusMenuBarMenuDefineCommand" class="upload" src="https://www.emacswiki.org/pics/static/BookmarkPlusMenuBarMenuDefineCommand" /></a></dd></dl></dl><p><a class="anchor" name="VanillaBookmarksMenu"></a> </p><h3>Vanilla Bookmarks Menu</h3><p>The vanilla <strong>Bookmarks</strong> menu provided by Emacs is typically a submenu of the <strong>Edit</strong> <a class="local" href="https://www.emacswiki.org/emacs/menu_bar">menu bar</a> menu. <strong>Bookmark+</strong> modifies it by adding several <strong>Bookmark+</strong> items and submenus.</p><dl><dt><strong>Bookmarks</strong></dt><dd><a class="image" href="https://www.emacswiki.org/emacs/BookmarkPlusBookmarkMenuBarMenu"><img alt="BookmarkPlusBookmarkMenuBarMenu" class="upload" src="https://www.emacswiki.org/pics/static/BookmarkPlusBookmarkMenuBarMenu" /></a><dl><dt><strong>Jump To</strong> submenu of <strong>Bookmarks</strong> menu-bar menu</dt><dd>Same as <strong>Bookmark+</strong> <a class="local anchor" href="#JumpToMenu">submenu</a> <strong>Jump To</strong></dd><dt><strong>Tags</strong> submenu of <strong>Bookmarks</strong> menu-bar menu</dt><dd><a class="image" href="https://www.emacswiki.org/emacs/BookmarkPlusBookmarksTagsMenu"><img alt="BookmarkPlusBookmarksTagsMenu" class="upload" src="https://www.emacswiki.org/pics/static/BookmarkPlusBookmarksTagsMenu" /></a></dd><dt><strong>Toggle</strong> submenu of <strong>Bookmarks</strong> menu-bar menu</dt><dd>Same as <strong>Bookmark+</strong> <a class="local anchor" href="#ToggleMenu">submenu</a> <strong>Toggle</strong></dd><dt><strong>New/Update</strong> submenu of <strong>Bookmarks</strong> menu-bar menu</dt><dd><a class="image" href="https://www.emacswiki.org/emacs/BookmarkPlusBookmarksNewUpdateMenu"><img alt="BookmarkPlusBookmarksNewUpdateMenu" class="upload" src="https://www.emacswiki.org/pics/static/BookmarkPlusBookmarksNewUpdateMenu" /></a></dd><dt><strong>Delete</strong> submenu of <strong>Bookmarks</strong> menu-bar menu</dt><dd><a class="image" href="https://www.emacswiki.org/emacs/BookmarkPlusBookmarksDeleteMenu"><img alt="BookmarkPlusBookmarksDeleteMenu" class="upload" src="https://www.emacswiki.org/pics/static/BookmarkPlusBookmarksDeleteMenu" /></a></dd><dt><strong>Highlight</strong> submenu of <strong>Bookmarks</strong> menu-bar menu</dt><dd><a class="image" href="https://www.emacswiki.org/emacs/BookmarkPlusBookmarksHighlightMenu"><img alt="BookmarkPlusBookmarksHighlightMenu" class="upload" src="https://www.emacswiki.org/pics/static/BookmarkPlusBookmarksHighlightMenu" /></a></dd></dl></dd></dl><p><a class="anchor" name="VanillaFileMenu"></a> </p><h3>Vanilla File Menu</h3><p><strong>Bookmark+</strong> adds submenu <code>&#x2018;Find File or Autofile&#x2019;</code> to the vanilla <strong>File</strong> menu provided by Emacs.</p><p><a class="image" href="https://www.emacswiki.org/emacs/BookmarkPlusFindFileOrAutofileMenu"><img alt="BookmarkPlusFindFileOrAutofileMenu" class="upload" src="https://www.emacswiki.org/pics/static/BookmarkPlusFindFileOrAutofileMenu" /></a></p><p><a class="anchor" name="BookmarkListHelpScreenshots"></a> </p><h2>`*Bookmark List*' Help Screenshots</h2><p>Here are screenshots for the <code>&#x2018;*Bookmark List*&#x2019;</code> help display (available via `?&#x2019; or <code>&#x2018;C-h m&#x2019;</code>). Yes, the help is so long that several screenshots are required to capture it all.</p><p><a class="image" href="https://www.emacswiki.org/emacs/BookmarkPlusHelp1"><img alt="BookmarkPlusHelp1" class="upload" src="https://www.emacswiki.org/pics/static/BookmarkPlusHelp1" /></a> <a class="image" href="https://www.emacswiki.org/emacs/BookmarkPlusHelp2"><img alt="BookmarkPlusHelp2" class="upload" src="https://www.emacswiki.org/pics/static/BookmarkPlusHelp2" /></a> <a class="image" href="https://www.emacswiki.org/emacs/BookmarkPlusHelp3"><img alt="BookmarkPlusHelp3" class="upload" src="https://www.emacswiki.org/pics/static/BookmarkPlusHelp3" /></a> <a class="image" href="https://www.emacswiki.org/emacs/BookmarkPlusHelp4"><img alt="BookmarkPlusHelp4" class="upload" src="https://www.emacswiki.org/pics/static/BookmarkPlusHelp4" /></a> <a class="image" href="https://www.emacswiki.org/emacs/BookmarkPlusHelp5"><img alt="BookmarkPlusHelp5" class="upload" src="https://www.emacswiki.org/pics/static/BookmarkPlusHelp5" /></a> <a class="image" href="https://www.emacswiki.org/emacs/BookmarkPlusHelp6"><img alt="BookmarkPlusHelp6" class="upload" src="https://www.emacswiki.org/pics/static/BookmarkPlusHelp6" /></a> <a class="image" href="https://www.emacswiki.org/emacs/BookmarkPlusHelp7"><img alt="BookmarkPlusHelp7" class="upload" src="https://www.emacswiki.org/pics/static/BookmarkPlusHelp7" /></a></p><hr /><p>Here is an icon you can use to indicate image-file bookmarks in the <code>&#x2018;*Bookmark List*&#x2019;</code> display, if you don&#x2019;t have another that you prefer. Save it and set option <code>&#x2018;bmkp-image-bookmark-image-file&#x2019;</code> to its location.</p><p><a class="image" href="https://www.emacswiki.org/emacs/BookmarkPlusImageFileDefaultIcon"><img alt="BookmarkPlusImageFileDefaultIcon" class="upload" src="https://www.emacswiki.org/pics/static/BookmarkPlusImageFileDefaultIcon" /></a></p><hr /><hr /><p><a class="local" href="https://www.emacswiki.org/emacs/CategoryBookmarking">CategoryBookmarking</a> <a class="local" href="https://www.emacswiki.org/emacs/CategoryHypermedia">CategoryHypermedia</a> <a class="local" href="https://www.emacswiki.org/emacs/CategoryPersistence">CategoryPersistence</a> <a class="local" href="https://www.emacswiki.org/emacs/CategoryProgramming">CategoryProgramming</a> <a class="local" href="https://www.emacswiki.org/emacs/CategoryRegion">CategoryRegion</a> <a class="local" href="https://www.emacswiki.org/emacs/CategoryWThirtyTwo">CategoryWThirtyTwo</a> <a class="local" href="https://www.emacswiki.org/emacs/CategoryProgrammerUtils">CategoryProgrammerUtils</a> <a class="local" href="https://www.emacswiki.org/emacs/SessionManagement">SessionManagement</a> <a class="local" href="https://www.emacswiki.org/emacs/CategoryDirectories">CategoryDirectories</a> <a class="local" href="https://www.emacswiki.org/emacs/CategoryProject">CategoryProject</a></p></div><div class="wrapper close"></div></div><div class="footer"><hr /><span class="translation bar"><br />  <a class="translation new" href="https://www.emacswiki.org/emacs?action=translate;id=BookmarkPlus;missing=de_es_fr_it_ja_ko_pt_ru_se_uk_zh" rel="nofollow">Add Translation</a></span><div class="edit bar"><a accesskey="c" class="comment local" href="https://www.emacswiki.org/emacs/Comments_on_BookmarkPlus">Talk</a> <a accesskey="e" class="edit" href="https://www.emacswiki.org/emacs?action=edit;id=BookmarkPlus" rel="nofollow" title="Click to edit this page">Edit this page</a> <a class="history" href="https://www.emacswiki.org/emacs?action=history;id=BookmarkPlus" rel="nofollow">View other revisions</a> <a class="admin" href="https://www.emacswiki.org/emacs?action=admin;id=BookmarkPlus" rel="nofollow">Administration</a></div><div class="time">Last edited 2018-04-22 17:41 UTC by <a class="author" href="https://www.emacswiki.org/emacs/DrewAdams">DrewAdams</a> <a class="diff" href="https://www.emacswiki.org/emacs?action=browse;diff=2;id=BookmarkPlus" rel="nofollow">(diff)</a></div><div style="float:right; margin-left:1ex;">
<!-- Creative Commons License -->
<a class="licence" href="https://creativecommons.org/licenses/GPL/2.0/"><img alt="CC-GNU GPL" style="border:none" src="/pics/cc-GPL-a.png" /></a>
<!-- /Creative Commons License -->
</div>

<!--
<rdf:RDF xmlns="http://web.resource.org/cc/"
 xmlns:dc="http://purl.org/dc/elements/1.1/"
 xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
<Work rdf:about="">
   <license rdf:resource="https://creativecommons.org/licenses/GPL/2.0/" />
  <dc:type rdf:resource="http://purl.org/dc/dcmitype/Software" />
</Work>

<License rdf:about="https://creativecommons.org/licenses/GPL/2.0/">
   <permits rdf:resource="http://web.resource.org/cc/Reproduction" />
   <permits rdf:resource="http://web.resource.org/cc/Distribution" />
   <requires rdf:resource="http://web.resource.org/cc/Notice" />
   <permits rdf:resource="http://web.resource.org/cc/DerivativeWorks" />
   <requires rdf:resource="http://web.resource.org/cc/ShareAlike" />
   <requires rdf:resource="http://web.resource.org/cc/SourceCode" />
</License>
</rdf:RDF>
-->

<p class="legal">
This work is licensed to you under version 2 of the
<a href="https://www.gnu.org/">GNU</a> <a href="/GPL">General Public License</a>.
Alternatively, you may choose to receive this work under any other
license that grants the right to use, copy, modify, and/or distribute
the work, as long as that license imposes the restriction that
derivative works have to grant the same rights and impose the same
restriction. For example, you may choose to receive this work under
the
<a href="https://www.gnu.org/">GNU</a>
<a href="/FDL">Free Documentation License</a>, the
<a href="https://creativecommons.org/">CreativeCommons</a>
<a href="https://creativecommons.org/licenses/sa/1.0/">ShareAlike</a>
License, the XEmacs manual license, or
<a href="/OLD">similar licenses</a>.
</p>
<p class="legal" style="padding-top: 0.5em">Please note our <a href="/emacs/Privacy">Privacy Statement</a>.</p>
</div>
</body>
</html>
